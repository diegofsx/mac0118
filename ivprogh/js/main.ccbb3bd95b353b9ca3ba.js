!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t():"function"==typeof define&&define.amd?define([],t):"object"==typeof exports?exports.ivprogCore=t():e.ivprogCore=t()}(self,(()=>(()=>{var e,t={6186:e=>{e.exports={pt:{token_missing_one:"Erro de sintaxe: Espera-se $0, mas encontrou-se $1 na linha:$2, coluna:$3",token_missing_two:"Erro de sintaxe: Esperava-se $0 ou $1 mas encontrou-se $2 na liha:$3, coluna: $4",eos_missing:"Falta uma nova linha ou ; na linha: $0, coluna: $1",invalid_type:"$0 na linha: $1, coluna: $2 é um tipo inválido. Os tipos válidos são: $3",invalid_array_dimension:"A dimensão inválida na linha: $0, coluna: $1. Insira um $2 ou identificador válido do mesmo tipo.",invalid_array_size:"O tamnho do vetor/matriz excede o máximo de 2 na linha $0",extra_lines:"Nenhum texto é permitido após '}' em 'programa {...}'",invalid_main_return:"A função $0 declarada na linha $2 deve retornar $1.",invalid_var_declaration:"Erro na linha $0: variáveis só podem ser declaradas no corpo principal da função e nas primeiras linhas, antes de qualquer comando.",invalid_break_command:"Erro na linha $0. O comando $1 não pode ser usado fora de uma estrutura de repetição ou 'escolha...caso'",invalid_terminal:"Não é possível utilizar $0 na expressão da linha: $1, coluna: $2. Tente um valor númerico, variável ou chamada de função.",const_not_init:"Erro na linha: $0, coluna: $1. Uma variável declarada como const deve ser inicializada",id_missing:"Esperava-se um identificador, mas encontrou-se $0 na linha: $1, coluna: $2",invalid_id_format:"$0 na linha: $1, coluna: $2 não é um identificador válido. O símbolo '.' não é permitido neste contexto.",main_missing:"A função principal não foi encontrada",invalid_global_var:"Erro crítico: Chamada inválida da função initGlobal fora do contexto BASE",not_implemented:"Erro interno crítico: A função definida pelo sistema $0 não foi implementada.",function_missing:"A função $0 não foi encontrada",function_missing_full:"A função $0 na linha: $1, coluna: $2 não foi encontrada",invalid_parameters_size_full:"Erro na linha $0: a quantidade de parâmetros fornecidos à função $1 está incorreta. Esperava-se $2, encontrou-se $3.",invalid_parameters_size:"A quantidade de parâmetros fornecidos à função $0 está incorreta. Esperava-se $1, encontrou-se $2",invalid_ref_full:"A expressão $0 fornecida como parâmetro para a função $1 na linha $2 não é válida para esta função. Use uma variável ou posição de vetor.",invalid_ref:"A expressão $0 fornecida como parâmetro para a função $1 não é válida para esta função. Use uma variável ou posição de vetor.",invalid_parameter_type_full:"A expressão $0 fornecida como parâmetro para a função $1 na linha $2 não é compatível com o tipo esperado.",invalid_parameter_type:"A expressão $0 fornecida como parâmetro para a função $1 não é compatível com o tipo esperado.",unknown_command_full:"Erro interno crítico: comando desconhecido encontrado na linha $0",unknown_command:"Erro interno crítico: comando desconhecido encontrado!",loop_condition_type_full:"Erro na linha: $0, coluna $1: a condição $2 do laço de repetição deve ser do tipo lógico",loop_condition_type:"A condição $0 do laço de repetição deve ser do tipo lógico",endless_loop_full:"Possível laço infinito detectado no seu código. Verifique a linha $0",endless_loop:"Possível laço infinito detectado no seu código.",for_condition_type_full:"Erro na linha: $0, coluna $1: a condição de parada $2 do comando para(...) deve ser do tipo lógico",for_condition_type:"A condição de parada $0 do comando para(...) deve ser do tipo lógico",if_condition_type_full:"Erro na linha: $0, coluna $1: a condição $2 do comando se...senao deve ser do tipo lógico",if_condition_type:"A condição $0 do comando se...senao deve ser do tipo lógico",invalid_return_type_full:"Erro na linha $0: a expressão não produz um tipo compatível com a função $1. Tipo esperado: $2.",invalid_return_type:"A expressão não produz um tipo compatível com a função $0. Tipo esperado: $1.",invalid_void_return_full:"Erro na linha $0: a função $1 não pode retornar uma expressão vazia, use uma espressão do tipo $2",invalid_void_return:"A função $0 não pode retornar uma expressão vazia, use uma espressão do tipo $1",unexpected_break_command_full:"Erro interno crítico: comando pare encontrado fora do contexto de um laço/escolha..caso na linha $0",unexpected_break_command:"Erro interno crítico: comando pare encontrado fora do contexto de um laço/escolha..caso",invalid_dimension:"As dimensões de um vetor/matriz devem ser do tipo inteiro",void_in_expression_full:"Erro na linha: $0, coluna: $1: a função $2 não pode ser utilizada em uma expressão pois seu tipo de retorno é vazio",void_in_expression:"A função $0 não pode ser utilizada em uma expressão pois seu tipo de retorno é vazio",invalid_array_access_full:"Identificador $0 na linha: $1, coluna: $2 não se refere a um vetor/matriz válido",invalid_array_access:"Identificador $0 não se refere a um vetor/matriz válido",invalid_matrix_access_full:"Identificador $0 na linha: $1, coluna: $2 não se refere a uma matriz válida",invalid_matrix_access:"Identificador $0 não se refere a uma matriz válida",matrix_column_outbounds_full:"Erro na linha $0: número de colunas $1 é inválido para a matriz $2 que possui $3 colunas",matrix_column_outbounds:"Número de colunas $0 é inválido para a matriz $1 que possui $2 colunas",matrix_line_outbounds_full:"Erro na linha $0: número de linhas $1 é inválido para a matriz $2 que possui $3 linhas",matrix_line_outbounds:"Número de linhas $0 é inválido para a matriz $1 que possui $2 linhas",vector_line_outbounds_full:"Erro na linha $0: O número de elementos $1 é inválido para a vetor $2 que possui $3 elementos.",vector_line_outbounds:"O número de elementos $1 é inválido para a vetor $2 que possui $3 elementos.",vector_not_matrix_full:"Erro na linha $0: $1 não é uma matriz",vector_not_matrix:"$0 não é uma matriz",invalid_infix_op_full:"Erro na linha $0: a expressão $1 é inválida, pois o operador $2 não pode ser aplicado aos tipos $3 e $4",invalid_infix_op:"A expressão $0 é inválida, pois o operador $1 não pode ser aplicado aos tipos $2 e $3",invalid_unary_op_full:"Erro na linha $0: a expressão $1 é inválida, pois o operador $2 não pode ser aplicado ao tipo $3",invalid_unary_op:"A expressão $0 é inválida, pois o operador $1 não pode ser aplicado ao tipo $2",unknown_op:"Erro interno crítico: Operação $0 desconhecida",duplicate_function:"A função $0 na linha: $1, coluna: $2 já foi definida anteriormente.",duplicate_variable:"A variável $0 na linha: $1, coluna: $2 já foi declarada anteriormente.",main_parameters:"A função inicio não pode ter parâmetros.",symbol_not_found_full:"A variável $0 na linha: $1, coluna: $2 não foi declarada",symbol_not_found:"A variável $0 não foi declarada",array_dimension_not_int_full:"As dimensões do arranjo (vetor ou matriz) na linha $0 devem ser do tipo inteiro.",array_dimension_not_int:"As dimensões de um arranjo (vetor ou matriz) devem ser do tipo inteiro.",array_dimension_not_positive_full:"As dimensões do arranjo (vetor ou matriz) na linha $0 devem ser valores positivos.",array_dimension_not_positive:"As dimensões de um arranjo (vetor ou matriz) devem ser valores positivos.",incompatible_types_full:"Era esperado um $0 mas a expressão $1 na linha $2 resulta em $3.",incompatible_types:"Era esperado um $0 mas a expressão $1 resulta em $2.",incompatible_types_array_full:"A expressão $0 na linha $2 é incompatível com o tipo $1.",incompatible_types_array:"A expressão $0 é incompatível com o tipo $1.",invalid_case_type_full:"O caso $0 na linha $1 é incompatível com o tipo $2.",invalid_case_type:"O caso $0 é incompatível com o tipo $1.",function_no_return:"A função $0 não possui um comando de devolução acessível. Toda função deve ter ao menos um comando 'devolva' no seu corpo principal.",invalid_array_literal_type_full:"Erro na linha $0: a expressão $1 não resulta em um tipo compatível.",invalid_array_literal_type:"A expressão $0 não resulta em um tipo compatível.",invalid_array_literal_line_full:"Erro na linha $0: esperava-se $1 linhas mas encontrou $2.",invalid_array_literal_line:"Esperava-se $0 linhas mas encontrou $1.",invalid_array_literal_column_full:"Erro na linha $0: esperava-se $1 colunas mas encontrou $2.",invalid_array_literal_column:"Esperava-se $0 colunas mas encontrou $1.",exceeded_input_request:"A quantidade de leituras requisitadas execedeu a quantidade de entradas disponíveis.",test_case_few_reads:"Caso de teste $0 falhou: ainda restam entradas!",test_case_failed:"<div class='assessment-div-detail' onClick='ivprogCore.openAssessmentDetail(event)' data-page=\"$1\"> <span>Caso de teste $0 não executou com sucesso.</span></div>",test_case_failed_exception:"<div class='assessment-div-detail' onClick='ivprogCore.openAssessmentDetail(event)' data-page=\"$2\"> <span>Caso de teste $0 falhou</span>: $1",test_case_exception:"Ocorreu uma exceção no caso de teste $0: $1",invalid_type_conversion:"O valor $0 não pode ser convertido para o tipo $1",invalid_read_type:"Erro na linha $0: A entrada \"$1\" não é do tipo $2, que é o tipo da variável <span class='ivprog-error-varname'>$3</span>.",invalid_read_type_array:"Erro na linha $0: A entrada \"$1\" não é do tipo $2, que é o tipo aceito pela variável <span class='ivprog-error-varname'>$3</span> que é um $4.",inform_valid_identifier:"Informe um nome válido! O nome não pode ser uma palavra reservadas e deve começar com letras ou _ e conter apenas letras, números e _.",inform_valid_global_duplicated:"Já existe uma variável global com o nome <span class='ivprog-error-varname'>$0</span>, você precisa de nomes distintos.",inform_valid_variable_duplicated:"Já existe uma variável com o nome <span class='ivprog-error-varname'>$0</span> na função <span class='ivprog-error-varname'>$1</span>, você precisa de nomes distintos.",inform_valid_function_duplicated:"Já existe uma função com o nome <span class='ivprog-error-varname'>$0</span>, você precisa de nomes distintos.",inform_valid_param_duplicated:"Já existe um parâmetro com o nome <span class='ivprog-error-varname'>$0</span> na função <span class='ivprog-error-varname'>$1</span>, você precisa de nomes distintos.",invalid_character:"O caractere $0 na linha $1 não pode ser utilizado neste contexto.",invalid_syntax:"O iVProg não reconhece o texto $0 na linha $1. Certifique-se que não há erro de digitação ou caractere inválido.",annonymous_array_literal:"Erro na linha $0: a notação de vetor/matriz só permitida durante a inicialização de uma variável desse tipo. Ex: inteiro vec[3] ← {1,2,3}.",invalid_matrix_literal_line:"A expressão $0 na linha $1 não possui um número de elementos igual a linha anterior. Todas as linhas de uma matriz devem ter a mesma quantidade de elementos.",cannot_infer_matrix_line:"Não é possível inferir o número de linhas da matriz $0 na linha $1. É necessário que ela seja inicializada ou que o valor seja informado de forma explícita.",cannot_infer_matrix_column:"Não é possível inferir o número de colunas da matriz $0 na linha $1. É necessário que ela seja inicializada ou que o valor seja informado de forma explícita.",cannot_infer_vector_size:"Não é possível inferir o número de elementos do vetor $0 na linha $1. É necessário que ele seja inicializado ou que o valor seja informado de forma explícita",matrix_to_vector_literal_attr:"Erro na linha $0: A expressão $1 representa uma matriz e não pode ser atribuída ao vetor $2.",vector_to_matrix_literal_attr:"Erro na linha $0: A expressão $1 representa um vetor e não pode ser atribuído a matriz $2.",invalid_const_ref_full:"A variável $0 fornecida como parâmetro para a função $1 na linha $2 é uma constante e não pode ser usada neste contexto. Use uma variável ou posição de vetor.",invalid_const_ref:"A variável $0 fornecida como parâmetro para a função $1 é uma constante e não pode ser usada neste contexto. Use uma variável ou posição de vetor.",invalid_const_assignment_full:"Erro na linha $0: $1 é uma constante e portanto não pode ter seu valor alterado",invalid_const_assignment:"$0 é uma constante e portanto não pode ter seu valor alterado",array_init_not_literal:"Erro na linha $0: Vetor/Matriz só pode ser inicializado por literal. Ex: real vetor[] <- {1,2,3}",array_exceeds_2d:"Erro na linha $0: O número máximo de dimensões que um arranjo pode ter é 2. Elemento de 3 ou mais dimensões encontrado!",invalid_matrix_id_dimension:"Erro na linha $0: Você deve definir todas as dimensões da matriz quando uma delas é definida por uma variável! Ex: real mat1[var][5], mat2[5][var]",invalid_vector_init:"Erro na linha $0: Não se pode inicializar um vetor que teve seu tamanho declarado utilizando uma variável! Utilize uma atribuição de vetores ou use um laço de repetição.",invalid_matrix_init:"Erro na linha $0: Não se pode inicializar uma matrix que teve ao menos uma das suas dimensões declaradas utilizando uma variável! Utilize uma atribuição de matrizes ou use um laço de repetição.",invalid_vector_assignment_full:"Erro na linha $0: Só se pode atribuir um vetor a outro desde que eles comportem o mesmo número de elementos. $1 comporta $2 e $3 comporta $4!",invalid_vector_assignment:"Só se pode atribuir um vetor a outro desde que eles comportem o mesmo número de elementos. $0 comporta $1 e $2 comporta $3!",invalid_matrix_assignment_full:"Erro na linha $0: Só se pode atribuir uma matriz a outra desde que ambas possuam dimensões de mesmo tamanho. $1 tem $2 linhas e $3 colunas, enquanto $4 possui $5 linhas e $6 colunas!",invalid_matrix_assignment:"Só se pode atribuir uma matriz a outra desde que ambas possuam dimensões de mesmo tamanho. $0 tem $1 linhas e $2 colunas, enquanto $3 possui $4 linhas e $5 colunas!",matrix_to_vector_attr:"Erro na linha $0: $1 representa uma matriz e não pode ser atribuída ao vetor $2.",vector_to_matrix_attr:"Erro na linha $0: $1 representa um vetor e não pode ser atribuído a matriz $2.",invalid_matrix_index_assign_full:"Erro na linha $0: A posição $1 da matriz $2 aceita apenas vetores de tamanho $3, mas $4 tem tamanho $5",invalid_matrix_index_assign:"A linha $0 da matriz $1 aceita apenas vetores de tamanho $2, mas $3 tem tamanho $4",invalid_number_elements_vector:"Esperava-se por $0 elementos na linha $1 mas a expressão $2 possui $3 elementos.",invalid_number_lines_matrix:"Esperava-se por uma matriz com $0 linhas na linha $1 mas a expressão $2 possui $3 linhas",divsion_by_zero_full:"Erro na linha $0: A expressão $1 resulta em uma divisão por 0.",divsion_by_zero:"A expressão $0 resulta em uma divisão por 0.",undefined_tanget_value:"Erro na linha $0: A tangente de $1° não é indefinida.",negative_log_value:"Erro na linha $0: Não se pode calcular o log de um valor negativo.",invalid_string_index:"Erro na linha $0 durante a execução da função $1: $2 é um índice inválido para a cadeia de texto $3. Os valores válidos vão de 0 à $4",negative_sqrt_value:"Erro na linha $0: Não é permitido calcular a raiz quadrada de um número negativo.",exceeded_recursive_calls:"Erro na execução da linha $0: Número de chamadas recursivas execedeu o limite máximo definido!",invalid_for_variable:"Erro na linha $0: A variavel $1 utilizada no comando repita_para deve ser do tipo inteiro.",invalid_for_from:"Erro na linha $0: O valor $1 passado para o parâmetro 'de' do comando repita_para deve ser do tipo inteiro.",invalid_for_to:"Erro na linha $0: O valor $1 passado para o parâmetro 'para' do comando repita_para deve ser do tipo inteiro.",invalid_for_pass:"Erro na linha $0: O valor $1 passado para o parâmetro 'passo' do comando repita_para deve ser do tipo inteiro.",exceed_max_instructions:"Número de instruções excedeu o limite definido. Certifique-se que seu código não possui laços infinitos ou muitas chamadas de funções recursivas."},en:{token_missing_one:"Syntax error: Expected $0 but found $1 at line:$2, column:$3",token_missing_two:"Syntax error: Expected $0 or $1 but found $2 at line:$3, column: $4",eos_missing:"A new line or a ‘;’ is missing at line: $0, column: $1",invalid_type:"$0 at line: $1, column: $2 is a invalid type. The valid types are: $3",invalid_array_dimension:"Invalid dimension at line: $0, column: $1. Insert a $2 or a valid identifier of the same type.",invalid_array_size:"The array at line $0 exceeds the maximum size of 2.",extra_lines:"No text is allowed after '}' in 'program { … }'",invalid_main_return:"The function $0 declared at line $2 must return $1.",invalid_var_declaration:"Error at line $0: Variables can only be declared in the main body of a function and at the first lines, before any command.",invalid_break_command:"Error at line $0. The command $1 cannot be used outside a loop command or ‘switch ...case’ structure.",invalid_terminal:"It is not possible to use $0 in the expression at line: $1, column: $2. Try a numeric value, variable or function call.",const_not_init:"Error at line: $0, column: $1. A variable declared as const must be initialized.",id_missing:"Expected an identifier but found $0 at line: $1, column: $2.",invalid_id_format:"$0 at line: $1, column: $2 is not a valid identifier. The symbol '.' is not permitted in this context.",main_missing:"The main function was not found. You need to declare a function of return type void named main.",invalid_global_var:"Critical Error: Invalid call of the function IVProgProcessor.initGlobal outside the BASE context.",not_implemented:"Critial internal error: The system defined function $0 was not found.",function_missing:"The function $0 was not found.",function_missing_full:"The function $0 at line: $1, column: $2 was not found.",invalid_parameters_size_full:"Error at line $0: The number of parameters provided to the function $1 is incorrect. It expected $2 but found $3.",invalid_parameters_size:"The number of parameters provided to the function $0 is incorrect. It expected $1 but found $2.",invalid_ref_full:"The expression $0 provided as a parameter to the function $1 at line $2 is not valid in this context. Use a variable or a position of a vector.",invalid_ref:"The expression $0 provided as a parameter to the function $1 is not valid in this context. Use a variable or a position of a vector.",invalid_parameter_type_full:"The expression $0 provided as a parameter to the function $1 at line $2 is not of the expected type.",invalid_parameter_type:"The expression $0 provided as a parameter to the function $1 is not of the expected type.",unknown_command_full:"Internal error: an unknown command found at line $0.",unknown_command:"Internal error: an unknown command found.",loop_condition_type_full:"Error at line: $0, column $1: the condition $2 of the loop must be of type bool (true or false).",loop_condition_type:"The condition $0 of the loop must be of type bool (true or false).",endless_loop_full:"Possible infinite loop detected in your code. Check line $0.",endless_loop:"Possible infinite loop detected in your code.",for_condition_type_full:"Erro na linha: $0, coluna $1: a condição de parada $2 do comando para(...) deve ser do tipo lógico",for_condition_type:"A condição de parada $0 do comando para(...) deve ser do tipo lógico",if_condition_type_full:"Error at line: $0, column $1: the condition $2 in the if … else command must result in a bool (true or false).",if_condition_type:"The condition $0 in the if … else command must result in a bool (true or false).",invalid_return_type_full:"Error at line $0: The expression doest not result in a type compatible with the function $1.  Expected type: $2.",invalid_return_type:"The expression doest not result in a type compatible with the function $0.  Expected type: $1.",invalid_void_return_full:"Error at line $0: The function $1 cannot return an empty expression, use an expression that results in a $2",invalid_void_return:"The function $0 cannot return an empty expression, use an expression that results in a $1",unexpected_break_command_full:"Critical error at line $0:  a break command was found outside a valid context: loop or switch … case structure.",unexpected_break_command:"Critical error:  a break command was found outside a valid context: loop or switch … case structure.",invalid_dimension:"Array (vector or matrix) dimensions must be of type int.",void_in_expression_full:"Error at line: $0, column: $1: The function $2 cannot be used inside an expression since its return type is void.",void_in_expression:"The function $0 cannot be used inside an expression since its return type is void.",invalid_array_access_full:"Identifier $0 at line: $1, column: $2 does not identify a valid vector or matrix.",invalid_array_access:"Identifier $0 does not identify a valid vector or matrix.",invalid_matrix_access_full:"Identifier $0 at line: $1, column: $2 does not identify a valid matrix.",invalid_matrix_access:"Identifier $0 does not identify a valid matrix.",matrix_column_outbounds_full:"Error at line $0: The number of columns $1 is invalid for the matrix $2 which has $3 columns.",matrix_column_outbounds:"The number of columns $0 is invalid for the matrix $1 which has $2 columns.",matrix_line_outbounds_full:"Error at line $0: The number of lines $1 is invalid for matrix $2 which has $3 lines.",matrix_line_outbounds:"The number of lines $0 is invalid for matrix $1 which has $2 lines.",vector_line_outbounds_full:"Error at line $0: The number of elements $1 is invalid for vector $2 which has $3 elements.",vector_line_outbounds:"Error at line $0: The number of elements $1 is invalid for vector $2 which has $3 elements.",vector_not_matrix_full:"Error at line $0: $1 is not a matrix.",vector_not_matrix:"$0 is not a matrix.",invalid_infix_op_full:"Error at line $0:  The expression $1 is not valid because the operator $2 cannot be applied to the types $3 and $4.",invalid_infix_op:"The expression $0 is not valid because the operator $1 cannot be applied to the types $2 and $3.",invalid_unary_op_full:"Error at line $0:  The expression $1 is not valid because the operator $2 cannot be applied to the type $3.",invalid_unary_op:"The expression $0 is not valid because the operator $1 cannot be applied to the type $2.",unknown_op:"Critical error: Unknown operator $0.",duplicate_function:"The function $0 at line: $1, column: $2 has already been declared.",duplicate_variable:"The variable $0 at line: $1, column: $2 has already been declared.",main_parameters:"The main function cannot have parameters.",symbol_not_found_full:"The variable $0 at line: $1, column: $2 has not been declared.",symbol_not_found:"The variable $0 has not been declared.",array_dimension_not_int_full:"The array (vector or matrix) dimensions at line $0 must be of type int.",array_dimension_not_int:"An array (vector or matrix) dimensions must be of type int.",array_dimension_not_positive_full:"The array (vector or matrix) dimensions at line $0 must be positive.",array_dimension_not_positive:"An array (vector or matrix) dimensions must be positive.",incompatible_types_full:"It expected $0 but the expression $1 at line $2 results in $3.",incompatible_types:"It expected $0 but the expression $1 results in $2.",incompatible_types_array_full:"The expression $0 at line $2 is not compatible with type $1.",incompatible_types_array:"The expression $0 is not compatible with type $1.",invalid_case_type_full:"The case expression $0 at line $1 is not compatible with type $2.",invalid_case_type:"The case expression $0 is not compatible with type $1.",function_no_return:"The function $0 does not have a reacheable return command. Every function must have at least one return command in its main body.",invalid_array_literal_type_full:"Error at line $0: the expression $1 does not result in a compatible type.",invalid_array_literal_type:"The expression $0 does not result in a compatible type.",invalid_array_literal_line_full:"Error at line $0: it expected $1 lines but found $2.",invalid_array_literal_line:"It expected $0 lines but found $1.",invalid_array_literal_column_full:"Error at line $0: it expected $1 column but found $2.",invalid_array_literal_column:"It expected $0 column but found $1.",exceeded_input_request:"The amount of reads requested exceeded the amount of inputs available.",test_case_few_reads:"Teste case $0 failed: there are available inputs remaining.",test_case_failed:"<div class='assessment-div-detail' onClick='ivprogCore.openAssessmentDetail(event)' data-page=\"$1\"> <span>Test case $0 did not executed successfully.</span></div>",test_case_failed_exception:"<div class='assessment-div-detail' onClick='ivprogCore.openAssessmentDetail(event)' data-page=\"$2\"> <span>Test case $0 failed</span>: $1",test_case_exception:"An exception has ocurred during the execution of test case $0: $1",invalid_type_conversion:"The value $0 cannot be converted to type $1.",invalid_read_type:"Error at line $0: The input \"$1\" is not of type $2 which is the type of the variable <span class='ivprog-error-varname'>$3</span>.",invalid_read_type_array:"Error at line $0: The input \"$1\" is not of type $2 which is the type  accepted by the variable <span class='ivprog-error-varname'>$3</span> of type $4.",inform_valid_identifier:"Enter a valid identifier! The identifier cannot be a reserved word and it must begin with a letter or _, followed by numbers, letters and _ only.",inform_valid_global_duplicated:"A global variable named <span class='ivprog-error-varname'>$0</span> already exists, you need distinct names for each gloval variable.",inform_valid_variable_duplicated:"A variable named <span class='ivprog-error-varname'>$0</span> already exists, you need distinct names for each variable.",inform_valid_function_duplicated:"A function named <span class='ivprog-error-varname'>$0</span> already exists, you need distinct names for each function.",inform_valid_param_duplicated:"A parameter named <span class='ivprog-error-varname'>$0</span> already exists in function <span class='ivprog-error-varname'>$1</span>, you need distinc names for each parameter.",invalid_character:"The character $0 at line $1 cannot be used in this context.",invalid_syntax:"iVProg does not recognize the text $0 at line $1. Check for typos or invalid character.",annonymous_array_literal:"Error at line $0: the array notation is only permitted during initialization of an array variable. i. e.: int vec[3] ← {1, 2, 3}.",invalid_matrix_literal_line:"The expression $0 at line $1 does not have the same number of elements as the last line. All lines of a matrix must have the same number of elements.",cannot_infer_matrix_line:"It is not possible to infer the number of lines of matrix $0 at line $1. It must be initialized or have its lines explicitly declared.",cannot_infer_matrix_column:"It is not possible to infer the number of columns of matrix $0 at line $1. It must be initialized or have its columns explicitly declared.",cannot_infer_vector_size:"It is not possible to infer the number of elements of vector $0 at line $1. It must be initialized or have its size explicitly declard.",matrix_to_vector_literal_attr:"Error at line $0: The expression $1 represents a matrix and cannot be assigned to the vector $2.",vector_to_matrix_literal_attr:"Error at line $0: The expression $1 represents a vector and cannot be assigned to the matrix $2.",invalid_const_ref_full:"The variable $0 provided as a parameter to the function $1 at line $2 is a constant and cannot be used in this context. Use a non-constant variable or vector position.",invalid_const_ref:"The variable $0 provided as a parameter to the function $1 is a constant and cannot be used in this context. Use a non-constant variable or vector position.",invalid_const_assignment_full:"Error at line $0: $1 is a constant e therefore cannot have its value changed.",invalid_const_assignment:"$0 is a constant e therefore cannot have its value changed.",array_init_not_literal:"Error at line $0: An array (vector or matrix) can only be initialized by an array literal. i.e : real vector[] <- {1,2,3}",array_exceeds_2d:"Error at line $0: The maximum number of dimensions an array can have is 2. An element of 3 or dimensions was found.",invalid_matrix_id_dimension:"Error at line $0: You must define all dimensions of the matrix when one of them is defined by a variable! i.e: real mat1[var][5], mat2[5][var]",invalid_vector_init:"Error at line $0: You cannot initialize a vector when its size is defined by a variable. Use a vector assignment or loop command.",invalid_matrix_init:"Error at line $0: You cannot initialize a matrix when one of its dimensions is defined by a variable. Use a matrix assignment or loop command.",invalid_vector_assignment_full:"Error at line $0: You can only assign a vector to another when both have the same number of elements. $1 has $2 and $3 has $4 elements!",invalid_vector_assignment:"You can only assign a vector to another when both have the same number of elements. $0 has $1 and $2 has $3 elements!",invalid_matrix_assignment_full:"Error at line $0: You can only assign a matrix to another when both have dimensions of the same size. $1 has $2 lines e $3 columns while $4 has $5 lines and $6 columns!",invalid_matrix_assignment:"You can only assign a matrix to another when both have dimensions of the same size. $0 has $1 lines e $2 columns while $3 has $4 lines and $5 columns!",matrix_to_vector_attr:"Error at line $0: $1 represents a matrix and cannot be assigned to the vector $2.",vector_to_matrix_attr:"Error at line $0: $1 represents a vector and cannot be assigned to the matrix $2.",invalid_matrix_index_assign_full:"Error at line $0: The position $1 of the matrix $2 only accepts vectors of size $3 but $4 has size $5.",invalid_matrix_index_assign:"The position $0 of the matrix $1 only accepts vectors of size $2 but $3 has size $4.",invalid_number_elements_vector:"It expected $0 elements at line $1 but the expression $2 has $3 elements.",invalid_number_lines_matrix:"It expected a matrix with $0 lines at line $1 but the expression $2 has $3 lines.",divsion_by_zero_full:"Error at line $0: The expression $1 resuts in a division by zero.",divsion_by_zero:"The expression $0 resuts in a division by zero.",undefined_tanget_value:"Error at line $0: The tangent of $1° is undefined.",negative_log_value:"Error at line $0: You cannot calculate the logarithm of a negative value.",invalid_string_index:"Error at line $0 during the execution of the function $1: $2 is an invalid index for the text string $3. The valid indexes go from 0 to $4.",negative_sqrt_value:"Error at line $0: It is not allowd to calculate the square root of a negative number.",exceeded_recursive_calls:"Error during the execution of line $0: The number of recursive calls exceeded the allowed number of calls.",invalid_for_variable:"Error at line $0: The variable $1 used in the repeat_for command must be of type int.",invalid_for_from:"Error at line $0: The value $1 passed to the parameter 'from' of the repeat_for command must be of type int.",invalid_for_to:"Error at line $0: The value $1 passed to the parameter 'to' of the repeat_for command must be of type int.",invalid_for_pass:"Error at line $0: The value $1 passed to the parameter 'pass' of the repeat_for command must be of type int.",exceed_max_instructions:"The number of instructions executed by your program exceed the defined limit. Check your code for infinite loops or excessive recursive functions calls."},es:{token_missing_one:"Syntax error: Expected $0 but found $1 at line:$2, column:$3",token_missing_two:"Syntax error: Expected $0 or $1 but found $2 at line:$3, column: $4",eos_missing:"A new line or a ‘;’ is missing at line: $0, column: $1",invalid_type:"$0 at line: $1, column: $2 is a invalid type. The valid types are: $3",invalid_array_dimension:"Invalid dimension at line: $0, column: $1. Insert a $2 or a valid identifier of the same type.",invalid_array_size:"The array at line $0 exceeds the maximum size of 2.",extra_lines:"No text is allowed after '}' in 'program { … }'",invalid_main_return:"The function $0 declared at line $2 must return $1.",invalid_var_declaration:"Error at line $0: Variables can only be declared in the main body of a function and at the first lines, before any command.",invalid_break_command:"Error at line $0. The command $1 cannot be used outside a loop command or ‘switch ...case’ structure.",invalid_terminal:"It is not possible to use $0 in the expression at line: $1, column: $2. Try a numeric value, variable or function call.",const_not_init:"Error at line: $0, column: $1. A variable declared as const must be initialized.",id_missing:"Expected an identifier but found $0 at line: $1, column: $2.",invalid_id_format:"$0 at line: $1, column: $2 is not a valid identifier. The symbol '.' is not permitted in this context.",main_missing:"The main function was not found. You need to declare a function of return type void named main.",invalid_global_var:"Critical Error: Invalid call of the function IVProgProcessor.initGlobal outside the BASE context.",not_implemented:"Critial internal error: The system defined function $0 was not found.",function_missing:"The function $0 was not found.",function_missing_full:"The function $0 at line: $1, column: $2 was not found.",invalid_parameters_size_full:"Error at line $0: The number of parameters provided to the function $1 is incorrect. It expected $2 but found $3.",invalid_parameters_size:"The number of parameters provided to the function $0 is incorrect. It expected $1 but found $2.",invalid_ref_full:"The expression $0 provided as a parameter to the function $1 at line $2 is not valid in this context. Use a variable or a position of a vector.",invalid_ref:"The expression $0 provided as a parameter to the function $1 is not valid in this context. Use a variable or a position of a vector.",invalid_parameter_type_full:"The expression $0 provided as a parameter to the function $1 at line $2 is not of the expected type.",invalid_parameter_type:"The expression $0 provided as a parameter to the function $1 is not of the expected type.",unknown_command_full:"Internal error: an unknown command found at line $0.",unknown_command:"Internal error: an unknown command found.",loop_condition_type_full:"Error at line: $0, column $1: the condition $2 of the loop must be of type bool (true or false).",loop_condition_type:"The condition $0 of the loop must be of type bool (true or false).",endless_loop_full:"Possible infinite loop detected in your code. Check line $0.",endless_loop:"Possible infinite loop detected in your code.",for_condition_type_full:"Erro na linha: $0, coluna $1: a condição de parada $2 do comando para(...) deve ser do tipo lógico",for_condition_type:"A condição de parada $0 do comando para(...) deve ser do tipo lógico",if_condition_type_full:"Error at line: $0, column $1: the condition $2 in the if … else command must result in a bool (true or false).",if_condition_type:"The condition $0 in the if … else command must result in a bool (true or false).",invalid_return_type_full:"Error at line $0: The expression doest not result in a type compatible with the function $1.  Expected type: $2.",invalid_return_type:"The expression doest not result in a type compatible with the function $0.  Expected type: $1.",invalid_void_return_full:"Error at line $0: The function $1 cannot return an empty expression, use an expression that results in a $2",invalid_void_return:"The function $0 cannot return an empty expression, use an expression that results in a $1",unexpected_break_command_full:"Critical error at line $0:  a break command was found outside a valid context: loop or switch … case structure.",unexpected_break_command:"Critical error:  a break command was found outside a valid context: loop or switch … case structure.",invalid_dimension:"Array (vector or matrix) dimensions must be of type int.",void_in_expression_full:"Error at line: $0, column: $1: The function $2 cannot be used inside an expression since its return type is void.",void_in_expression:"The function $0 cannot be used inside an expression since its return type is void.",invalid_array_access_full:"Identifier $0 at line: $1, column: $2 does not identify a valid vector or matrix.",invalid_array_access:"Identifier $0 does not identify a valid vector or matrix.",invalid_matrix_access_full:"Identifier $0 at line: $1, column: $2 does not identify a valid matrix.",invalid_matrix_access:"Identifier $0 does not identify a valid matrix.",matrix_column_outbounds_full:"Error at line $0: The number of columns $1 is invalid for the matrix $2 which has $3 columns.",matrix_column_outbounds:"The number of columns $0 is invalid for the matrix $1 which has $2 columns.",matrix_line_outbounds_full:"Error at line $0: The number of lines $1 is invalid for matrix $2 which has $3 lines.",matrix_line_outbounds:"The number of lines $0 is invalid for matrix $1 which has $2 lines.",vector_line_outbounds_full:"Error at line $0: The number of elements $1 is invalid for vector $2 which has $3 elements.",vector_line_outbounds:"Error at line $0: The number of elements $1 is invalid for vector $2 which has $3 elements.",vector_not_matrix_full:"Error at line $0: $1 is not a matrix.",vector_not_matrix:"$0 is not a matrix.",invalid_infix_op_full:"Error at line $0:  The expression $1 is not valid because the operator $2 cannot be applied to the types $3 and $4.",invalid_infix_op:"The expression $0 is not valid because the operator $1 cannot be applied to the types $2 and $3.",invalid_unary_op_full:"Error at line $0:  The expression $1 is not valid because the operator $2 cannot be applied to the type $3.",invalid_unary_op:"The expression $0 is not valid because the operator $1 cannot be applied to the type $2.",unknown_op:"Critical error: Unknown operator $0.",duplicate_function:"The function $0 at line: $1, column: $2 has already been declared.",duplicate_variable:"The variable $0 at line: $1, column: $2 has already been declared.",main_parameters:"The main function cannot have parameters.",symbol_not_found_full:"The variable $0 at line: $1, column: $2 has not been declared.",symbol_not_found:"The variable $0 has not been declared.",array_dimension_not_int_full:"The array (vector or matrix) dimensions at line $0 must be of type int.",array_dimension_not_int:"An array (vector or matrix) dimensions must be of type int.",array_dimension_not_positive_full:"The array (vector or matrix) dimensions at line $0 must be positive.",array_dimension_not_positive:"An array (vector or matrix) dimensions must be positive.",incompatible_types_full:"It expected $0 but the expression $1 at line $2 results in $3.",incompatible_types:"It expected $0 but the expression $1 results in $2.",incompatible_types_array_full:"The expression $0 at line $2 is not compatible with type $1.",incompatible_types_array:"The expression $0 is not compatible with type $1.",invalid_case_type_full:"The case expression $0 at line $1 is not compatible with type $2.",invalid_case_type:"The case expression $0 is not compatible with type $1.",function_no_return:"The function $0 does not have a reacheable return command. Every function must have at least one return command in its main body.",invalid_array_literal_type_full:"Error at line $0: the expression $1 does not result in a compatible type.",invalid_array_literal_type:"The expression $0 does not result in a compatible type.",invalid_array_literal_line_full:"Error at line $0: it expected $1 lines but found $2.",invalid_array_literal_line:"It expected $0 lines but found $1.",invalid_array_literal_column_full:"Error at line $0: it expected $1 column but found $2.",invalid_array_literal_column:"It expected $0 column but found $1.",exceeded_input_request:"The amount of reads requested exceeded the amount of inputs available.",test_case_few_reads:"Teste case $0 failed: there are available inputs remaining.",test_case_failed:"<div class='assessment-div-detail' onClick='ivprogCore.openAssessmentDetail(event)' data-page=\"$1\"> <span>Test case $0 did not executed successfully.</span></div>",test_case_failed_exception:"<div class='assessment-div-detail' onClick='ivprogCore.openAssessmentDetail(event)' data-page=\"$2\"> <span>Test case $0 failed</span>: $1",test_case_exception:"An exception has ocurred during the execution of test case $0: $1",invalid_type_conversion:"The value $0 cannot be converted to type $1.",invalid_read_type:"Error at line $0: The input \"$1\" is not of type $2 which is the type of the variable <span class='ivprog-error-varname'>$3</span>.",invalid_read_type_array:"Error at line $0: The input \"$1\" is not of type $2 which is the type  accepted by the variable <span class='ivprog-error-varname'>$3</span> of type $4.",inform_valid_identifier:"Enter a valid identifier! The identifier cannot be a reserved word and it must begin with a letter or _, followed by numbers, letters and _ only.",inform_valid_global_duplicated:"A global variable named <span class='ivprog-error-varname'>$0</span> already exists, you need distinct names for each gloval variable.",inform_valid_variable_duplicated:"A variable named <span class='ivprog-error-varname'>$0</span> already exists, you need distinct names for each variable.",inform_valid_function_duplicated:"A function named <span class='ivprog-error-varname'>$0</span> already exists, you need distinct names for each function.",inform_valid_param_duplicated:"A parameter named <span class='ivprog-error-varname'>$0</span> already exists in function <span class='ivprog-error-varname'>$1</span>, you need distinc names for each parameter.",invalid_character:"The character $0 at line $1 cannot be used in this context.",invalid_syntax:"iVProg does not recognize the text $0 at line $1. Check for typos or invalid character.",annonymous_array_literal:"Error at line $0: the array notation is only permitted during initialization of an array variable. i. e.: int vec[3] ← {1, 2, 3}.",invalid_matrix_literal_line:"The expression $0 at line $1 does not have the same number of elements as the last line. All lines of a matrix must have the same number of elements.",cannot_infer_matrix_line:"It is not possible to infer the number of lines of matrix $0 at line $1. It must be initialized or have its lines explicitly declared.",cannot_infer_matrix_column:"It is not possible to infer the number of columns of matrix $0 at line $1. It must be initialized or have its columns explicitly declared.",cannot_infer_vector_size:"It is not possible to infer the number of elements of vector $0 at line $1. It must be initialized or have its size explicitly declard.",matrix_to_vector_literal_attr:"Error at line $0: The expression $1 represents a matrix and cannot be assigned to the vector $2.",vector_to_matrix_literal_attr:"Error at line $0: The expression $1 represents a vector and cannot be assigned to the matrix $2.",invalid_const_ref_full:"The variable $0 provided as a parameter to the function $1 at line $2 is a constant and cannot be used in this context. Use a non-constant variable or vector position.",invalid_const_ref:"The variable $0 provided as a parameter to the function $1 is a constant and cannot be used in this context. Use a non-constant variable or vector position.",invalid_const_assignment_full:"Error at line $0: $1 is a constant e therefore cannot have its value changed.",invalid_const_assignment:"$0 is a constant e therefore cannot have its value changed.",array_init_not_literal:"Error at line $0: An array (vector or matrix) can only be initialized by an array literal. i.e : real vector[] <- {1,2,3}",array_exceeds_2d:"Error at line $0: The maximum number of dimensions an array can have is 2. An element of 3 or dimensions was found.",invalid_matrix_id_dimension:"Error at line $0: You must define all dimensions of the matrix when one of them is defined by a variable! i.e: real mat1[var][5], mat2[5][var]",invalid_vector_init:"Error at line $0: You cannot initialize a vector when its size is defined by a variable. Use a vector assignment or loop command.",invalid_matrix_init:"Error at line $0: You cannot initialize a matrix when one of its dimensions is defined by a variable. Use a matrix assignment or loop command.",invalid_vector_assignment_full:"Error at line $0: You can only assign a vector to another when both have the same number of elements. $1 has $2 and $3 has $4 elements!",invalid_vector_assignment:"You can only assign a vector to another when both have the same number of elements. $0 has $1 and $2 has $3 elements!",invalid_matrix_assignment_full:"Error at line $0: You can only assign a matrix to another when both have dimensions of the same size. $1 has $2 lines e $3 columns while $4 has $5 lines and $6 columns!",invalid_matrix_assignment:"You can only assign a matrix to another when both have dimensions of the same size. $0 has $1 lines e $2 columns while $3 has $4 lines and $5 columns!",matrix_to_vector_attr:"Error at line $0: $1 represents a matrix and cannot be assigned to the vector $2.",vector_to_matrix_attr:"Error at line $0: $1 represents a vector and cannot be assigned to the matrix $2.",invalid_matrix_index_assign_full:"Error at line $0: The position $1 of the matrix $2 only accepts vectors of size $3 but $4 has size $5.",invalid_matrix_index_assign:"The position $0 of the matrix $1 only accepts vectors of size $2 but $3 has size $4.",invalid_number_elements_vector:"It expected $0 elements at line $1 but the expression $2 has $3 elements.",invalid_number_lines_matrix:"It expected a matrix with $0 lines at line $1 but the expression $2 has $3 lines.",divsion_by_zero_full:"Error at line $0: The expression $1 resuts in a division by zero.",divsion_by_zero:"The expression $0 resuts in a division by zero.",undefined_tanget_value:"Error at line $0: The tangent of $1° is undefined.",negative_log_value:"Error at line $0: You cannot calculate the logarithm of a negative value.",invalid_string_index:"Error at line $0 during the execution of the function $1: $2 is an invalid index for the text string $3. The valid indexes go from 0 to $4.",negative_sqrt_value:"Error at line $0: It is not allowd to calculate the square root of a negative number.",exceeded_recursive_calls:"Error during the execution of line $0: The number of recursive calls exceeded the allowed number of calls.",invalid_for_variable:"Error at line $0: The variable $1 used in the repeat_for command must be of type int.",invalid_for_from:"Error at line $0: The value $1 passed to the parameter 'from' of the repeat_for command must be of type int.",invalid_for_to:"Error at line $0: The value $1 passed to the parameter 'to' of the repeat_for command must be of type int.",invalid_for_pass:"Error at line $0: The value $1 passed to the parameter 'pass' of the repeat_for command must be of type int.",exceed_max_instructions:"The number of instructions executed by your program exceed the defined limit. Check your code for infinite loops or excessive recursive functions calls."}}},7597:e=>{e.exports={pt:{test_case_success:"<div class='assessment-div-detail' onClick='ivprogCore.openAssessmentDetail(event)' data-page=\"$1\"><span>Caso de teste $0</span>: OK</div>",test_case_duration:"Levou $0ms",test_suite_grade:"A sua solução alcançou $0% da nota.",awaiting_input_message:"O seu programa está em execução e aguardando uma entrada! Digite algo e pressione ENTER...","assessment-empty-expected-tooltip":"A saída gerada foi além do esperado","assessment-empty-generated-tooltip":"O programa não gerou saídas suficientes",testcase_autogen_unused_input:"A solução submetida não lê todas entradas disponíveis no caso de teste 1",testcase_autogen_empty:"Sua solução não gerou qualquer saída para o caso de teste $0.",success_execution:"Execução do programa finalizada!",aborted_execution:"A execução do programa foi interrompida!",unexpected_execution_error:"Erro inesperado durante a execução do programa."},en:{test_case_success:"<div class='assessment-div-detail' onClick='ivprogCore.openAssessmentDetail(event)' data-page=\"$1\"><span>Test case $0</span>: OK</div>",test_case_duration:"Took $0ms",test_suite_grade:"Your solution scored $0% of the grade.",awaiting_input_message:"Your program is running and awaiting for an input. Type something and press ENTER…","assessment-empty-expected-tooltip":"The generated output was beyond the amount expected","assessment-empty-generated-tooltip":"The program did not generate enough outputs",testcase_autogen_unused_input:"The submitted solution does not read all inputs available in the test case $0",testcase_autogen_empty:"Your solution did not generate any output for test case $0.",success_execution:"Program execution finished!",aborted_execution:"Program execution was aborted!",unexpected_execution_error:"Unexpected error during program execution."},es:{test_case_success:"<div class='assessment-div-detail' onClick='ivprogCore.openAssessmentDetail(event)' data-page=\"$1\"><span>Test case $0</span>: OK</div>",test_case_duration:"Tardó $0ms",test_suite_grade:"Su solución obtuvo $0% de la calificación.",awaiting_input_message:"Su programa se está ejecutando y esperando una entrada. Escriba algo y presione ENTER ...","assessment-empty-expected-tooltip":"The generated output was beyond the amount expected","assessment-empty-generated-tooltip":"El programa no generó suficientes resultados.",testcase_autogen_unused_input:"La solución presentada no lee todas las entradas disponibles en el caso de prueba 1",testcase_autogen_empty:"Su solución no generó ningún resultado para el caso de prueba de $ 0.",success_execution:"¡Ejecución del programa terminada!",aborted_execution:"¡La ejecución del programa fue abortada!",unexpected_execution_error:"Error inesperado durante la ejecución del programa."}}},7548:e=>{e.exports={pt:{function:"funcao",btn_clear:"Limpar",btn_function:"Função",btn_arithmetic_plus:"Adição",btn_arithmetic_minus:"Subtração",btn_arithmetic_multiplication:"Multiplicação",btn_arithmetic_division:"Divisão",btn_arithmetic_module:"Módulo",btn_break:"Pare",btn_case:"Caso",btn_add_var:"Adicionar variável",btn_drag_and_drop_function:"Mover função",btn_delete_function:"Excluir função",expression_invalid:"Expressão inválida. Verifique a sintáxe antes de continuar.",expression_undelcared_variable:"Variáveis não declaradas:",expression_undeclared_function:"Funções não definidas:",start:"inicio",type_void:"vazio",type_integer:"inteiro",logic_operator_and:"E",logic_operator_or:"OU",logic_operator_not:"nao",type_real:"real",program:"programa",type_text:"cadeia",textvar_default_value:"texto",type_boolean:"logico",logic_value_true:"verdadeiro",logic_value_false:"falso",variable:"Variável",command:"Comando",new_parameter:"parametro",new_variable:"variavel",new_global:"global",new_function:"nova_funcao",matrix:"matriz",vector:"vetor",text_lock_expression:"Bloquear expressão",text_unlock_expression:"Desbloquear expressão",text_edit_expression:"Editar expressão manualmente",text_edit_expression_confirm:"Confirmar edição",text_edit_expression_cancel:"Cancelar edição",text_add_function:"Adicionar uma nova função ao programa",text_move_command:"Mover comando",text_add_parameters:"Adicionar um novo parâmetro",text_parameter_reference:"Definir parâmetro como passagem por referência",text_parameter_copy:"Definir parâmetro como passagem por cópia",text_comment_start:"Comentário inicial da função...",text_comment_main:"Esta é a função principal...",text_read_var:"Entrada/Leitura de dados",text_write_var:"Saída/Escrita de dados",text_command_read:"leia",text_command_write:"escreva",text_return:"devolva",text_btn_return:"Devolver",text_comment:"Comentário",string_join_or:"ou",matrix_info_string:"matriz de $0",vector_info_string:"vetor de $0",text_attribution:"Atribuição",text_if:"se",text_break:"pare",text_else:"senao",text_for:"repita_para",text_code_while:"repita_enquanto",text_code_do:"repita",text_code_do_until:"ate_que",text_command_do:"repita",text_command_while:"repita enquanto",text_command_do_until:"até que",text_code_switch:"escolha",text_code_case:"caso",text_config_programming:"Programação",text_config_programming_both:"Visual e textual",text_config_programming_textual:"Textual",text_config_programming_visual:"Visual",text_logic_expression:"Lógicos",text_arithmetic_expression:"Aritméticos",text_iftrue:"Se condição senão",text_message_error_activity_file:"Aconteceu um erro ao processar a atividade. <br> Recarregue a página para tentar novamente.",text_message_error_upload_file:"Não foi possível carregar o arquivo.<br>Verifique o conteúdo do arquivo e tente novamente.",text_message_error_upload_close:"Fechar",text_message_error_activity_reload:"Recarregar",text_repeatNtimes:"Repita N vezes",text_receives:"recebe",text_whiletrue:"Enquanto verdadeiro",text_dowhiletrue:"Repita até que verdadeiro",text_switch:"Escolha",text_functioncall:"Chamada de função",text_value:"Valor",text_operator:"Operador",text_parentheses:"Parênteses",text_change:"Alterar",text_teacher_algorithm:"Algoritmo",text_teacher_algorithm_include:"Incluir o algoritmo abaixo no exercício",text_teacher_test_case:"Casos de teste",text_teacher_config:"Configurações",text_teacher_data_types:"Tipos de dados",text_teacher_commands:"Comandos",text_teacher_functions:"Funções",text_teacher_create_functions:"Criar novas funções",text_teacher_create_movement_functions:"Movimentar funções",text_teacher_test_case_input:"Entrada",text_teacher_test_case_output:"Saída",text_teacher_test_case_actions:"Ações",text_teacher_test_case_add:"Adicionar caso de teste",text_header_ivprog_functions:"Funções do iVProg",text_menu_functions_math:"Matemática",text_menu_functions_text:"Texto",text_menu_functions_array:"Arranjo",text_menu_functions_conversion:"Conversão",text_no_variable:"Nenhuma variável declarada",text_no_variable_instruction:"Antes de utilizar uma variável, é necessário criá-la",text_ivprog_description:"Programação Visual interativa na Internet",tooltip_visual:"Programação visual",tooltip_textual:"Programação textual",tooltip_upload:"Upload de código fonte",tooltip_download:"Download do código fonte",tooltip_undo:"Desfazer",tooltip_redo:"Refazer",tooltip_run:"Executar o programa",tooltip_evaluate:"Avaliar o programa",tooltip_help:"Ajuda",tooltip_add_global:"Adicionar variável global",tooltip_hide_function:"Ocultar os elementos da função",var_menu_select_var:"Selecione uma variável",var_menu_select_all:"Selecione",var_menu_select_function:"Selecione uma função",expression_menu_select:"Construir uma expressão lógica",inform_valid_content:"Informe o conteúdo!",inform_valid_expression:"Construa uma expressão lógica!",tooltip_terminal_clear:"Limpa o terminal removendo todos os textos já escritos e os pendentes.",tooltip_terminal_show:"Exibe o terminal caso esteja escondido",tooltip_terminal_hide:"Esconde o terminal caso não esteja escondido",tooltip_menu_read:"Comando para receber dados pelo teclado",tooltip_menu_write:"Comando para apresentar conteúdo ao usuário",tooltip_menu_comments:"Bloco para comentários internos do programador",tooltip_menu_attribution:"Comando para atribuir uma expressão a uma variável",tooltip_menu_call_function:"Comando para realizar a chamada de uma função",tooltip_menu_if_else:"Estrutura para que os comandos só sejam executados de acordo com as condições estabelecidas",tooltip_menu_repeat_n_times:"Estrutura para executar um bloco de comandos repetidamente",tooltip_menu_repeat_whiletrue:"Estrutura para repetir um bloco de comandos enquanto a condição for verdadeira",tooltip_menu_repeat_dowhiletrue:"Estrutura que executa um bloco e o repete enquanto a condição for verdadeira",tooltip_menu_repeat_switch:"Estrutura de escolha do bloco a ser executado",tooltip_menu_repeat_return:"Comando para devolver o resultado e finalizar a função",tooltip_move_var:"Mover variável",tooltip_remove_var:"Excluir variável",text_ivprog_version:"Versão",text_teacher_filter:"Filtro",text_teacher_filter_active:"Ativado",text_teacher_filter_help:"Ao ativar o filtro, as modificações do iVProg estarão bloqueadas.",text_join_assessment_outputs:" ; ","assessment-detail-time-label":"Duração","assessment-detail-grade-label":"Nota","assessment-detail-input-label":"Entradas","assessment-detail-output-label":"Saídas","assessment-detail-expected-label":"Esperava","assessment-detail-generated-label":"Gerou","assessment-detail-result-label":"Correção","assessment-detail-title":"Caso de Teste $0",text_teacher_generate_outputs:"Gerar saídas",text_teacher_generate_outputs_algorithm:"Antes de gerar as saídas, elabore um algoritmo!",text_code_for_from:"de",text_code_for_to:"ate",text_code_for_pass:"passo",text_for_from:"de",text_for_to:"até",text_for_pass:"passo",text_relational_expression:"Relacionais",write_command_newline_on:"Quebra de linha ativada",write_command_newline_off:" Quebra de linha desativada",write_seprator_menu_text:"Espaço",initial_program_code:"programa {\\n\\n\\t\\tfuncao vazio inicio () {\\n\\t\\t\\t// Inicie seu codigo aqui!\\n\\t\\t}\\n}",type_char:"caractere",charvar_default_value:"A",write_seprator_menu_tooltip:"Separador para imprimir mais valores/variáveis"},en:{function:"function",btn_clear:"Clean",btn_function:"Function",btn_arithmetic_plus:"Addition",btn_arithmetic_minus:"Subtraction",btn_arithmetic_multiplication:"Multiplication",btn_arithmetic_division:"Division",btn_arithmetic_module:"Remainder",btn_break:"break",btn_case:"Case",btn_add_var:"Add a variable",btn_drag_and_drop_function:"Move function",btn_delete_function:"Delete function",expression_invalid:"Invalid expression. Check the syntax before proceeding.",expression_undelcared_variable:"Undeclared variables:",expression_undeclared_function:"Undefined functions:",start:"main",type_void:"void",type_integer:"int",logic_operator_and:"AND",logic_operator_or:"OR",logic_operator_not:"not",type_real:"real",program:"program",type_text:"string",textvar_default_value:"text",type_boolean:"bool",logic_value_true:"true",logic_value_false:"false",variable:"Variable",command:"Command",new_parameter:"parameter",new_variable:"variable",new_global:"global",new_function:"new_function",matrix:"matrix",vector:"vector",text_lock_expression:"Block expression",text_unlock_expression:"Unlock expression",text_edit_expression:"Edit expression manually",text_edit_expression_confirm:"Confirm edition",text_edit_expression_cancel:"Cancel edition",text_add_function:"Add a new function to the program",text_move_command:"Move command",text_add_parameters:"Add a new parameter",text_parameter_reference:"Define parameter passed by reference",text_parameter_copy:"Define parameter passed by copy",text_comment_start:"Function initial comment",text_comment_main:"This is the main funcion",text_read_var:"Input/Read data",text_write_var:"Output/Write data",text_command_read:"read",text_command_write:"write",text_return:"return",text_btn_return:"Return",text_comment:"Comment",string_join_or:"or",matrix_info_string:"matrix of $0",vector_info_string:"vector of $0",text_attribution:"Assignment",text_if:"if",text_break:"break",text_else:"else",text_for:"repeat_for",text_code_while:"repeat_while",text_code_do:"repeat",text_code_do_until:"until",text_command_do:"repeat",text_command_while:"repeat while",text_command_do_until:"until",text_code_switch:"switch",text_code_case:"case",text_config_programming:"Programming",text_config_programming_both:"Visual & Textual",text_config_programming_textual:"Textual",text_config_programming_visual:"Visual",text_logic_expression:"Logic",text_arithmetic_expression:"Arithmetics",text_iftrue:"If condition else",text_message_error_activity_file:"There was an error processing the activity.<br> Reload the page to try again.",text_message_error_upload_file:"It was not possible upload the file.<br>Verify the file's content and try again.",text_message_error_upload_close:"Close",text_message_error_activity_reload:"Reload",text_repeatNtimes:"Repeat N times",text_receives:"receives",text_whiletrue:"While true",text_dowhiletrue:"Repeat until true",text_switch:"Switch",text_functioncall:"Function call",text_value:"Value",text_operator:"Operator",text_parentheses:"Parentheses",text_change:"Modify",text_teacher_algorithm:"Algorithm",text_teacher_algorithm_include:"Include the algorithm below in the activity",text_teacher_test_case:"Test cases",text_teacher_config:"Configurations",text_teacher_data_types:"Data types",text_teacher_commands:"Commands",text_teacher_functions:"Functions",text_teacher_create_functions:"Create new functions",text_teacher_create_movement_functions:"Move functions",text_teacher_test_case_input:"Input",text_teacher_test_case_output:"Output",text_teacher_test_case_actions:"Actions",text_teacher_test_case_add:"Add test case",text_header_ivprog_functions:"iVProg Functions",text_menu_functions_math:"Math",text_menu_functions_text:"Text",text_menu_functions_array:"Array",text_menu_functions_conversion:"Conversion",text_no_variable:"No variable declared",text_no_variable_instruction:"Before using a variable, you need to create it",text_ivprog_description:"Interactive and Visual Programming on the Internet",tooltip_visual:"Visual programming",tooltip_textual:"Textual programming",tooltip_upload:"Upload source code",tooltip_download:"Download source code",tooltip_undo:"Undo",tooltip_redo:"Redo",tooltip_run:"Run the program",tooltip_evaluate:"Evaluate the program",tooltip_help:"Help",tooltip_add_global:"Add a global variable",tooltip_hide_function:"Hide function elements",var_menu_select_var:"Select a variable",var_menu_select_all:"Select",var_menu_select_function:"Select a function",expression_menu_select:"Construct a logic expression",inform_valid_content:"Provide some data",inform_valid_expression:"Construct a logic expression",tooltip_terminal_clear:"Clears the terminal by removing all wrriten and pending text.",tooltip_terminal_show:"Shows the terminal if it is hidden",tooltip_terminal_hide:"Hides the terminal if it is not on display",tooltip_menu_read:"Command to input data from keyboard",tooltip_menu_write:"Command to present content to user",tooltip_menu_comments:"Block to comments from developer",tooltip_menu_attribution:"Command to assign an expression to a variable",tooltip_menu_call_function:"Command to execute a function call",tooltip_menu_if_else:"Structure in which command only run when the conditions are satisfied",tooltip_menu_repeat_n_times:"Structure to execute a block of commands repeatedly",tooltip_menu_repeat_whiletrue:"Structure to execute a block repeatdly while condition is true",tooltip_menu_repeat_dowhiletrue:"Structure that executes a block and repeat while the condition is true",tooltip_menu_repeat_switch:"Structure that choices the block to be executed",tooltip_menu_repeat_return:"Command to return the result and finish the function",tooltip_move_var:"Move variable",tooltip_remove_var:"Delete variable",text_ivprog_version:"Version",text_teacher_filter:"Filter",text_teacher_filter_active:"Activated",text_teacher_filter_help:"By activating the filter modifications in iVProg will be blocked",text_join_assessment_outputs:" ; ","assessment-detail-time-label":"Duration","assessment-detail-grade-label":"Grade","assessment-detail-input-label":"Inputs","assessment-detail-output-label":"Outputs","assessment-detail-expected-label":"Expected","assessment-detail-generated-label":"Generated","assessment-detail-result-label":"Correction","assessment-detail-title":"Test Case $0",text_teacher_generate_outputs:"Generate outputs",text_teacher_generate_outputs_algorithm:"Before generating the outputs you need to create an algorithm",text_code_for_from:"from",text_code_for_to:"to",text_code_for_pass:"pass",text_for_from:"from",text_for_to:"to",text_for_pass:"pass",text_relational_expression:"Relational",write_command_newline_on:" Line break is on",write_command_newline_off:" Line break is off",write_seprator_menu_text:"Spacer",initial_program_code:"program {\\n\\n\\t\\tfunction void main () {\\n\\t\\t\\t// Start your code here!\\n\\t\\t}\\n}",type_char:"char",charvar_default_value:"A",write_seprator_menu_tooltip:"Separator used to print more values/variables"},es:{function:"function",btn_clear:"Limpiar",btn_function:"Funcíon",btn_arithmetic_plus:"Adición",btn_arithmetic_minus:"Sustracción",btn_arithmetic_multiplication:"Multiplicación",btn_arithmetic_division:"División",btn_arithmetic_module:"Resto",btn_break:"break",btn_case:"Caso",btn_add_var:"Add a variable",btn_drag_and_drop_function:"Mover función",btn_delete_function:"Borrar función",expression_invalid:"Expresión no válida. Verifique la sintaxis antes de continuar.",expression_undelcared_variable:"Variables no declaradas:",expression_undeclared_function:"Funcíon no declaradas:",start:"main",type_void:"void",type_integer:"int",logic_operator_and:"AND",logic_operator_or:"OR",logic_operator_not:"not",type_real:"real",program:"program",type_text:"string",textvar_default_value:"texto",type_boolean:"bool",logic_value_true:"true",logic_value_false:"false",variable:"Variable",command:"Comando",new_parameter:"parametro",new_variable:"variable",new_global:"global",new_function:"nueva_función",matrix:"matriz",vector:"vector",text_lock_expression:"Expresión de bloque",text_unlock_expression:"Desbloquear expresión",text_edit_expression:"Editar expresión manualmente",text_edit_expression_confirm:"Confirmar edición",text_edit_expression_cancel:"Cancelar edición",text_add_function:"Agregar una nueva función al programa",text_move_command:"Mover comando",text_add_parameters:"Agregar un nuevo parámetro",text_parameter_reference:"Define parameter passed by reference",text_parameter_copy:"Define parameter passed by copy",text_comment_start:"Comentario inicial de la función",text_comment_main:"Esta es la función principal",text_read_var:"Entrada/Lectura de dados",text_write_var:"Salida/Escribir datos",text_command_read:"read",text_command_write:"write",text_return:"return",text_btn_return:"Devolución",text_comment:"Comentario",string_join_or:"or",matrix_info_string:"matriz de $0",vector_info_string:"vector de $0",text_attribution:"Asignación",text_if:"if",text_break:"break",text_else:"else",text_for:"repeat_for",text_code_while:"repeat_while",text_code_do:"repeat",text_code_do_until:"until",text_command_do:"repeat",text_command_while:"repeat while",text_command_do_until:"until",text_code_switch:"switch",text_code_case:"case",text_config_programming:"Programación",text_config_programming_both:"Visual & Textual",text_config_programming_textual:"Textual",text_config_programming_visual:"Visual",text_logic_expression:"Lógicos",text_arithmetic_expression:"Aritmética",text_iftrue:"Si condicion sino",text_message_error_activity_file:"Se produjo un error al procesar la actividad.<br> Recargar la página para volver a intentarlo.",text_message_error_upload_file:"text_message_error_upload_file",text_message_error_upload_close:"Close",text_message_error_activity_reload:"Recargar",text_repeatNtimes:"Repetir N veces",text_receives:"receives",text_whiletrue:"Mientras verdad",text_dowhiletrue:"Repita hasta verdad",text_switch:"Switch",text_functioncall:"Llamada de función",text_value:"Valor",text_operator:"Operador",text_parentheses:"Paréntesis",text_change:"Modify",text_teacher_algorithm:"Algorithm",text_teacher_algorithm_include:"Incluir el algoritmo en la actividad.",text_teacher_test_case:"Test cases",text_teacher_config:"Configuraciones",text_teacher_data_types:"Data types",text_teacher_commands:"Commands",text_teacher_functions:"Funciones",text_teacher_create_functions:"Create new functions",text_teacher_create_movement_functions:"Move functions",text_teacher_test_case_input:"Input",text_teacher_test_case_output:"Output",text_teacher_test_case_actions:"Actions",text_teacher_test_case_add:"Add test case",text_header_ivprog_functions:"iVProg Functions",text_menu_functions_math:"Math",text_menu_functions_text:"Text",text_menu_functions_array:"Array",text_menu_functions_conversion:"Conversion",text_no_variable:"No variable declared",text_no_variable_instruction:"Antes de usar una variable, debe crearla",text_ivprog_description:"Interactive and Visual Programming on the Internet",tooltip_visual:"Visual programming",tooltip_textual:"Textual programming",tooltip_upload:"Upload source code",tooltip_download:"Download source code",tooltip_undo:"Undo",tooltip_redo:"Redo",tooltip_run:"Run the program",tooltip_evaluate:"Evaluate the program",tooltip_help:"Help",tooltip_add_global:"Add a global variable",tooltip_hide_function:"Hide function elements",var_menu_select_var:"Select a variable",var_menu_select_all:"Select",var_menu_select_function:"Select a function",expression_menu_select:"Construct a logic expression",inform_valid_content:"Proporcionar algunos datos",inform_valid_expression:"Construct a logic expression",tooltip_terminal_clear:"Borra el terminal eliminando todo el texto escrito y pendiente.",tooltip_terminal_show:"Muestra el terminal si está oculto.",tooltip_terminal_hide:"Oculta el terminal si no está en exhibición",tooltip_menu_read:"Command to input data from keyboard",tooltip_menu_write:"Command to present content to user",tooltip_menu_comments:"Block to comments from developer",tooltip_menu_attribution:"Command to assign an expression to a variable",tooltip_menu_call_function:"Command to execute a function call",tooltip_menu_if_else:"Structure in which command only run when the conditions are satisfied",tooltip_menu_repeat_n_times:"Structure to execute a block of commands repeatedly",tooltip_menu_repeat_whiletrue:"Structure to execute a block repeatdly while condition is true",tooltip_menu_repeat_dowhiletrue:"Structure that executes a block and repeat while the condition is true",tooltip_menu_repeat_switch:"Structure that choices the block to be executed",tooltip_menu_repeat_return:"Command to return the result and finish the function",tooltip_move_var:"Move variable",tooltip_remove_var:"Delete variable",text_ivprog_version:"Version",text_teacher_filter:"Filter",text_teacher_filter_active:"Activated",text_teacher_filter_help:"Al activar el filtro, las modificaciones en iVProg serán bloqueadas",text_join_assessment_outputs:" ;","assessment-detail-time-label":"Duration","assessment-detail-grade-label":"Grade","assessment-detail-input-label":"Inputs","assessment-detail-output-label":"Outputs","assessment-detail-expected-label":"Expected","assessment-detail-generated-label":"Generated","assessment-detail-result-label":"Correction","assessment-detail-title":"Test Case $0",text_teacher_generate_outputs:"Generate outputs",text_teacher_generate_outputs_algorithm:"Antes de generar las salidas necesita crear un algoritmo",text_code_for_from:"from",text_code_for_to:"to",text_code_for_pass:"pass",text_for_from:"from",text_for_to:"to",text_for_pass:"pass",text_relational_expression:"Relational",write_command_newline_on:"El salto de línea está activado",write_command_newline_off:"El salto de línea está desactivado",write_seprator_menu_text:"Spacer",initial_program_code:"program {\\n\\n\\t\\tfunction void main () {\\n\\t\\t\\t// Start your code here!\\n\\t\\t}\\n}",type_char:"char",charvar_default_value:"A",write_seprator_menu_tooltip:"Separator used to print more values/variables"}}},9240:(e,t,n)=>{"use strict";n.r(t),n.d(t,{ActionTypes:()=>mt,CodeEditor:()=>Ar,Config:()=>j.Config,LocalizedStrings:()=>$r,Settings:()=>Rr,addFunctionChangeListener:()=>Ua,addGlobalChangeListener:()=>Ma,autoEval:()=>rr,autoGenerateTestCaseOutput:()=>kr,generateCode:()=>Dn,getLogs:()=>xt,getLogsAsString:()=>bt,getTestCases:()=>wa,i18n:()=>Ir,initVisualUI:()=>xa,levenshteinDistance:()=>We,openAssessmentDetail:()=>Qe,parseCode:()=>Er,parseExpression:()=>wr,parseLogs:()=>wt,prepareActivityToStudentHelper:()=>ir,prepareActivityToStudentHelperJSON:()=>nr,processData:()=>lr,registerClick:()=>vt,registerUserEvent:()=>ht,removeFunctionListener:()=>Da,removeGlobalListener:()=>Fa,runner:()=>lt,setPreviousAlgorithm:()=>tr});var i=n(3038),a=n.n(i),r=n(4575),o=n.n(r),s=n(3913),l=n.n(s),c=n(2205),u=n.n(c),d=n(8585),p=n.n(d),_=n(9754),f=n.n(_),m=function(){function e(){o()(this,e),this._sourceInfo=null,this._parenthesis=!1}return l()(e,[{key:"sourceInfo",set:function(e){this._sourceInfo=e},get:function(){return this._sourceInfo}},{key:"parenthesis",set:function(e){this._parenthesis=e},get:function(){return this._parenthesis}}]),e}();var v=function(e){u()(a,e);var t,n,i=(t=a,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,i=f()(t);if(n){var a=f()(this).constructor;e=Reflect.construct(i,arguments,a)}else e=i.apply(this,arguments);return p()(this,e)});function a(e,t,n){var r;return o()(this,a),(r=i.call(this)).id=e,r.line=t,r.column=n,r}return l()(a,[{key:"toString",value:function(){var e=this.line.toString(),t=null;this.column&&(t=this.column.toString());var n;return n=t?"".concat(this.id,"[").concat(e,"][").concat(t,"]"):"".concat(this.id,"[").concat(e,"]"),this.parenthesis?"(".concat(n,")"):n}}]),a}(m),h=n(6737),g=n(7757),y=n.n(g),x=n(8926),b=n.n(x),w=function(){function e(){o()(this,e),this._sourceInfo=null}return l()(e,[{key:"sourceInfo",set:function(e){this._sourceInfo=e},get:function(){return this._sourceInfo}}]),e}();var E=function(e){u()(a,e);var t,n,i=(t=a,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,i=f()(t);if(n){var a=f()(this).constructor;e=Reflect.construct(i,arguments,a)}else e=i.apply(this,arguments);return p()(this,e)});function a(){return o()(this,a),i.call(this)}return a}(w);var T=function(e){u()(a,e);var t,n,i=(t=a,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,i=f()(t);if(n){var a=f()(this).constructor;e=Reflect.construct(i,arguments,a)}else e=i.apply(this,arguments);return p()(this,e)});function a(e){var t;return o()(this,a),(t=i.call(this)).expression=e,t}return a}(w);var k=function(e){u()(a,e);var t,n,i=(t=a,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,i=f()(t);if(n){var a=f()(this).constructor;e=Reflect.construct(i,arguments,a)}else e=i.apply(this,arguments);return p()(this,e)});function a(e,t){var n;return o()(this,a),(n=i.call(this)).id=e,n.expression=t,n}return a}(w);var A=function(e){u()(a,e);var t,n,i=(t=a,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,i=f()(t);if(n){var a=f()(this).constructor;e=Reflect.construct(i,arguments,a)}else e=i.apply(this,arguments);return p()(this,e)});function a(e,t,n,r){var s;return o()(this,a),(s=i.call(this,e,r)).line=t,s.column=n,s}return a}(k);var R=function(e){u()(a,e);var t,n,i=(t=a,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,i=f()(t);if(n){var a=f()(this).constructor;e=Reflect.construct(i,arguments,a)}else e=i.apply(this,arguments);return p()(this,e)});function a(e,t,n,r){var s;return o()(this,a),(s=i.call(this)).id=e,s.type=t,s.initial=n,s.isConst=r,s}return a}(w);var I=function(e){u()(a,e);var t,n,i=(t=a,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,i=f()(t);if(n){var a=f()(this).constructor;e=Reflect.construct(i,arguments,a)}else e=i.apply(this,arguments);return p()(this,e)});function a(e,t,n,r,s,l){var c;return o()(this,a),(c=i.call(this,e,t,s,l)).lines=n,c.columns=r,c}return l()(a,[{key:"isVector",get:function(){return null==this.columns}}]),a}(R);var C=function(e){u()(a,e);var t,n,i=(t=a,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,i=f()(t);if(n){var a=f()(this).constructor;e=Reflect.construct(i,arguments,a)}else e=i.apply(this,arguments);return p()(this,e)});function a(e,t){var n;return o()(this,a),(n=i.call(this)).expression=e,n.commandBlock=t,n}return l()(a,[{key:"commands",get:function(){return this.commandBlock.commands}},{key:"testFirst",get:function(){return!0}}]),a}(w);var N=function(e){u()(a,e);var t,n,i=(t=a,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,i=f()(t);if(n){var a=f()(this).constructor;e=Reflect.construct(i,arguments,a)}else e=i.apply(this,arguments);return p()(this,e)});function a(e,t,n,r,s){var l;return o()(this,a),(l=i.call(this)).for_id=e,l.for_from=t,l.for_to=n,l.for_pass=r,l.commandBlock=s,l}return l()(a,[{key:"commands",get:function(){return this.commandBlock.commands}}]),a}(w),O=n(1549),L=function(){function e(t,n,i,a){o()(this,e),this.name=t,this.returnType=n,this.formalParameters=i,this.commandBlock=a,this._sourceInfo=null}return l()(e,[{key:"hasVariadic",value:function(){return this.formalParameters.some((function(e){return e.variadic}))}},{key:"isMain",get:function(){return null===this.name&&this.returnType.isCompatible(O.Types.VOID)}},{key:"commands",get:function(){return this.commandBlock.commands}},{key:"variablesDeclarations",get:function(){return this.commandBlock.variables}},{key:"sourceInfo",set:function(e){this._sourceInfo=e},get:function(){return this._sourceInfo}}]),e}();var S=function(e){u()(a,e);var t,n,i=(t=a,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,i=f()(t);if(n){var a=f()(this).constructor;e=Reflect.construct(i,arguments,a)}else e=i.apply(this,arguments);return p()(this,e)});function a(e,t,n){var r;return o()(this,a),(r=i.call(this)).condition=e,r.ifTrue=t,r.ifFalse=n,r}return a}(w),U=function(){function e(t,n){o()(this,e),this.variables=t,this.commands=n,this._sourceInfo=null}return l()(e,[{key:"sourceInfo",set:function(e){this._sourceInfo=e},get:function(){return this._sourceInfo}}]),e}();var M=function(e){u()(a,e);var t,n,i=(t=a,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,i=f()(t);if(n){var a=f()(this).constructor;e=Reflect.construct(i,arguments,a)}else e=i.apply(this,arguments);return p()(this,e)});function a(e,t){return o()(this,a),i.call(this,e,t)}return l()(a,[{key:"testFirst",get:function(){return!1}}]),a}(C);var F=function(e){u()(a,e);var t,n,i=(t=a,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,i=f()(t);if(n){var a=f()(this).constructor;e=Reflect.construct(i,arguments,a)}else e=i.apply(this,arguments);return p()(this,e)});function a(e,t){var n;return o()(this,a),(n=i.call(this)).expression=e,n.cases=t,n}return a}(w);var D=function(e){u()(a,e);var t,n,i=(t=a,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,i=f()(t);if(n){var a=f()(this).constructor;e=Reflect.construct(i,arguments,a)}else e=i.apply(this,arguments);return p()(this,e)});function a(e){var t;return o()(this,a),(t=i.call(this)).expression=e,t.commands=[],t}return l()(a,[{key:"setCommands",value:function(e){this.commands=e}},{key:"isDefault",get:function(){return null===this.expression}}]),a}(w),B=function e(t){o()(this,e),this.langFunc=t},G=function(){function e(t,n){var i=arguments.length>2&&void 0!==arguments[2]&&arguments[2],a=arguments.length>3&&void 0!==arguments[3]&&arguments[3];o()(this,e),this.type=t,this.id=n,this.byRef=i,this.variadic=a,this._sourceInfo=null}return l()(e,[{key:"sourceInfo",set:function(e){this._sourceInfo=e},get:function(){return this._sourceInfo}}]),e}(),V=n(8806),P=n(3776),K=n.n(P),j=n(113);function z(e){return new(K())(e)}function H(e){var t=e.replace(/^"/,"");return(t=(t=(t=(t=(t=(t=(t=t.replace(/"$/,"")).replace(/\\b/g,"\b")).replace(/\\t/g,"\t")).replace(/\\n/g,"\n")).replace(/\\r/g,"\r")).replace(/\\"/g,'"')).replace(/\\'/g,"'")).replace(/\\\\/g,"\\")}function q(e){var t=e.replace(/^'/,"");return(t=(t=(t=(t=(t=(t=(t=t.replace(/'$/,"")).replace(/\\b/g,"\b")).replace(/\\t/g,"\t")).replace(/\\n/g,"\n")).replace(/\\r/g,"\r")).replace(/\\"/g,'"')).replace(/\\'/g,"'"))[0]}function X(e){return new(K())(e)}function W(e){var t=e,n=h.T.getCurrentLexer();if(n.getReservedKeys()[n.getRules().RK_TRUE]===t)return!0;if(n.getReservedKeys()[n.getRules().RK_FALSE]===t)return!1;throw new Error(e+"not a valid boolean")}function Y(e){var t=h.T.getCurrentLexer();return(e?t.getReservedKeys()[t.getRules().RK_TRUE]:t.getReservedKeys()[t.getRules().RK_FALSE]).replace(/'/g,"")}function Q(e,t){switch(t.ord){case O.Types.INTEGER.ord:return e.toString();case O.Types.REAL.ord:return e.dp()<=0?e.toFixed(1):e.toFixed(j.Config.decimalPlaces);case O.Types.BOOLEAN.ord:return Y(e);default:return e}}var J=n(1506),Z=n.n(J),ee=n(5957),te=n.n(ee);var ne=function(e){u()(a,e);var t,n,i=(t=a,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,i=f()(t);if(n){var a=f()(this).constructor;e=Reflect.construct(i,arguments,a)}else e=i.apply(this,arguments);return p()(this,e)});function a(e,t){var n;return o()(this,a),(n=i.call(this,e)).id=t,n._context={},Error.captureStackTrace&&Error.captureStackTrace(Z()(n),a),n}return l()(a,[{key:"context",get:function(){return this._context},set:function(e){this._context=e}}]),a}(te()(Error));var ie=function(e){u()(a,e);var t,n,i=(t=a,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,i=f()(t);if(n){var a=f()(this).constructor;e=Reflect.construct(i,arguments,a)}else e=i.apply(this,arguments);return p()(this,e)});function a(e,t){var n;return o()(this,a),(n=i.call(this,e)).id=t,n._context={},Error.captureStackTrace&&Error.captureStackTrace(Z()(n),a),n}return l()(a,[{key:"context",get:function(){return this._context},set:function(e){this._context=e}}]),a}(te()(Error)),ae=n(9943),re=n(957),oe=n(437);var se=function(e){u()(a,e);var t,n,i=(t=a,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,i=f()(t);if(n){var a=f()(this).constructor;e=Reflect.construct(i,arguments,a)}else e=i.apply(this,arguments);return p()(this,e)});function a(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return o()(this,a),i.call(this,e,t,n)}return l()(a,[{key:"translateType",value:function(e,t){var n=this.getUI("type_".concat(e));return 0===t?n:t>1?this.getUI("matrix_info_string",[n]):this.getUI("vector_info_string",[n])}},{key:"translateOp",value:function(e){switch(e.ord){case oe.Operators.AND.ord:case oe.Operators.OR.ord:case oe.Operators.NOT.ord:return this.getUI("logic_operator_".concat(e.value));default:return e.value}}},{key:"translateInternalFunction",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return null==t?ke.getLocalName(e):ke.getLocalName("".concat(t,".").concat(e))}}]),a}(ae.default.LocalizedStrings),le=Object.freeze(new se(h.T,re.Z,!0)),ce=null;function ue(){return null==ce&&(ce=new se(h.T,re.Z)),ce}function de(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=ue();return new ne(n.getError(e,t),e)}function pe(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=ue();return new ie(n.getError(e,t),e)}var _e=Object.freeze({symbol_not_found_full:function(e,t){if(t){var n=pe("symbol_not_found_full",[e,t.line,t.column]);return n.context={line:t.line,column:t.column},n}return _e.symbol_not_found(e)},symbol_not_found:function(e){return pe("symbol_not_found",[e])},function_missing_full:function(e,t){if(t){var n=pe("function_missing_full",[e,t.line,t.column]);return n.context={line:t.line,column:t.column},n}return _e.function_missing(e)},function_missing:function(e){return pe("function_missing",[e])},main_missing:function(){return pe("main_missing")},array_dimension_not_int_full:function(e){if(e){var t=pe("array_dimension_not_int_full",[e.line]);return t.context={line:e.line,column:e.column},t}return _e.array_dimension_not_int()},array_dimension_not_int:function(){return pe("array_dimension_not_int")},unknown_command_full:function(e){if(e){var t=de("unknown_command_full",[e.line]);return t.context={line:e.line,column:e.column},t}return _e.unknown_command()},unknown_command:function(){return de("unknown_command")},incompatible_types_full:function(e,t,n,i,a,r){var o=ue();if(r){var s=pe("incompatible_types_full",[o.translateType(e,t),a,r.line,o.translateType(n,i)]);return s.context={line:r.line,column:r.column},s}return _e.incompatible_types(e,t,n,i,a)},incompatible_types:function(e,t,n,i,a){var r=ue();return pe("incompatible_types",[r.translateType(e,t),a,r.translateType(n,i)])},incompatible_types_array_full:function(e,t,n,i){var a=ue();if(i){var r=pe("incompatible_types_array_full",[e,a.translateType(t,n),i.line,i.column]);return r.context={line:i.line,column:i.column},r}return _e.incompatible_types_array(e,t,n)},incompatible_types_array:function(e,t,n){return pe("incompatible_types_array",[e,ue().translateType(t,n)])},loop_condition_type_full:function(e,t){if(t){var n=pe("loop_condition_type_full",[t.line,t.column,e]);return n.context={line:t.line,column:t.column},n}return _e.loop_condition_type(e)},loop_condition_type:function(e){return pe("loop_condition_type",[e])},endless_loop_full:function(e){if(e){var t=pe("endless_loop_full",[e.line]);return t.context={line:e.line,column:e.column},t}return _e.endless_loop()},endless_loop:function(){return pe("endless_loop")},if_condition_type_full:function(e,t){if(t){var n=pe("if_condition_type_full",[t.line,t.column,e]);return n.context={line:t.line,column:t.column},n}return _e.if_condition_type(e)},if_condition_type:function(e){return pe("if_condition_type",[e])},invalid_global_var:function(){return de("invalid_global_var")},not_implemented:function(e){return de("not_implemented",[e])},invalid_case_type_full:function(e,t,n,i){var a=ue();if(i){var r=pe("invalid_case_type_full",[e,a.translateType(t,n),i.line,i.column]);return r.context={line:i.line,column:i.column},r}return _e.invalid_case_type(e,t,n)},invalid_case_type:function(e,t,n){return pe("invalid_case_type",[e,ue().translateType(t,n)])},void_in_expression_full:function(e,t){if(t){var n=pe("void_in_expression_full",[t.line,t.column,e]);return n.context={line:t.line,column:t.column},n}return _e.void_in_expression(e)},void_in_expression:function(e){return pe("void_in_expression",[e])},invalid_array_access_full:function(e,t){if(t){var n=pe("invalid_array_access_full",[e,t.line,t.column]);return n.context={line:t.line,column:t.column},n}return _e.invalid_array_access(e)},invalid_array_access:function(e){return pe("invalid_array_access",[e])},invalid_matrix_access_full:function(e,t){if(t){var n=pe("invalid_matrix_access_full",[e,t.line,t.column]);return n.context={line:t.line,column:t.column},n}return _e.invalid_matrix_access(e)},invalid_matrix_access:function(e){return pe("invalid_matrix_access",[e])},matrix_column_outbounds_full:function(e,t,n,i){if(i){var a=de("matrix_column_outbounds_full",[i.line,t,e,n]);return a.context={line:i.line,column:i.column},a}return _e.matrix_column_outbounds(e,t,n)},matrix_column_outbounds:function(e,t,n){return de("matrix_column_outbounds",[t,e,n])},matrix_line_outbounds_full:function(e,t,n,i){if(i){var a=de("matrix_line_outbounds_full",[i.line,t,e,n]);return a.context={line:i.line,column:i.column},a}return _e.matrix_line_outbounds(e,t,n)},matrix_line_outbounds:function(e,t,n){return de("matrix_line_outbounds",[t,e,n])},vector_line_outbounds_full:function(e,t,n,i){if(i){var a=de("vector_line_outbounds_full",[i.line,t,e,n]);return a.context={line:i.line,column:i.column},a}return _e.vector_line_outbounds(e,t,n)},vector_line_outbounds:function(e,t,n){return de("vector_line_outbounds",[t,e,n])},vector_not_matrix_full:function(e,t){if(t){var n=de("vector_not_matrix_full",[t.line,e]);return n.context={line:t.line,column:t.column},n}return _e.vector_not_matrix(e)},vector_not_matrix:function(e){return de("vector_not_matrix",[e])},function_no_return:function(e){return pe("function_no_return",[e])},invalid_void_return_full:function(e,t,n,i){var a=ue();if(i){var r=pe("invalid_void_return_full",[i.line,e,a.translateType(t,n)]);return r.context={line:i.line,column:i.column},r}return _e.invalid_void_return(e,t,n)},invalid_void_return:function(e,t,n){return pe("invalid_void_return_full",[e,ue().translateType(t,n)])},invalid_return_type_full:function(e,t,n,i){var a=ue();if(i){var r=pe("invalid_return_type_full",[i.line,e,a.translateType(t,n)]);return r.context={line:i.line,column:i.column},r}return _e.invalid_return_type(e,t,n)},invalid_return_type:function(e,t,n){return pe("invalid_return_type",[e,ue().translateType(t,n)])},invalid_parameters_size_full:function(e,t,n,i){if(i){var a=pe("invalid_parameters_size_full",[i.line,e,t,n]);return a.context={line:i.line,column:i.column},a}return _e.invalid_parameters_size(e,t,n)},invalid_parameters_size:function(e,t,n){return pe("invalid_parameters_size",[e,t,n])},invalid_parameter_type_full:function(e,t,n){if(n){var i=pe("invalid_parameter_type_full",[t,ke.getLocalName(e),n.line]);return i.context={line:n.line,column:n.column},i}return _e.invalid_parameter_type(e,t)},invalid_parameter_type:function(e,t){return pe("invalid_parameter_type_full",[t,ke.getLocalName(e)])},invalid_ref_full:function(e,t,n){if(n){var i=pe("invalid_ref_full",[t,e,n.line]);return i.context={line:n.line,column:n.column},i}return _e.invalid_ref(e,t)},invalid_ref:function(e,t){return pe("invalid_ref",[t,e])},unexpected_break_command_full:function(e){if(e){var t=de("unexpected_break_command_full",[e.line]);return t.context={line:e.line,column:e.column},t}return _e.unexpected_break_command()},unexpected_break_command:function(){return de("unexpected_break_command")},invalid_array_literal_type_full:function(e,t){if(t){var n=de("invalid_array_literal_type_full",[t.line,e]);return n.context={line:t.line,column:t.column},n}return _e.invalid_array_literal_type(e)},invalid_array_literal_type:function(e){return de("invalid_array_literal_type",[e])},invalid_array_literal_line_full:function(e,t,n){if(n){var i=de("invalid_array_literal_line_full",[n.line,e,t]);return i.context={line:n.line,column:n.column},i}return _e.invalid_array_literal_type(e,t)},invalid_array_literal_line:function(e,t){return de("invalid_array_literal_line",[e,t])},invalid_array_literal_column_full:function(e,t,n){if(n){var i=de("invalid_array_literal_column_full",[n.line,e,t]);return i.context={line:n.line,column:n.column},i}return _e.invalid_array_literal_column(e,t)},invalid_array_literal_column:function(e,t){return de("invalid_array_literal_column",[e,t])},invalid_unary_op_full:function(e,t,n,i,a){var r=ue();if(a){var o=de("invalid_unary_op_full",[a.line,e,r.translateOp(t),r.translateType(n,i)]);return o.context={line:a.line,column:a.column},o}return _e.invalid_unary_op(t,n,i)},invalid_unary_op:function(e,t,n,i){var a=ue();return de("invalid_unary_op",[e,a.translateOp(t),a.translateType(n,i)])},invalid_infix_op_full:function(e,t,n,i,a,r,o){var s=ue();if(o){var l=de("invalid_infix_op_full",[o.line,e,s.translateOp(t),s.translateType(n,i),s.translateType(a,r)]);return l.context={line:o.line,column:o.column},l}return _e.invalid_infix_op(t,n,i,a,r)},invalid_infix_op:function(e,t,n,i,a,r){var o=ue();return de("invalid_infix_op",[e,o.translateOp(t),o.translateType(n,i),o.translateType(a,r)])},array_dimension_not_positive_full:function(e){if(e){var t=pe("array_dimension_not_positive_full",[e.line]);return t.context={line:e.line,column:e.column},t}return _e.array_dimension_not_positive()},array_dimension_not_positive:function(){return pe("array_dimension_not_positive")},invalid_type_conversion:function(e,t,n){return de("invalid_type_conversion",[e,ue().translateType(t,n)])},invalid_read_type:function(e,t,n,i,a){var r=ue(),o=de("invalid_read_type",[a.line,e,r.translateType(t,n),i]);return o.context={line:a.line,column:a.column},o},invalid_read_type_array:function(e,t,n,i,a,r,o){var s=ue(),l=de("invalid_read_type_array",[o.line,e,s.translateType(t,n),i,s.translateType(a,r)]);return l.context={line:o.line,column:o.column},l},invalid_const_ref_full:function(e,t,n){if(n){var i=pe("invalid_const_ref_full",[t,ke.getLocalName(e),n.line]);return i.context={line:n.line,column:n.column},i}return _e.invalid_const_ref(e,t)},invalid_const_ref:function(e,t){return pe("invalid_const_ref",[t,ke.getLocalName(e)])},invalid_const_assignment_full:function(e,t){if(t){var n=pe("invalid_const_assignment_full",[t.line,e]);return n.context={line:t.line,column:t.column},n}return _e.invalid_const_assignment(e)},invalid_const_assignment:function(e){return pe("invalid_const_assignment",[e])},invalid_vector_assignment_full:function(e,t,n,i,a){if(a){var r=de("invalid_vector_assignment_full",[a.line,e,t,n,i]);return r.context={line:a.line,column:a.column},r}return _e.invalid_vector_assignment(e,t,n,i)},invalid_vector_assignment:function(e,t,n,i){return de("invalid_vector_assignment",[e,t,n,i])},invalid_matrix_assignment_full:function(e,t,n,i,a,r,o){if(o){var s=de("invalid_matrix_assignment_full",[o.line,e,t,n,i,a,r]);return s.context={line:o.line,column:o.column},s}return _e.invalid_matrix_assignment(e,t,n,i,a,r)},invalid_matrix_assignment:function(e,t,n,i,a,r){return de("invalid_matrix_assignment",[e,t,n,i,a,r])},matrix_to_vector_attr:function(e,t,n){var i=pe("matrix_to_vector_attr",[n.line,t,e]);return i.context={line:n.line,column:n.column},i},vector_to_matrix_attr:function(e,t,n){var i=pe("vector_to_matrix_attr",[n.line,t,e]);return i.context={line:n.line,column:n.column},i},invalid_matrix_index_assign_full:function(e,t,n,i,a,r){if(r){var o=de("invalid_matrix_index_assign_full",[r.line,t,e,n,i,a]);return o.context={line:r.line,column:r.column},o}return _e.invalid_matrix_index_assign(e,t,n,i,a)},invalid_matrix_index_assign:function(e,t,n,i,a){return de("invalid_matrix_index_assign",[t,e,n,i,a])},invalid_number_elements_vector:function(e,t,n,i){var a=de("invalid_number_elements_vector",[e,i.line,t,n]);return a.context={line:i.line,column:i.column},a},invalid_number_lines_matrix:function(e,t,n,i){var a=de("invalid_number_lines_matrix",[e,i.line,t,n]);return a.context={line:i.line,column:i.column},a},divsion_by_zero_full:function(e,t){if(t){var n=de("divsion_by_zero_full",[t.line,e]);return n.context={line:t.line,column:t.column},n}return _e.divsion_by_zero(e)},divsion_by_zero:function(e){return de("divsion_by_zero",[e])},undefined_tanget_value:function(e,t){var n=de("undefined_tanget_value",[t.line,e]);return n.context={line:t.line,column:t.column},n},negative_log_value:function(e){var t=de("negative_log_value",[e.line]);return t.context={line:e.line,column:e.column},t},invalid_string_index:function(e,t,n){var i=ke.getLocalName("$charAt"),a=de("invalid_string_index",[n.line,i,e,t,t.length-1]);return a.context={line:n.line,column:n.column},a},negative_sqrt_value:function(e){var t=de("negative_sqrt_value",[e.line]);return t.context={line:e.line,column:e.column},t},exceeded_recursive_calls:function(e){var t=de("exceeded_recursive_calls",[e.line]);return t.context={line:e.line,column:e.column},t},invalid_for_variable:function(e,t){var n=pe("invalid_for_variable",[t.line,e]);return n.context={line:t.line,column:t.column},n},invalid_for_from:function(e,t){var n=pe("invalid_for_from",[t.line,e]);return n.context={line:t.line,column:t.column},n},invalid_for_to:function(e,t){var n=pe("invalid_for_to",[t.line,e]);return n.context={line:t.line,column:t.column},n},invalid_for_pass:function(e,t){var n=pe("invalid_for_pass",[t.line,e]);return n.context={line:t.line,column:t.column},n},exceed_max_instructions:function(){return de("exceed_max_instructions")}}),fe=n(4019),me=n(2141),ve=n(3744),he=n(319),ge=n.n(he);function ye(e){return e.times(P.Decimal.acos(-1)).div(180)}var xe=Date.now();function be(e,t){for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)&&t[n]===e)return n;return null}var we,Ee={$mathLib:{$sin:(we=new U([],[new B(function(){var e=b()(y().mark((function e(t,n){var i,a,r,o;return y().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=t.applyStore("x"),a=i.get().mod(360),null,r=a.eq(90)?new P.Decimal(1):a.eq(180)?new P.Decimal(0):a.eq(270)?new P.Decimal(-1):P.Decimal.sin(ye(a)),o=new fe.StoreValue(O.Types.REAL,r),t.insertStore("$",o),t.mode=V.Modes.RETURN,e.abrupt("return",t);case 8:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}())]),new L("$sin",O.Types.REAL,[new G(new ve.MultiType([O.Types.INTEGER,O.Types.REAL]),"x",!1)],we)),$cos:function(){var e=new U([],[new B(function(){var e=b()(y().mark((function e(t,n){var i,a,r,o;return y().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=t.applyStore("x"),a=i.get().mod(360),r=null,a.eq(90)?r=new P.Decimal(0):a.eq(180)?r=new P.Decimal(-1):a.eq(270)&&(r=new P.Decimal(0)),r=P.Decimal.cos(ye(a)),o=new fe.StoreValue(O.Types.REAL,r),t.insertStore("$",o),t.mode=V.Modes.RETURN,e.abrupt("return",t);case 9:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}())]);return new L("$cos",O.Types.REAL,[new G(new ve.MultiType([O.Types.INTEGER,O.Types.REAL]),"x",!1)],e)}(),$tan:function(){var e=new U([],[new B(function(){var e=b()(y().mark((function e(t,n){var i,a,r,o;return y().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(i=t.applyStore("x"),!(a=i.get().mod(360)).eq(90)&&!a.eq(270)){e.next=4;break}throw _e.undefined_tanget_value(i.get().toNumber(),this.function_call_stack.pop());case 4:return r=P.Decimal.tan(ye(a)),o=new fe.StoreValue(O.Types.REAL,r),t.insertStore("$",o),t.mode=V.Modes.RETURN,e.abrupt("return",t);case 9:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}())]);return new L("$tan",O.Types.REAL,[new G(new ve.MultiType([O.Types.INTEGER,O.Types.REAL]),"x",!1)],e)}(),$sqrt:function(){var e=new U([],[new B(function(){var e=b()(y().mark((function e(t,n){var i,a,r;return y().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(i=t.applyStore("x")).get().isNeg()){e.next=3;break}return e.abrupt("return",Promise.reject(_e.negative_sqrt_value(this.function_call_stack.pop())));case 3:return a=i.get().sqrt(),r=new fe.StoreValue(O.Types.REAL,a),t.insertStore("$",r),t.mode=V.Modes.RETURN,e.abrupt("return",t);case 8:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}())]);return new L("$sqrt",O.Types.REAL,[new G(new ve.MultiType([O.Types.INTEGER,O.Types.REAL]),"x",!1)],e)}(),$pow:function(){var e=new U([],[new B(function(){var e=b()(y().mark((function e(t,n){var i,a,r,o;return y().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=t.applyStore("x"),a=t.applyStore("y"),r=i.get().pow(a.get()),o=new fe.StoreValue(O.Types.REAL,r),t.insertStore("$",o),t.mode=V.Modes.RETURN,e.abrupt("return",t);case 7:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}())]);return new L("$pow",O.Types.REAL,[new G(new ve.MultiType([O.Types.INTEGER,O.Types.REAL]),"x",!1),new G(new ve.MultiType([O.Types.INTEGER,O.Types.REAL]),"y",!1)],e)}(),$log:function(){var e=new U([],[new B(function(){var e=b()(y().mark((function e(t,n){var i,a,r;return y().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(i=t.applyStore("x")).get().isNegative()){e.next=3;break}return e.abrupt("return",Promise.reject(_e.negative_log_value(this.function_call_stack.pop())));case 3:return a=P.Decimal.log10(i.get()),r=new fe.StoreValue(O.Types.REAL,a),t.insertStore("$",r),t.mode=V.Modes.RETURN,e.abrupt("return",t);case 8:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}())]);return new L("$log",O.Types.REAL,[new G(new ve.MultiType([O.Types.INTEGER,O.Types.REAL]),"x",!1)],e)}(),$abs:function(){var e=new U([],[new B(function(){var e=b()(y().mark((function e(t,n){var i,a,r;return y().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=t.applyStore("x"),a=i.get().abs(),r=new fe.StoreValue(i.type,a),t.insertStore("$",r),t.mode=V.Modes.RETURN,e.abrupt("return",t);case 6:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}())]);return new L("$abs",new ve.MultiType([O.Types.INTEGER,O.Types.REAL]),[new G(new ve.MultiType([O.Types.INTEGER,O.Types.REAL]),"x",!1)],e)}(),$negate:function(){var e=new U([],[new B(function(){var e=b()(y().mark((function e(t,n){var i,a,r;return y().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=t.applyStore("x"),a=i.get().negated(),r=new fe.StoreValue(i.type,a),t.insertStore("$",r),t.mode=V.Modes.RETURN,e.abrupt("return",t);case 6:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}())]);return new L("$negate",new ve.MultiType([O.Types.INTEGER,O.Types.REAL]),[new G(new ve.MultiType([O.Types.INTEGER,O.Types.REAL]),"x",!1)],e)}(),$invert:function(){var e=new U([],[new B(function(){var e=b()(y().mark((function e(t,n){var i,a,r;return y().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=t.applyStore("x"),a=X(1).dividedBy(i.get()),r=new fe.StoreValue(O.Types.REAL,a),t.insertStore("$",r),t.mode=V.Modes.RETURN,e.abrupt("return",t);case 6:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}())]);return new L("$invert",O.Types.REAL,[new G(new ve.MultiType([O.Types.INTEGER,O.Types.REAL]),"x",!1)],e)}(),$max:function(){var e=function(){var e=b()(y().mark((function e(t,n){var i,a,r,o;return y().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=t.applyStore("x"),a=i.get().map((function(e){return e.get()})),r=P.Decimal.max.apply(P.Decimal,ge()(a)),o=new fe.StoreValue(i.type.innerType,r),t.insertStore("$",o),t.mode=V.Modes.RETURN,e.abrupt("return",t);case 7:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),t=new me.ArrayType(new ve.MultiType([O.Types.INTEGER,O.Types.REAL]),1),n=new U([],[new B(e)]);return new L("$max",new ve.MultiType([O.Types.INTEGER,O.Types.REAL]),[new G(t,"x",!1)],n)}(),$min:function(){var e=function(){var e=b()(y().mark((function e(t,n){var i,a,r,o;return y().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=t.applyStore("x"),a=i.get().map((function(e){return e.get()})),r=P.Decimal.min.apply(P.Decimal,ge()(a)),o=new fe.StoreValue(i.type.innerType,r),t.insertStore("$",o),t.mode=V.Modes.RETURN,e.abrupt("return",t);case 7:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),t=new me.ArrayType(new ve.MultiType([O.Types.INTEGER,O.Types.REAL]),1),n=new U([],[new B(e)]);return new L("$min",new ve.MultiType([O.Types.INTEGER,O.Types.REAL]),[new G(t,"x",!1)],n)}(),$rand:function(){var e=2147483647,t=new U([],[new B(function(){var t=b()(y().mark((function t(n,i){var a,r;return y().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a=(xe=(16807*xe+12345)%e)/(e-1),r=new fe.StoreValue(O.Types.REAL,new P.Decimal(a)),n.insertStore("$",r),n.mode=V.Modes.RETURN,t.abrupt("return",n);case 6:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}())]);return new L("$rand",O.Types.REAL,[],t)}()},$ioLib:{$read:function(){var e=new U([],[new B(function(){var e=b()(y().mark((function e(t,n){var i,a,r,o,s,l,c,u,d;return y().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.input.requestInput();case 2:if(i=e.sent,a=t.applyStore("p1").type,r=null,o=null,e.prev=6,!a.isCompatible(O.Types.INTEGER)){e.next=12;break}o=z(i.trim()).trunc(),r=O.Types.INTEGER,e.next=33;break;case 12:if(!a.isCompatible(O.Types.REAL)){e.next=17;break}o=X(i.trim()),r=O.Types.REAL,e.next=33;break;case 17:if(!a.isCompatible(O.Types.BOOLEAN)){e.next=22;break}o=W(i.trim()),r=O.Types.BOOLEAN,e.next=33;break;case 22:if(!a.isCompatible(O.Types.STRING)){e.next=27;break}o=H(i),r=O.Types.STRING,e.next=33;break;case 27:if(!a.isCompatible(O.Types.CHAR)){e.next=32;break}o=q(i),r=O.Types.CHAR,e.next=33;break;case 32:throw new Error("!!!!Critical error: Unknown type in readFunction!!!!");case 33:e.next=47;break;case 35:if(e.prev=35,e.t0=e.catch(6),this.mode!=V.Modes.ABORT){e.next=40;break}return t.mode=V.Modes.RETURN,e.abrupt("return",t);case 40:if(s=a.stringInfo()[0],!((l=t.getStoreObject("p1")).getReferenceDimension()>0)){e.next=46;break}throw c=l.type.stringInfo()[0],u=l.getReferenceDimension(),_e.invalid_read_type_array(i,s.type,s.dim,l.getRefObj(),c.type,u,this.function_call_stack.pop());case 46:throw _e.invalid_read_type(i,s.type,s.dim,l.getRefObj(),this.function_call_stack.pop());case 47:return d=new fe.StoreValue(r,o),t.updateStore("p1",d),t.mode=V.Modes.RETURN,e.abrupt("return",t);case 51:case"end":return e.stop()}}),e,this,[[6,35]])})));return function(t,n){return e.apply(this,arguments)}}())]);return new L("$read",O.Types.VOID,[new G(O.Types.ALL,"p1",!0)],e)}(),$write:function(){var e=new U([],[new B(function(){var e=b()(y().mark((function e(t,n){var i,a,r,o;return y().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:for(i=t.applyStore("p1.0"),a=i.get(),r=1;r<a;r+=1)o=t.applyStore("p1.".concat(r)),this.output.sendOutput(Q(o.get(),o.type));return t.mode=V.Modes.RETURN,e.abrupt("return",t);case 5:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}())]);return new L("$write",O.Types.VOID,[new G(O.Types.ALL,"p1",!1,!0)],e)}()},$strLib:{$substring:function(){var e=new U([],[new B(function(){var e=b()(y().mark((function e(t,n){var i,a,r,o,s;return y().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=t.applyStore("str"),a=t.applyStore("start"),r=t.applyStore("end"),o=i.get().substring(a.get(),r.get()),s=new fe.StoreValue(O.Types.STRING,o),t.insertStore("$",s),t.mode=V.Modes.RETURN,e.abrupt("return",t);case 8:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}())]);return new L("$substring",O.Types.STRING,[new G(O.Types.STRING,"str",!1),new G(O.Types.INTEGER,"start",!1),new G(O.Types.INTEGER,"end",!1)],e)}(),$length:function(){var e=new U([],[new B(function(){var e=b()(y().mark((function e(t,n){var i,a;return y().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=t.applyStore("str"),a=new fe.StoreValue(O.Types.INTEGER,z(i.value.length)),t.insertStore("$",a),t.mode=V.Modes.RETURN,e.abrupt("return",t);case 5:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}())]);return new L("$length",O.Types.INTEGER,[new G(O.Types.STRING,"str",!1)],e)}(),$uppercase:function(){var e=new U([],[new B(function(){var e=b()(y().mark((function e(t,n){var i,a;return y().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=t.applyStore("str"),a=new fe.StoreValue(O.Types.STRING,i.get().toUpperCase()),t.insertStore("$",a),t.mode=V.Modes.RETURN,e.abrupt("return",t);case 5:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}())]);return new L("$uppercase",O.Types.STRING,[new G(O.Types.STRING,"str",!1)],e)}(),$lowercase:function(){var e=new U([],[new B(function(){var e=b()(y().mark((function e(t,n){var i,a;return y().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=t.applyStore("str"),a=new fe.StoreValue(O.Types.STRING,i.get().toLowerCase()),t.insertStore("$",a),t.mode=V.Modes.RETURN,e.abrupt("return",t);case 5:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}())]);return new L("$lowercase",O.Types.STRING,[new G(O.Types.STRING,"str",!1)],e)}(),$charAt:function(){var e=new U([],[new B(function(){var e=b()(y().mark((function e(t,n){var i,a,r;return y().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(i=t.applyStore("str"),!((a=t.applyStore("index")).get().toNumber()<0||a.get().toNumber()>=i.get().length)){e.next=4;break}throw _e.invalid_string_index(a.get().toNumber(),i.get(),this.function_call_stack.pop());case 4:return r=new fe.StoreValue(O.Types.CHAR,i.get().charAt(a.get().toNumber())),t.insertStore("$",r),t.mode=V.Modes.RETURN,e.abrupt("return",t);case 8:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}())]);return new L("$charAt",O.Types.CHAR,[new G(O.Types.STRING,"str",!1),new G(O.Types.INTEGER,"index",!1)],e)}()},$arrayLib:{$numElements:function(){var e=new U([],[new B(function(){var e=b()(y().mark((function e(t,n){var i,a;return y().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=t.applyStore("vector"),a=new fe.StoreValue(O.Types.INTEGER,z(i.lines)),t.mode=V.Modes.RETURN,t.insertStore("$",a),e.abrupt("return",t);case 5:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}())]);return new L("$numElements",O.Types.INTEGER,[new G(new me.ArrayType(O.Types.ALL,1),"vector",!1)],e)}(),$matrixLines:function(){var e=new U([],[new B(function(){var e=b()(y().mark((function e(t,n){var i,a;return y().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=t.applyStore("matrix"),a=new fe.StoreValue(O.Types.INTEGER,z(i.lines)),t.mode=V.Modes.RETURN,t.insertStore("$",a),e.abrupt("return",t);case 5:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}())]);return new L("$matrixLines",O.Types.INTEGER,[new G(new me.ArrayType(O.Types.ALL,2),"matrix",!1)],e)}(),$matrixColumns:function(){var e=new U([],[new B(function(){var e=b()(y().mark((function e(t,n){var i,a;return y().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=t.applyStore("matrix"),a=new fe.StoreValue(O.Types.INTEGER,z(i.columns)),t.mode=V.Modes.RETURN,t.insertStore("$",a),e.abrupt("return",t);case 5:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}())]);return new L("$matrixColumns",O.Types.INTEGER,[new G(new me.ArrayType(O.Types.ALL,2),"matrix",!1)],e)}()},$langLib:{$isReal:function(){var e=new U([],[new B(function(){var e=b()(y().mark((function e(t,n){var i,a,r,o;return y().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:i=t.applyStore("str"),a=Pe.createParser(i.get()),r=!1;try{a.parseTerm()instanceof $e&&(r=!0)}catch(e){}return o=new fe.StoreValue(O.Types.BOOLEAN,r),t.insertStore("$",o),t.mode=V.Modes.RETURN,e.abrupt("return",t);case 8:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}())]);return new L("$isReal",O.Types.BOOLEAN,[new G(O.Types.STRING,"str",!1)],e)}(),$isInt:function(){var e=new U([],[new B(function(){var e=b()(y().mark((function e(t,n){var i,a,r,o;return y().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:i=t.applyStore("str"),a=Pe.createParser(i.get()),r=!1;try{a.parseTerm()instanceof Ie&&(r=!0)}catch(e){}return o=new fe.StoreValue(O.Types.BOOLEAN,r),t.insertStore("$",o),t.mode=V.Modes.RETURN,e.abrupt("return",t);case 8:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}())]);return new L("$isInt",O.Types.BOOLEAN,[new G(O.Types.STRING,"str",!1)],e)}(),$isBool:function(){var e=new U([],[new B((function(e,t){var n=e.applyStore("str"),i=Pe.createParser(n.get()),a=!1;try{i.parseTerm()instanceof Ce&&(a=!0)}catch(e){}var r=new fe.StoreValue(O.Types.BOOLEAN,a);return e.insertStore("$",r),e.mode=V.Modes.RETURN,e}))]);return new L("$isBool",O.Types.BOOLEAN,[new G(O.Types.STRING,"str",!1)],e)}(),$castReal:function(){var e=new U([],[new B(function(){var e=b()(y().mark((function e(t,n){var i,a,r,o,s,l,c,u;return y().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:i=t.applyStore("val"),a=i.get(),e.t0=i.type.ord,e.next=e.t0===O.Types.INTEGER.ord?5:e.t0===O.Types.STRING.ord?10:22;break;case 5:return a=a.toNumber(),r=new fe.StoreValue(O.Types.REAL,X(a)),t.insertStore("$",r),t.mode=V.Modes.RETURN,e.abrupt("return",t);case 10:if(o=Pe.createParser(a),e.prev=11,!((s=o.parseTerm())instanceof $e)){e.next=18;break}return l=new fe.StoreValue(O.Types.REAL,X(s.value)),t.insertStore("$",l),t.mode=V.Modes.RETURN,e.abrupt("return",t);case 18:e.next=22;break;case 20:e.prev=20,e.t1=e.catch(11);case 22:throw c=O.Types.REAL.stringInfo(),u=c[0],_e.invalid_type_conversion(a,u.type,u.dim);case 25:case"end":return e.stop()}}),e,null,[[11,20]])})));return function(t,n){return e.apply(this,arguments)}}())]);return new L("$castReal",O.Types.REAL,[new G(new ve.MultiType([O.Types.INTEGER,O.Types.STRING]),"val",!1)],e)}(),$castInt:function(){var e=new U([],[new B(function(){var e=b()(y().mark((function e(t,n){var i,a,r,o,s,l,c,u,d;return y().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:i=t.applyStore("val"),a=i.get(),e.t0=i.type.ord,e.next=e.t0===O.Types.REAL.ord?5:e.t0===O.Types.CHAR.ord?10:e.t0===O.Types.STRING.ord?14:26;break;case 5:return a=a.toNumber(),r=new fe.StoreValue(O.Types.INTEGER,z(Math.floor(a))),t.insertStore("$",r),t.mode=V.Modes.RETURN,e.abrupt("return",t);case 10:return o=new fe.StoreValue(O.Types.INTEGER,z(a.charCodeAt(0))),t.insertStore("$",o),t.mode=V.Modes.RETURN,e.abrupt("return",t);case 14:if(s=Pe.createParser(a),e.prev=15,!((l=s.parseTerm())instanceof Ie)){e.next=22;break}return c=new fe.StoreValue(O.Types.INTEGER,z(l.value)),t.insertStore("$",c),t.mode=V.Modes.RETURN,e.abrupt("return",t);case 22:e.next=26;break;case 24:e.prev=24,e.t1=e.catch(15);case 26:throw u=O.Types.INTEGER.stringInfo(),d=u[0],_e.invalid_type_conversion(a,d.type,d.dim);case 29:case"end":return e.stop()}}),e,null,[[15,24]])})));return function(t,n){return e.apply(this,arguments)}}())]);return new L("$castInt",O.Types.INTEGER,[new G(new ve.MultiType([O.Types.REAL,O.Types.STRING,O.Types.CHAR]),"val",!1)],e)}(),$castBool:function(){var e=new U([],[new B(function(){var e=b()(y().mark((function e(t,n){var i,a,r,o,s,l,c;return y().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(i=t.applyStore("str"),a=i.get(),r=Pe.createParser(a),e.prev=3,!((o=r.parseTerm())instanceof Ce)){e.next=10;break}return s=new fe.StoreValue(O.Types.BOOLEAN,o.value),t.insertStore("$",s),t.mode=V.Modes.RETURN,e.abrupt("return",t);case 10:e.next=14;break;case 12:e.prev=12,e.t0=e.catch(3);case 14:throw l=O.Types.BOOLEAN.stringInfo(),c=l[0],_e.invalid_type_conversion(a,c.type,c.dim);case 17:case"end":return e.stop()}}),e,null,[[3,12]])})));return function(t,n){return e.apply(this,arguments)}}())]);return new L("$castBool",O.Types.BOOLEAN,[new G(O.Types.STRING,"str",!1)],e)}(),$castString:function(){var e=new U([],[new B(function(){var e=b()(y().mark((function e(t,n){var i,a,r;return y().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=t.applyStore("str"),a=Q(i.get(),i.type),r=new fe.StoreValue(O.Types.STRING,a),t.insertStore("$",r),t.mode=V.Modes.RETURN,e.abrupt("return",t);case 6:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}())]);return new L("$castString",O.Types.STRING,[new G(O.Types.ALL,"str",!1)],e)}(),$castChar:function(){var e=new U([],[new B((function(e,t){var n=255&e.applyStore("charCode").get().toNumber(),i=String.fromCharCode(n),a=new fe.StoreValue(O.Types.CHAR,i);return e.insertStore("$",a),e.mode=V.Modes.RETURN,e}))]);return new L("$castChar",O.Types.CHAR,[new G(O.Types.INTEGER,"charCode",!1)],e)}()}},Te=function(){for(var e={},t=0;t<arguments.length;t++){var n=t<0||arguments.length<=t?void 0:arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e}(Ee.$ioLib,Ee.$langLib,Ee.$strLib,Ee.$arrayLib),ke=Object.freeze({getMainFunctionName:function(){return h.T.getCurrentLangFuncs().main_function},getInternalName:function(e){if(-1!==e.indexOf(".")){var t=e.split("."),n=be(t[0],h.T.getCurrentLangLibs()),i=be(t[1],h.T.getCurrentLangFuncs());return null===n||null===i?null:n+"."+i}var a=be(e,h.T.getCurrentLangFuncs());return null!==a&&Te[a]?a:null},getFunction:function(e){if(-1!==e.indexOf(".")){var t=e.split("."),n=t[0],i=t[1];return Ee[n][i]}return Te[e]},getLocalName:function(e){if(-1!==e.indexOf(".")){var t=e.split("."),n=h.T.getCurrentLangLibs()[t[0]],i=h.T.getCurrentLangFuncs()[t[1]];return"".concat(n,".").concat(i)}return h.T.getCurrentLangFuncs()[e]?h.T.getCurrentLangFuncs()[e]:e}});var Ae=function(e){u()(a,e);var t,n,i=(t=a,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,i=f()(t);if(n){var a=f()(this).constructor;e=Reflect.construct(i,arguments,a)}else e=i.apply(this,arguments);return p()(this,e)});function a(e,t){var n;return o()(this,a),(n=i.call(this)).id=e,n.actualParameters=t,n}return l()(a,[{key:"toString",value:function(){var e;e=this.isMainCall?ke.getMainFunctionName():ke.getLocalName(this.id);var t=null;return t=0==this.actualParameters.length?"()":"("+this.actualParameters.map((function(e){return e.toString()})).join(",")+")",this.parenthesis?"(".concat(e+t,")"):e+t}},{key:"isMainCall",get:function(){return null===this.id}},{key:"parametersSize",get:function(){return this.actualParameters.length}}]),a}(m);var Re=function(e){u()(a,e);var t,n,i=(t=a,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,i=f()(t);if(n){var a=f()(this).constructor;e=Reflect.construct(i,arguments,a)}else e=i.apply(this,arguments);return p()(this,e)});function a(e){var t;return o()(this,a),(t=i.call(this)).type=e,t}return a}(m);var Ie=function(e){u()(a,e);var t,n,i=(t=a,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,i=f()(t);if(n){var a=f()(this).constructor;e=Reflect.construct(i,arguments,a)}else e=i.apply(this,arguments);return p()(this,e)});function a(e){var t;return o()(this,a),(t=i.call(this,O.Types.INTEGER)).value=e,t}return l()(a,[{key:"toString",value:function(){var e=Q(this.value,this.type);return this.parenthesis?"(".concat(e,")"):e}}]),a}(Re);var $e=function(e){u()(a,e);var t,n,i=(t=a,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,i=f()(t);if(n){var a=f()(this).constructor;e=Reflect.construct(i,arguments,a)}else e=i.apply(this,arguments);return p()(this,e)});function a(e){var t;return o()(this,a),(t=i.call(this,O.Types.REAL)).value=e,t}return l()(a,[{key:"toString",value:function(){var e=Q(this.value,this.type);return this.parenthesis?"(".concat(e,")"):e}}]),a}(Re);var Ce=function(e){u()(a,e);var t,n,i=(t=a,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,i=f()(t);if(n){var a=f()(this).constructor;e=Reflect.construct(i,arguments,a)}else e=i.apply(this,arguments);return p()(this,e)});function a(e){var t;return o()(this,a),(t=i.call(this,O.Types.BOOLEAN)).value=e,t}return l()(a,[{key:"toString",value:function(){var e=Y(this.value);return this.parenthesis?"(".concat(e,")"):e}}]),a}(Re);var Ne=function(e){u()(a,e);var t,n,i=(t=a,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,i=f()(t);if(n){var a=f()(this).constructor;e=Reflect.construct(i,arguments,a)}else e=i.apply(this,arguments);return p()(this,e)});function a(e){var t;return o()(this,a),(t=i.call(this,O.Types.CHAR)).value=e,t}return l()(a,[{key:"toString",value:function(){var e="'".concat(this.value,"'");return this.parenthesis?"(".concat(e,")"):e}}]),a}(Re);var Oe=function(e){u()(a,e);var t,n,i=(t=a,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,i=f()(t);if(n){var a=f()(this).constructor;e=Reflect.construct(i,arguments,a)}else e=i.apply(this,arguments);return p()(this,e)});function a(e){var t;return o()(this,a),(t=i.call(this,O.Types.STRING)).value=e,t}return l()(a,[{key:"toString",value:function(){var e='"'+this.value+'"';return this.parenthesis?"(".concat(e,")"):e}}]),a}(Re);var Le=function(e){u()(a,e);var t,n,i=(t=a,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,i=f()(t);if(n){var a=f()(this).constructor;e=Reflect.construct(i,arguments,a)}else e=i.apply(this,arguments);return p()(this,e)});function a(e,t){var n;return o()(this,a),(n=i.call(this,e)).value=t,n}return l()(a,[{key:"validateType",value:function(){return!0}},{key:"validateSize",value:function(){return!0}},{key:"toString",value:function(){var e="{"+this.value.map((function(e){return e.toString()})).join(",")+"}";return this.parenthesis?"(".concat(e,")"):e}},{key:"subtype",get:function(){var e=this.value[0];return e instanceof a?e.value[0].type:e.type}},{key:"lines",get:function(){return this.value.length}},{key:"columns",get:function(){var e=this.value[0];return e instanceof a?e.value.length:null}},{key:"isVector",get:function(){return null===this.columns}},{key:"isValid",get:function(){return this.validateSize()&&this.validateType()}}]),a}(Re);var Se=function(e){u()(a,e);var t,n,i=(t=a,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,i=f()(t);if(n){var a=f()(this).constructor;e=Reflect.construct(i,arguments,a)}else e=i.apply(this,arguments);return p()(this,e)});function a(e){var t;return o()(this,a),(t=i.call(this,O.Types.UNDEFINED)).id=e,t}return l()(a,[{key:"toString",value:function(){return this.parenthesis?"(".concat(this.id,")"):this.id}}]),a}(Re);var Ue=function(e){u()(a,e);var t,n,i=(t=a,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,i=f()(t);if(n){var a=f()(this).constructor;e=Reflect.construct(i,arguments,a)}else e=i.apply(this,arguments);return p()(this,e)});function a(e,t,n){var r;return o()(this,a),(r=i.call(this)).op=e,r.left=t,r.right=n,r}return l()(a,[{key:"toString",value:function(){var e=this.left.toString(),t=this.op.value,n=this.right.toString();return this.parenthesis?"(".concat(e+t+n,")"):e+t+n}}]),a}(m);var Me=function(e){u()(a,e);var t,n,i=(t=a,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,i=f()(t);if(n){var a=f()(this).constructor;e=Reflect.construct(i,arguments,a)}else e=i.apply(this,arguments);return p()(this,e)});function a(e,t){return o()(this,a),i.call(this,e,t,null)}return l()(a,[{key:"toString",value:function(){var e=this.left.toString(),t=this.op.value;return this.parenthesis?"(".concat(t+e,")"):t+e}}]),a}(Ue),Fe=function(){function e(t,n,i,a){o()(this,e),this.line=t,this.column=n,this.text=i,this.size=a}return l()(e,null,[{key:"createSourceInfo",value:function(t){return new e(t.line,t.col,t.text,t.text.length)}},{key:"createSourceInfoFromList",value:function(t,n){return new e(t.line,t.col,"",n.offset+1-t.offset)}}]),e}();var De=function(e){u()(a,e);var t,n,i=(t=a,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,i=f()(t);if(n){var a=f()(this).constructor;e=Reflect.construct(i,arguments,a)}else e=i.apply(this,arguments);return p()(this,e)});function a(e,t){var n;return o()(this,a),(n=i.call(this,e)).id=t,n._context={},Error.captureStackTrace&&Error.captureStackTrace(Z()(n),a),n}return l()(a,[{key:"context",get:function(){return this._context},set:function(e){this._context=e}}]),a}(te()(Error)),Be=ue();function Ge(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];return new De(Be.getError(e,t),e)}var Ve=Object.freeze({extra_lines:function(){return new De(Be.getError("extra_lines"))},token_missing_one:function(e,t){var n=Ge("token_missing_one",[e,t.text,t.line,t.col]);return n.context={line:t.line,column:t.col},n},token_missing_list:function(e,t){var n=e.join(Be.getOR()),i=Ve.token_missing_one(n,t);return i.context={line:t.line,column:t.col},i},id_missing:function(e){var t=Ge("id_missing",[e.text,e.line,e.col]);return t.context={line:e.line,column:e.col},t},eos_missing:function(e){var t=Ge("eos_missing",[e.line,e.col]);return t.context={line:e.line,column:e.col},t},invalid_array_dimension:function(e,t){var n=Ge("invalid_array_dimension",[t.line,t.col,e]);return n.context={line:t.line,column:t.col},n},invalid_array_size:function(e){var t=Ge("invalid_array_size",[e.line]);return t.context={line:e.line,column:e.col},t},invalid_main_return:function(e,t,n){var i=Ge("invalid_main_return",[e,t,n.line]);return i.context={line:n.line,column:n.col},i},invalid_var_declaration:function(e){var t=Ge("invalid_var_declaration",[e.line]);return t.context={line:e.line,column:e.col},t},invalid_break_command:function(e,t){var n=Ge("invalid_break_command",[t.line,e]);return n.context={line:t.line,column:t.col},n},invalid_terminal:function(e){var t=Ge("invalid_terminal",[e.text,e.line,e.col]);return t.context={line:e.line,column:e.col},t},invalid_type:function(e,t){var n=e.join(Be.getOR()),i=Ge("invalid_type",[t.text,t.line,t.col,n]);return i.context={line:t.line,column:t.col},i},const_not_init:function(e){var t=Ge("const_not_init",[e.line,e.col]);return t.context={line:e.line,column:e.col},t},invalid_id_format:function(e){var t=Ge("invalid_id_format",[e.text,e.line,e.col]);return t.context={line:e.line,column:e.col},t},duplicate_function:function(e){var t=Ge("duplicate_function",[e.text,e.line,e.col]);return t.context={line:e.line,column:e.col},t},main_parameters:function(){return Ge("main_parameters")},duplicate_variable:function(e){var t=Ge("duplicate_variable",[e.text,e.line,e.col]);return t.context={line:e.line,column:e.col},t},invalid_character:function(e,t,n){var i=Ge("invalid_character",[e,t]);return i.context={line:t,column:n},i},annonymous_array_literal:function(e){var t=Ge("annonymous_array_literal",[e.line]);return t.context={line:e.line,column:e.col},t},invalid_matrix_literal_line:function(e,t){var n=Ge("invalid_matrix_literal_line",[e,t.line]);return n.context={line:t.line,column:t.column},n},cannot_infer_matrix_line:function(e,t){var n=Ge("cannot_infer_matrix_line",[e,t.line]);return n.context={line:t.line,column:t.column},n},cannot_infer_matrix_column:function(e,t){var n=Ge("cannot_infer_matrix_column",[e,t.line]);return n.context={line:t.line,column:t.column},n},cannot_infer_vector_size:function(e,t){var n=Ge("cannot_infer_vector_size",[e,t.line]);return n.context={line:t.line,column:t.column},n},matrix_to_vector_literal_attr:function(e,t,n){var i=Ge("matrix_to_vector_literal_attr",[n.line,t,e]);return i.context={line:n.line,column:n.column},i},vector_to_matrix_literal_attr:function(e,t,n){var i=Ge("vector_to_matrix_literal_attr",[n.line,t,e]);return i.context={line:n.line,column:n.column},i},array_init_not_literal:function(e){var t=Ge("array_init_not_literal",[e.line]);return t.context={line:e.line,column:e.column},t},array_exceeds_2d:function(e){var t=Ge("array_exceeds_2d",[e.line]);return t.context={line:e.line,column:e.column},t},invalid_matrix_id_dimension:function(e){var t=Ge("invalid_matrix_id_dimension",[e.line]);return t.context={line:e.line,column:e.column},t},invalid_vector_init:function(e){var t=Ge("invalid_vector_init",[e.line]);return t.context={line:e.line,column:e.column},t},invalid_matrix_init:function(e){var t=Ge("invalid_matrix_init",[e.line]);return t.context={line:e.line,column:e.column},t},invalid_syntax:function(e,t,n){var i=Ge("invalid_syntax",[e,t]);return i.context={line:t,column:n},i}}),Pe=function(){function e(t,n){o()(this,e),this.ivprogLexer=n,this.inputStream=t,this.lexer=n.lexer,this.tokenStream=[],this.pos=0,this.ruleNames=n.getRules(),this.variableTypes=Object.entries(this.ivprogLexer.getTypeKeys()).map((function(e){var t=a()(e,2),n=t[0];return t[1],n})),this.functionTypes=this.variableTypes.concat(this.ruleNames.RK_VOID),this.parsingArrayDimension=0,this.scope=[],this.langFuncs=this.ivprogLexer.getLangFuncs(),this.definedFuncsNameList=[],this.definedVariablesStack=[]}return l()(e,null,[{key:"createParser",value:function(t){var n=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],i=new e(t,h.T.getCurrentLexer());return n&&i.fill(),i}},{key:"BASE",get:function(){return 0}},{key:"FUNCTION",get:function(){return 1}},{key:"COMMAND",get:function(){return 2}},{key:"BREAKABLE",get:function(){return 4}},{key:"EOF_TOKEN",get:function(){return{text:null,line:-1,col:-1,value:null,offset:-1,lineBreaks:!1,type:"EOF"}}}]),l()(e,[{key:"fill",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;t?this.tokenStream=t:(this.tokenStream=Array.from(this.lexer.reset(this.inputStream)),this.tokenStream=this.tokenStream.filter((function(t){if(t.type===e.ruleNames.ERROR){var n=t.text,i=t.line,a=t.col;throw Ve.invalid_syntax(n,i,a)}return t.type!==e.ruleNames.WHITESPACE&&t.type!==e.ruleNames.COMMENTS})))}},{key:"parseTree",value:function(){return this.parseProgram()}},{key:"getToken",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.pos;return t>=this.tokenStream.length?e.EOF_TOKEN:this.tokenStream[t]}},{key:"insideScope",value:function(t){return this.scope.length<=0?e.BASE===t:this.scope[this.scope.length-1]===t}},{key:"pushScope",value:function(e){this.scope.push(e)}},{key:"pushVariableStack",value:function(){this.definedVariablesStack.push([])}},{key:"popScope",value:function(){return this.scope.pop()}},{key:"popVariableStack",value:function(){return this.definedVariablesStack.pop()}},{key:"getCurrentVariableStack",value:function(){return this.definedVariablesStack[this.definedVariablesStack.length-1]}},{key:"isEOF",value:function(){return this.getToken(this.pos).type===e.EOF_TOKEN.type}},{key:"parseProgram",value:function(){this.consumeNewLines();var e=this.getToken(),t=[],n=[];if(this.ruleNames.RK_PROGRAM===e.type){for(this.pos++,this.consumeNewLines(),this.checkOpenCurly(),this.pos++,this.pushVariableStack();;){this.consumeNewLines();var i=this.getToken();if(i.type===this.ruleNames.RK_CONST||this.isVariableType(i))t=t.concat(this.parseGlobalVariables());else{if(i.type!==this.ruleNames.RK_FUNCTION)break;this.pushVariableStack(),n=n.concat(this.parseFunction()),this.popVariableStack()}}if(this.consumeNewLines(),this.checkCloseCurly(),this.pos++,this.consumeNewLines(),!this.isEOF())throw console.log(this.getToken()),Ve.extra_lines();return this.popVariableStack(),{global:t,functions:n}}throw Ve.token_missing_one(this.ivprogLexer.getReservedKeys()[this.ruleNames.RK_PROGRAM],e)}},{key:"checkOpenCurly",value:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=this.getToken();if(this.ruleNames.OPEN_CURLY!==t.type){if(e)return!1;throw Ve.token_missing_one("{",t)}return!0}},{key:"checkCloseCurly",value:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=this.getToken();if(this.ruleNames.CLOSE_CURLY!==t.type){if(e)return!1;throw Ve.token_missing_one("}",t)}return!0}},{key:"checkOpenBrace",value:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=this.getToken();if(this.ruleNames.OPEN_BRACE!==t.type){if(e)return!1;throw Ve.token_missing_one("[",t)}return!0}},{key:"checkCloseBrace",value:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=this.getToken();if(this.ruleNames.CLOSE_BRACE!==t.type){if(e)return!1;throw Ve.token_missing_one("]",t)}return!0}},{key:"checkOpenParenthesis",value:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=this.getToken();if(this.ruleNames.OPEN_PARENTHESIS!==t.type){if(e)return!1;throw Ve.token_missing_one("(",t)}return!0}},{key:"checkCloseParenthesis",value:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=this.getToken();if(this.ruleNames.CLOSE_PARENTHESIS!==t.type){if(e)return!1;throw Ve.token_missing_one(")",t)}return!0}},{key:"checkEOS",value:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=this.getToken();if(t.type!==this.ruleNames.EOS){if(e)return!1;throw Ve.eos_missing(t)}return!0}},{key:"checkFunctionDuplicate",value:function(e,t){var n=null===e?"$main":e;if(-1!==this.definedFuncsNameList.indexOf(n))throw Ve.duplicate_function(t);this.definedFuncsNameList.push(n)}},{key:"checkVariableDuplicate",value:function(e,t){if(-1!==this.getCurrentVariableStack().indexOf(e))throw Ve.duplicate_variable(t);this.getCurrentVariableStack().push(e)}},{key:"consumeForSemiColon",value:function(){var e=this.getToken();if(e.type!==this.ruleNames.EOS||!e.text.match("^;$"))throw Ve.token_missing_one(";",e);this.pos++}},{key:"parseGlobalVariables",value:function(){var e=this.parseMaybeConst();return this.checkEOS(),this.pos++,e}},{key:"parseMaybeConst",value:function(){var e=this.getToken();if(e.type===this.ruleNames.RK_CONST){this.pos++;var t=this.parseType();return this.parseDeclaration(t,!0)}if(this.isVariableType(e)){var n=this.parseType();return this.parseDeclaration(n)}throw Ve.token_missing_list([this.ivprogLexer.getReservedKeys()[this.ruleNames.RK_CONST]].concat(this.getTypeArray()),e)}},{key:"parseDeclaration",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=null,i=null,a=null,r=0,o=Fe.createSourceInfo(this.getToken()),s=this.parseID();if(this.checkVariableDuplicate(s,o),this.checkOpenBrace(!0))return this.pos+=1,this.consumeNewLines(),i=this.parseArrayDimension(),this.consumeNewLines(),this.checkCloseBrace(),this.pos+=1,r+=1,this.checkOpenBrace(!0)&&(this.pos+=1,this.consumeNewLines(),a=this.parseArrayDimension(),this.consumeNewLines(),this.checkCloseBrace(),this.pos+=1,r+=1),this.parseArrayDeclaration(e,t,s,o,r,i,a);var l=this.getToken();if(t&&l.type!==this.ruleNames.ASSIGNMENT)throw Ve.const_not_init(o);l.type===this.ruleNames.ASSIGNMENT&&(this.pos++,n=this.parseExpressionOR());var c=new R(s,e,n,t);return c.sourceInfo=o,this.getToken().type===this.ruleNames.COMMA?(this.pos++,this.consumeNewLines(),[c].concat(this.parseDeclaration(e,t))):[c]}},{key:"parseArrayDeclaration",value:function(e,t,n,i,a,r,o){var s=this.getToken(),l=r,c=o,u=null,d=!1;if((r instanceof Se||o instanceof Se)&&(d=!0,a>1&&(null==r||null==o)))throw Ve.invalid_matrix_id_dimension(Fe.createSourceInfo(s));if(t&&s.type!==this.ruleNames.ASSIGNMENT)throw Ve.const_not_init(i);if(s.type===this.ruleNames.ASSIGNMENT){if(d)throw 1==a?Ve.invalid_vector_init(Fe.createSourceInfo(s)):Ve.invalid_matrix_init(Fe.createSourceInfo(s));this.pos+=1,u=this.parseArrayLiteral(e)}if(null==u&&null==r){if(a>1)throw Ve.cannot_infer_matrix_line(n,i);throw Ve.cannot_infer_vector_size(n,i)}if(a>1&&null==u&&null==o)throw Ve.cannot_infer_matrix_column(n,i);if(1===a&&null!=u&&!u.isVector){var p=u.toString();throw Ve.matrix_to_vector_literal_attr(n,p,u.sourceInfo)}if(a>1&&null!=u&&u.isVector){var _=u.toString();throw Ve.vector_to_matrix_literal_attr(n,_,u.sourceInfo)}null==r&&((l=new Ie(z(u.lines))).sourceInfo=i),a>1&&null==o&&((c=new Ie(z(u.columns))).sourceInfo=i);var f=new I(n,new me.ArrayType(e,a),l,c,u,t);return f.sourceInfo=i,this.getToken().type===this.ruleNames.COMMA?(this.pos++,this.consumeNewLines(),[f].concat(this.parseDeclaration(e,t))):[f]}},{key:"consumeNewLines",value:function(){for(var e=this.getToken();e&&e.type===this.ruleNames.EOS&&e.text.match("^[\r\n]+$");)this.pos++,e=this.getToken()}},{key:"isVariableType",value:function(e){return this.variableTypes.find((function(t){return t===e.type}))}},{key:"parseArrayDimension",value:function(){var e=this.getToken();if(e.type===this.ruleNames.INTEGER)return this.pos++,this.getIntLiteral(e);if(e.type===this.ruleNames.ID)return this.pos++,this.parseVariable(e);if(e.type===this.ruleNames.CLOSE_BRACE)return null;throw Ve.invalid_array_dimension(this.ivprogLexer.getReservedKeys()[this.ruleNames.RK_INTEGER],e)}},{key:"getIntLiteral",value:function(e){var t=e.text,n=Fe.createSourceInfo(e),i=new Ie(z(t));return i.sourceInfo=n,i}},{key:"getRealLiteral",value:function(e){var t=Fe.createSourceInfo(e),n=new $e(X(e.text));return n.sourceInfo=t,n}},{key:"getStringLiteral",value:function(e){var t=e.text,n=Fe.createSourceInfo(e),i=new Oe(H(t));return i.sourceInfo=n,i}},{key:"getCharLiteral",value:function(e){var t=e.text,n=new Ne(q(t));return n.sourceInfo=Fe.createSourceInfo(e),n}},{key:"getBoolLiteral",value:function(e){var t=W(e.text),n=new Ce(t);return n.sourceInfo=Fe.createSourceInfo(e),n}},{key:"parseArrayLiteral",value:function(e){if(!this.checkOpenCurly(!0)){var t=this.getToken();throw Ve.array_init_not_literal(Fe.createSourceInfo(t))}var n=this.getToken();if(this.parsingArrayDimension>=2)throw Ve.array_exceeds_2d(Fe.createSourceInfo(n));this.pos+=1,this.parsingArrayDimension+=1,this.consumeNewLines();var i;i=this.checkOpenCurly(!0)?this.parseVectorList(e):this.parseExpressionList(),this.consumeNewLines(),this.checkCloseCurly();var a=this.getToken();this.pos+=1,this.parsingArrayDimension-=1;var r=Fe.createSourceInfoFromList(n,a),o=1;i[0]instanceof Le?o+=1:1==i.length&&console.log("Talvez uma variável seja uma melhor opção");var s=new me.ArrayType(e,o),l=new Le(s,i);return l.sourceInfo=r,l}},{key:"parseVectorList",value:function(e){for(var t=[],n=null;;){this.checkOpenCurly();var i=this.getToken();if(this.parsingArrayDimension>=2)throw Ve.array_exceeds_2d(Fe.createSourceInfo(i));this.pos+=1,this.parsingArrayDimension+=1,this.consumeNewLines();var a=this.parseExpressionList();this.consumeNewLines(),this.checkCloseCurly();var r=this.getToken();this.pos+=1,this.parsingArrayDimension-=1;var o=Fe.createSourceInfoFromList(i,r);if(null==n)n=a.length;else if(n!==a.length){var s=this.inputStream.substring(i.offset,r.offset+r.text.length);throw Ve.invalid_matrix_literal_line(s,o)}var l=new me.ArrayType(e,1),c=new Le(l,a);if(c.sourceInfo=o,t.push(c),this.getToken().type!==this.ruleNames.COMMA)break;this.pos+=1,this.consumeNewLines()}return 1==t.length&&console.log("Talvez um vetor seja uma melhor opção"),t}},{key:"parseVariable",value:function(e){var t=Fe.createSourceInfo(e),n=new Se(e.text);return n.sourceInfo=t,n}},{key:"parseFunction",value:function(){this.pushScope(e.FUNCTION);var t=[],n=this.getToken();if(n.type!==this.ruleNames.RK_FUNCTION)return null;this.pos++;var i=this.parseType(),a=0;this.checkOpenBrace(!0)&&(this.pos++,this.checkCloseBrace(),this.pos++,a++,this.checkOpenBrace(!0)&&(this.pos++,this.checkCloseBrace(),this.pos++,a++));var r=this.getToken(),o=this.parseID();this.checkFunctionDuplicate(o,r),this.checkOpenParenthesis(),this.pos++,this.consumeNewLines(),this.checkCloseParenthesis(!0)||(t=this.parseFormalParameters(),this.consumeNewLines(),this.checkCloseParenthesis()),this.pos++,this.consumeNewLines();var s=this.parseCommandBlock(),l=i;a>0&&(l=new me.ArrayType(i,a));var c=new L(o,l,t,s);if(null===o&&!c.isMain)throw Ve.invalid_main_return(ke.getMainFunctionName(),this.ivprogLexer.getReservedKeys()[this.ruleNames.RK_VOID],n.line);if(c.isMain&&0!==t.length)throw Ve.main_parameters();return this.popScope(),c.sourceInfo=Fe.createSourceInfo(r),c}},{key:"parseFormalParameters",value:function(){for(var e=[];;){var t=0,n=!1,i=this.parseType(),a=this.getToken();a.type===this.ruleNames.RK_REFERENCE&&(n=!0,this.pos+=1,a=this.getToken());var r=this.parseID();this.checkVariableDuplicate(r,a),this.checkOpenBrace(!0)&&(this.pos+=1,t+=1,this.checkCloseBrace(),this.pos+=1,this.checkOpenBrace(!0)&&(this.pos+=1,t+=1,this.checkCloseBrace(),this.pos+=1));var o;o=t>0?new me.ArrayType(i,t):i;var s=new G(o,r,n);if(s.sourceInfo=Fe.createSourceInfo(a),e.push(s),this.getToken().type!==this.ruleNames.COMMA)break;this.pos++,this.consumeNewLines()}return e}},{key:"parseID",value:function(){var t=this.getToken();if(t.type!==this.ruleNames.ID)throw Ve.id_missing(t);return this.pos++,this.insideScope(e.FUNCTION)&&t.text===ke.getMainFunctionName()?null:t.text}},{key:"parseMaybeLibID",value:function(){var e=this.getToken();if(e.type!==this.ruleNames.ID)throw Ve.id_missing(e);if(this.getToken(this.pos+1).type===this.ruleNames.DOT){this.pos+=2;var t=this.getToken();if(t.type!==this.ruleNames.ID)throw Ve.id_missing(t);return this.pos++,"".concat(e.text,".").concat(t.text)}return this.pos++,e.text}},{key:"parseType",value:function(){var t=this.getToken();if(t.type===this.ruleNames.ID&&this.insideScope(e.FUNCTION))return O.Types.VOID;if(t.type===this.ruleNames.RK_VOID&&this.insideScope(e.FUNCTION))return this.pos++,O.Types.VOID;if(this.isVariableType(t))switch(this.pos++,t.type){case this.ruleNames.RK_INTEGER:return O.Types.INTEGER;case this.ruleNames.RK_BOOLEAN:return O.Types.BOOLEAN;case this.ruleNames.RK_REAL:return O.Types.REAL;case this.ruleNames.RK_STRING:return O.Types.STRING;case this.ruleNames.RK_CHARACTER:return O.Types.CHAR}throw Ve.invalid_type(this.getTypeArray(),t)}},{key:"parseCommandBlock",value:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=[],n=[],i=!1;this.checkOpenCurly(e)&&(this.pos++,i=!0),this.consumeNewLines();for(var a=!1;;){var r=this.parseCommand();if(null===r)break;if(-1!==r)if(r instanceof Array){if(a){var o=this.getToken(this.pos-1);throw Ve.invalid_var_declaration(o)}t=t.concat(r)}else a=!0,n.push(r)}return this.consumeNewLines(),i&&(this.checkCloseCurly(),this.pos++,this.consumeNewLines()),new U(t,n)}},{key:"parseCommand",value:function(){var t=this.getToken();if(this.isVariableType(t)){if(!this.insideScope(e.FUNCTION))throw Ve.invalid_var_declaration(t);this.pushScope(e.BASE);var n=this.parseType();this.popScope();var i=this.parseDeclaration(n);return this.checkEOS(),this.pos++,i}if(t.type===this.ruleNames.ID)return this.parseIDCommand();if(t.type===this.ruleNames.DOT)throw Ve.invalid_syntax(t.text,t.line,t.col);if(t.type===this.ruleNames.RK_RETURN)return this.parseReturn();if(t.type===this.ruleNames.RK_WHILE||t.type===this.ruleNames.RK_WHILE_ALT)return this.parseWhile();if(t.type===this.ruleNames.RK_FOR||t.type===this.ruleNames.RK_FOR_ALT)return this.parseFor();if(t.type===this.ruleNames.RK_BREAK){if(!this.insideScope(e.BREAKABLE))throw Ve.invalid_break_command(this.ivprogLexer.getReservedKeys()[this.ruleNames.RK_BREAK],t);return this.parseBreak()}return t.type===this.ruleNames.RK_SWITCH?this.parseSwitchCase():t.type===this.ruleNames.RK_DO?this.parseRepeatUntil():t.type===this.ruleNames.RK_IF?this.parseIfThenElse():this.checkEOS(!0)?(this.pos++,-1):null}},{key:"parseSwitchCase",value:function(){var t=this.getToken();this.pushScope(e.BREAKABLE),this.pos++,this.checkOpenParenthesis(),this.pos++,this.consumeNewLines();var n=this.parseExpressionOR();this.consumeNewLines(),this.checkCloseParenthesis(),this.pos++,this.consumeNewLines(),this.checkOpenCurly(),this.pos++,this.consumeNewLines();var i=this.parseCases();this.consumeNewLines(),this.checkCloseCurly(),this.pos++,this.consumeNewLines(),this.popScope();var a=new F(n,i);return a.sourceInfo=Fe.createSourceInfo(t),a}},{key:"parseRepeatUntil",value:function(){var t=this.getToken();this.pos++,this.consumeNewLines(),this.pushScope(e.BREAKABLE);var n=this.parseCommandBlock();this.consumeNewLines();var i=this.getToken();if(i.type!==this.ruleNames.RK_DO_UNTIL)throw Ve.token_missing_one(this.ivprogLexer.getReservedKeys()[this.ruleNames.RK_DO_UNTIL],i);this.pos++,this.checkOpenParenthesis(),this.pos++,this.consumeNewLines();var a=this.parseExpressionOR();this.consumeNewLines(),this.checkCloseParenthesis(),this.pos++,this.checkEOS(),this.popScope();var r=new M(a,n);return r.sourceInfo=Fe.createSourceInfo(t),r}},{key:"parseIfThenElse",value:function(){this.insideScope(e.BREAKABLE)?this.pushScope(e.BREAKABLE):this.pushScope(e.COMMAND);var t=this.getToken();this.pos++,this.checkOpenParenthesis(),this.pos++,this.consumeNewLines();var n=this.parseExpressionOR();this.consumeNewLines(),this.checkCloseParenthesis(),this.pos++,this.consumeNewLines();var i=this.parseCommandBlock();if(this.getToken().type===this.ruleNames.RK_ELSE){this.pos++,this.consumeNewLines();var a=this.getToken(),r=null;if(this.checkOpenCurly(!0))r=this.parseCommandBlock();else{if(a.type!==this.ruleNames.RK_IF)throw Ve.token_missing_list([this.ivprogLexer.getReservedKeys()[this.ruleNames.RK_IF],"{"],a);r=this.parseIfThenElse()}this.popScope();var o=new S(n,i,r);return o.sourceInfo=Fe.createSourceInfo(t),o}this.popScope();var s=new S(n,i,null);return s.sourceInfo=Fe.createSourceInfo(t),s}},{key:"parseFor",value:function(){this.pushScope(e.BREAKABLE);var t=this.getToken();this.pos+=1;var n=this.getToken(),i=this.parseID(),a=new Se(i);a.sourceInfo=Fe.createSourceInfo(n);var r=this.parseForParameters(this.ruleNames.RK_FOR_FROM),o=this.parseForParameters(this.ruleNames.RK_FOR_TO),s=this.parseForParameters(this.ruleNames.RK_FOR_PASS);this.consumeNewLines();var l=this.parseCommandBlock();this.popScope();var c=new N(a,r,o,s,l);return c.sourceInfo=Fe.createSourceInfo(t),c}},{key:"parseWhile",value:function(){this.pushScope(e.BREAKABLE);var t=this.getToken();this.pos++,this.checkOpenParenthesis(),this.pos++,this.consumeNewLines();var n=this.parseExpressionOR();this.consumeNewLines(),this.checkCloseParenthesis(),this.pos++,this.consumeNewLines();var i=this.parseCommandBlock();this.popScope();var a=new C(n,i);return a.sourceInfo=Fe.createSourceInfo(t),a}},{key:"parseBreak",value:function(){var e=this.getToken();this.pos++,this.checkEOS(),this.pos++;var t=new E;return t.sourceInfo=Fe.createSourceInfo(e),t}},{key:"parseReturn",value:function(){var e=this.getToken();this.pos++;var t=null;this.checkEOS(!0)||(t=this.parseExpressionOR(),this.checkEOS()),this.pos++;var n=new T(t);return n.sourceInfo=Fe.createSourceInfo(e),n}},{key:"parseIDCommand",value:function(){var e=this.getToken(),t=this.parseMaybeLibID(),n=-1===t.indexOf(".");if(this.checkOpenBrace(!0)){this.pos++;var i,a=null;this.consumeNewLines(),i=this.parseExpression(),this.consumeNewLines(),this.checkCloseBrace(),this.pos++,this.checkOpenBrace(!0)&&(this.pos++,this.consumeNewLines(),a=this.parseExpression(),this.consumeNewLines(),this.checkCloseBrace(),this.pos++);var r=this.getToken();if(r.type!==this.ruleNames.ASSIGNMENT)throw Ve.token_missing_one("<-",r);this.pos++;var o=this.parseExpressionOR();this.checkEOS(),this.pos++;var s=new A(t,i,a,o);return s.sourceInfo=Fe.createSourceInfo(r),s}var l=this.getToken();if(n&&l.type===this.ruleNames.ASSIGNMENT){this.pos++;var c=this.parseExpressionOR();this.checkEOS(),this.pos++;var u=new k(t,c);return u.sourceInfo=Fe.createSourceInfo(l),u}if(l.type===this.ruleNames.OPEN_PARENTHESIS){var d=this.parseFunctionCallCommand(t);return this.checkEOS(),this.pos++,d}throw n?Ve.token_missing_list(["<-","("],l):Ve.invalid_id_format(e)}},{key:"parseForParameters",value:function(e){if(e===this.ruleNames.RK_FOR_PASS&&this.checkOpenCurly(!0))return null;var t=this.getToken();if(t.type!==e){var n=this.ivprogLexer.getReservedKeys()[e];throw new Error("Error de sintaxe no comando repita_para: esperava-se "+n+" mas encontrou "+t.text)}this.pos+=1;var i=this.getToken(),a=!1,r=null;i.type===this.ruleNames.SUM_OP&&(a=!0,r=i.text,this.pos+=1,i=this.getToken());var o=null;if(i.type===this.ruleNames.ID?(o=new Se(this.parseID())).sourceInfo=Fe.createSourceInfo(i):i.type===this.ruleNames.INTEGER&&(this.pos+=1,o=this.getIntLiteral(i)),null==o){var s=this.ivprogLexer.getReservedKeys()[e];throw new Error("Error de sintaxe no comando repeita_para: "+i.text+" não é compativel com o esperado para o paramentro "+s+". O valor deve ser um inteiro ou variável.")}return a&&(o=new Me((0,oe.convertFromString)(r),o)),o}},{key:"parseCases",value:function(){var e=this.getToken();if(e.type!==this.ruleNames.RK_CASE)throw Ve.token_missing_one(this.ivprogLexer.getReservedKeys()[this.ruleNames.RK_CASE],e);if(this.pos++,this.getToken().type===this.ruleNames.RK_DEFAULT){this.pos++;var t=this.getToken();if(t.type!==this.ruleNames.COLON)throw Ve.token_missing_one(":",t);this.pos++,this.consumeNewLines();var n=this.parseCommandBlock(!0),i=new D(null);return i.sourceInfo=Fe.createSourceInfo(e),i.setCommands(n.commands),[i]}var a=this.parseExpressionOR(),r=this.getToken();if(r.type!==this.ruleNames.COLON)throw Ve.token_missing_one(":",r);this.pos++,this.consumeNewLines();var o=this.parseCommandBlock(!0),s=new D(a);return s.sourceInfo=Fe.createSourceInfo(e),s.setCommands(o.commands),this.getToken().type===this.ruleNames.RK_CASE?[s].concat(this.parseCases()):[s]}},{key:"parseExpressionOR",value:function(){for(var e=this.parseExpressionAND();this.getToken().type===this.ruleNames.RK_LOGICAL_OR;){var t=this.getToken();this.pos++;var n=(0,oe.convertFromString)("or");this.consumeNewLines();var i=this.parseExpressionAND(),a=new Ue(n,e,i);a.sourceInfo=Fe.createSourceInfo(t),e=a}return e}},{key:"parseExpressionAND",value:function(){for(var e=this.parseExpressionNot();this.getToken().type===this.ruleNames.RK_LOGICAL_AND;){var t=this.getToken();this.pos++;var n=(0,oe.convertFromString)("and");this.consumeNewLines();var i=this.parseExpressionNot(),a=new Ue(n,e,i);a.sourceInfo=Fe.createSourceInfo(t),e=a}return e}},{key:"parseExpressionNot",value:function(){if(this.getToken().type===this.ruleNames.RK_LOGICAL_NOT){var e=this.getToken();this.pos++;var t=(0,oe.convertFromString)("not"),n=this.parseExpressionRel(),i=new Me(t,n);return i.sourceInfo=Fe.createSourceInfo(e),i}return this.parseExpressionRel()}},{key:"parseExpressionRel",value:function(){for(var e=this.parseExpression();this.getToken().type===this.ruleNames.RELATIONAL_OPERATOR;){var t=this.getToken();this.pos++;var n=(0,oe.convertFromString)(t.text),i=this.parseExpression(),a=new Ue(n,e,i);a.sourceInfo=Fe.createSourceInfo(t),e=a}return e}},{key:"parseExpression",value:function(){for(var e=this.parseFactor();this.getToken().type===this.ruleNames.SUM_OP;){var t=this.getToken();this.pos++;var n=(0,oe.convertFromString)(t.text),i=this.parseFactor(),a=new Ue(n,e,i);a.sourceInfo=Fe.createSourceInfo(t),e=a}return e}},{key:"parseFactor",value:function(){for(var e=this.parseTerm();this.getToken().type===this.ruleNames.MULTI_OP;){var t=this.getToken();this.pos++;var n=(0,oe.convertFromString)(t.text),i=this.parseTerm(),a=new Ue(n,e,i);a.sourceInfo=Fe.createSourceInfo(t),e=a}return e}},{key:"parseTerm",value:function(){var e=this.getToken(),t=null,n=null;switch(e.type){case this.ruleNames.SUM_OP:return this.pos++,t=Fe.createSourceInfo(e),(n=new Me((0,oe.convertFromString)(e.text),this.parseTerm())).sourceInfo=t,n;case this.ruleNames.INTEGER:return this.pos++,this.getIntLiteral(e);case this.ruleNames.REAL:return this.pos++,this.getRealLiteral(e);case this.ruleNames.STRING:return this.pos++,this.getStringLiteral(e);case this.ruleNames.CHARACTER:return this.pos++,this.getCharLiteral(e);case this.ruleNames.RK_TRUE:case this.ruleNames.RK_FALSE:return this.pos++,this.getBoolLiteral(e);case this.ruleNames.OPEN_CURLY:throw Ve.annonymous_array_literal(e);case this.ruleNames.ID:return this.parseIDTerm();case this.ruleNames.OPEN_PARENTHESIS:return this.parseParenthesisExp();default:throw Ve.invalid_terminal(e)}}},{key:"parseIDTerm",value:function(){var e=this.getToken(),t=this.parseMaybeLibID(),n=-1===t.indexOf(".");if(n&&this.checkOpenBrace(!0)){var i=null;this.pos++;var a=this.parseExpression(),r=null;this.consumeNewLines(),this.checkCloseBrace(),i=this.getToken(),this.pos++,this.checkOpenBrace(!0)&&(this.pos++,r=this.parseExpression(),this.consumeNewLines(),this.checkCloseBrace(),i=this.getToken(),this.pos++);var o=Fe.createSourceInfoFromList(e,i),s=new v(t,a,r);return s.sourceInfo=o,s}if(this.checkOpenParenthesis(!0))return this.parseFunctionCallExpression(t);if(n){var l=Fe.createSourceInfo(e),c=new Se(t);return c.sourceInfo=l,c}throw Ve.invalid_id_format(e)}},{key:"getFunctionName",value:function(e){var t=ke.getInternalName(e);return null===t?e===ke.getMainFunctionName()?null:e:t}},{key:"parseFunctionCallExpression",value:function(e){var t=-1===e.indexOf(".")?1:3,n=this.getToken(this.pos-t),i=this.parseActualParameters(),a=this.getToken(this.pos-1),r=this.getFunctionName(e),o=Fe.createSourceInfoFromList(n,a),s=new Ae(r,i);return s.sourceInfo=o,s}},{key:"parseFunctionCallCommand",value:function(e){return this.parseFunctionCallExpression(e)}},{key:"parseParenthesisExp",value:function(){this.checkOpenParenthesis();var e=this.getToken();this.pos+=1,this.consumeNewLines();var t=this.parseExpressionOR();this.consumeNewLines(),this.checkCloseParenthesis();var n=this.getToken();return this.pos+=1,t.sourceInfo=Fe.createSourceInfoFromList(e,n),t.parenthesis=!0,t}},{key:"parseActualParameters",value:function(){if(this.checkOpenParenthesis(),this.pos++,this.checkCloseParenthesis(!0))return this.pos++,[];this.consumeNewLines();var e=this.parseExpressionList();return this.consumeNewLines(),this.checkCloseParenthesis(),this.pos++,e}},{key:"parseExpressionList",value:function(){for(var e=[];;){var t=this.parseExpressionOR();if(e.push(t),this.getToken().type!==this.ruleNames.COMMA)break;this.pos++,this.consumeNewLines()}return e}},{key:"getTypeArray",value:function(){var t=this;return(this.insideScope(e.FUNCTION)?this.functionTypes:this.variableTypes).map((function(e){return t.lexer.literalNames[e]}))}}]),e}(),Ke=n(6753),je=n(9902),ze=n(7286),He=null,qe=null;function Xe(e){return/^[a-zA-Z_][a-zA-Z0-9_]*$/.test(e)&&!function(e){!function(){if(null==He){He=[];for(var e=["RK_PROGRAM","RK_REAL","RK_VOID","RK_BOOLEAN","RK_STRING","RK_INTEGER","RK_CHARACTER","RK_SWITCH","RK_CASE","RK_DEFAULT","RK_CONST","RK_FUNCTION","RK_RETURN","RK_FOR","RK_BREAK","RK_DO","RK_WHILE","RK_IF","RK_ELSE","RK_FALSE","RK_TRUE"],t=h.T.getCurrentLexer().getReservedKeys(),n=0;n<e.length;++n){var i=t[e[n]];He.push(i)}}if(null==qe){qe=[];for(var a=[oe.Operators.AND.value,oe.Operators.OR.value,oe.Operators.NOT.value],r=0;r<a.length;++r){var o="logic_operator_".concat(a[r]);qe.push(le.getUI(o))}}}();for(var t=0;t<He.length;++t)if(He[t]==e)return!0;for(var n=0;n<qe.length;n++)if(qe[n]==e)return!0;return!1}(e)}function We(e,t){if(0==e.length)return t.length;if(0==t.length)return e.length;var n,i,a=[];for(n=0;n<=t.length;n++)a[n]=[n];for(i=0;i<=e.length;i++)a[0][i]=i;for(n=1;n<=t.length;n++)for(i=1;i<=e.length;i++)t.charCodeAt(n-1)==e.charCodeAt(i-1)?a[n][i]=a[n-1][i-1]:a[n][i]=Math.min(a[n-1][i-1]+1,Math.min(a[n][i-1]+1,a[n-1][i]+1));return a[t.length][e.length]}var Ye=null;function Qe(e){e.preventDefault();var t=e.currentTarget.dataset.page;null!=Ye&&Ye.close(),(Ye=window.open("","DetailWindow","width=550,height=600")).document.open(),Ye.document.write(t),Ye.document.close()}function Je(e){return Ze.apply(this,arguments)}function Ze(){return(Ze=b()(y().mark((function e(t){return y().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new Promise((function(e,n){return setTimeout(e,t)})));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var et=n(6618),tt=n(5019),nt=n(5206),it=n(8116),at=n(153),rt=function(){function e(t){o()(this,e),this.ast=t,this.globalStore=new Ke.y("$global"),this.stores=[this.globalStore],this.context=[je._.BASE],this.input=null,this.forceKill=!1,this.output=null,this.mode=V.Modes.RUN,this.function_call_stack=[],this.instruction_count=0,this.function_call_count=0}var t,n,i,r,s,c,u,d,p,_,f,m,h,g,x,w,$,L,D,G,P,K,H,q,X,W,Y,J,Z,ee,te;return l()(e,null,[{key:"MAIN_INTERNAL_ID",get:function(){return"$main"}}]),l()(e,[{key:"registerInput",value:function(e){null!==this.input&&(this.input=null),this.input=e}},{key:"registerOutput",value:function(e){null!==this.output&&(this.output=null),this.output=e}},{key:"checkContext",value:function(e){return this.context[this.context.length-1]===e}},{key:"ignoreSwitchCases",value:function(e){return e.mode===V.Modes.RETURN||e.mode===V.Modes.BREAK}},{key:"prepareState",value:function(){if(null!==this.stores){for(var e=0;e<this.stores.length;e++)delete this.stores[e];this.stores=null}null!==this.globalStore&&(this.globalStore=null),this.globalStore=new Ke.y("$global"),this.stores=[this.globalStore],this.context=[je._.BASE],this.instruction_count=0,this.mode=V.Modes.RUN}},{key:"interpretAST",value:(te=b()(y().mark((function e(){var t;return y().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.prepareState(),et.Location.clear(),e.next=4,this.initGlobal();case 4:if(null!==(t=this.findMainFunction())){e.next=7;break}throw _e.main_missing();case 7:return e.abrupt("return",this.runFunction(t,[],this.globalStore));case 8:case"end":return e.stop()}}),e,this)}))),function(){return te.apply(this,arguments)})},{key:"initGlobal",value:(ee=b()(y().mark((function e(){return y().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.checkContext(je._.BASE)){e.next=2;break}return e.abrupt("return",_e.invalid_global_var());case 2:return e.abrupt("return",this.executeCommands(this.globalStore,this.ast.global));case 3:case"end":return e.stop()}}),e,this)}))),function(){return ee.apply(this,arguments)})},{key:"findMainFunction",value:function(){return this.ast.functions.find((function(e){return e.isMain}))}},{key:"findFunction",value:function(t){if(t.match(/^\$.+$/)){if(t===e.MAIN_INTERNAL_ID)return this.findMainFunction();var n=ke.getFunction(t);if(!n)throw _e.not_implemented(t);return n}var i=this.ast.functions.find((function(e){return e.name===t}));if(!i)throw _e.function_missing(t);return i}},{key:"runFunction",value:(Z=b()(y().mark((function t(n,i,a){var r,o,s,l;return y().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=n.isMain?e.MAIN_INTERNAL_ID:n.name,(o=new Ke.y(r)).extendStore(this.globalStore),t.next=5,this.associateParameters(n.formalParameters,i,a,o);case 5:return this.context.push(je._.FUNCTION),this.stores.push(o),t.next=9,this.executeCommands(o,n.variablesDeclarations);case 9:return s=t.sent,t.next=12,this.executeCommands(s,n.commands);case 12:return l=t.sent,this.stores.pop(),this.context.pop(),t.abrupt("return",l);case 16:case"end":return t.stop()}}),t,this)}))),function(e,t,n){return Z.apply(this,arguments)})},{key:"associateParameters",value:(J=b()(y().mark((function t(n,i,r,o){var s,l,c,u,d,p,_,f;return y().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(s=o.name===e.MAIN_INTERNAL_ID?ke.getMainFunctionName():o.name,l=n.some((function(e){return e.variadic})),!(n.length!=i.length&&!l||n.length>i.length)){t.next=4;break}throw _e.invalid_parameters_size(s,n.length,i.length);case 4:c=0,u=0;case 5:if(!(c<n.length&&u<i.length)){t.next=23;break}if(!(d=n[c]).variadic){t.next=16;break}return t.next=10,this.associateVariadicParameter(s,d,u,i,r,o);case 10:p=t.sent,_=a()(p,2),u=_[0],o=_[1],t.next=20;break;case 16:return f=i[c],t.next=19,this.associateParameter(s,d,f,r,o);case 19:o=t.sent;case 20:c+=1,u+=1,t.next=5;break;case 23:return t.abrupt("return",o);case 24:case"end":return t.stop()}}),t,this)}))),function(e,t,n,i){return J.apply(this,arguments)})},{key:"associateVariadicParameter",value:(Y=b()(y().mark((function e(t,n,i,a,r,o){var s,l,c,u;return y().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:l=1,s=i;case 2:if(!(s<a.length)){e.next=11;break}return c=a[s],e.next=6,this.associateParameter(t,n,c,r,o,l);case 6:o=e.sent,l+=1;case 8:s+=1,e.next=2;break;case 11:return u=new fe.StoreValue(O.Types.INTEGER,l,void 0,!0),o.insertStore("".concat(n.id,".0"),u),e.abrupt("return",[s-1,o]);case 14:case"end":return e.stop()}}),e,this)}))),function(e,t,n,i,a,r){return Y.apply(this,arguments)})},{key:"associateParameter",value:(W=b()(y().mark((function e(t,n,i,a,r){var o,s,l,c,u,d,p,_,f,m,v,h,g,x,b=arguments;return y().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return o=b.length>5&&void 0!==b[5]?b[5]:0,e.next=3,this.evaluateExpression(a,i);case 3:if(s=e.sent,l=!1,n.type.isCompatible(s.type)){e.next=11;break}if(!j.Config.enable_type_casting||n.byRef||!Ke.y.canImplicitTypeCast(n.type,s.type)){e.next=10;break}l=!0,e.next=11;break;case 10:throw _e.invalid_parameter_type(t,i.toString());case 11:if(!n.byRef||s.inStore()){e.next=13;break}throw _e.invalid_ref(t,i.toString());case 13:return n.byRef?(c=a.getStoreObject(s.id),u=null,s instanceof nt.ArrayStoreValue?(d=s.get(),p=s.type,_=d.map((function(e){return c.getLocAddressOf(e.line,e.column)})),f=s.isVector()?0:s.columns,u=new it.ArrayStoreValueRef(p,d,_,s.lines,f,c.id)):s instanceof at.StoreValueAddress?(m=s.line,v=s.column,(u=new tt.StoreValueRef(s.type,s.get(),c.getLocAddressOf(m,v),c.id)).setReferenceDimension(c.type.dimensions)):u=new tt.StoreValueRef(s.type,s.get(),c.locAddress,c.id),h=n.id,n.variadic&&(h="".concat(h,".").concat(o)),r.insertStore(h,u)):(g=s,l&&(g=Ke.y.doImplicitCasting(n.type,g)),x=n.id,n.variadic&&(x="".concat(x,".").concat(o)),r.insertStore(x,g)),e.abrupt("return",r);case 15:case"end":return e.stop()}}),e,this)}))),function(e,t,n,i,a){return W.apply(this,arguments)})},{key:"executeCommands",value:(X=b()(y().mark((function e(t,n){var i,a;return y().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:i=t,a=0;case 2:if(!(a<n.length)){e.next=9;break}return e.next=5,this.executeCommand(i,n[a]);case 5:i=e.sent;case 6:a+=1,e.next=2;break;case 9:return e.abrupt("return",i);case 10:case"end":return e.stop()}}),e,this)}))),function(e,t){return X.apply(this,arguments)})},{key:"executeCommand",value:(q=b()(y().mark((function e(t,n){return y().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.instruction_count+=1,this.instruction_count%j.Config.suspend_threshold!=0){e.next=4;break}return e.next=4,Je(3);case 4:if(!(this.instruction_count>=j.Config.max_instruction_count)){e.next=8;break}throw _e.exceed_max_instructions();case 8:if(!this.forceKill){e.next=12;break}throw"FORCED_KILL!";case 12:if(t.mode!==V.Modes.PAUSE){e.next=16;break}return e.abrupt("return",this.executeCommand(t,n));case 16:if(t.mode!==V.Modes.RETURN){e.next=20;break}return e.abrupt("return",t);case 20:if(!this.checkContext(je._.BREAKABLE)||t.mode!==V.Modes.BREAK){e.next=24;break}return e.abrupt("return",t);case 24:if(this.mode!==V.Modes.ABORT){e.next=26;break}throw le.getMessage("aborted_execution");case 26:if(!(n instanceof R)){e.next=30;break}return e.abrupt("return",this.executeDeclaration(t,n));case 30:if(!(n instanceof A)){e.next=34;break}return e.abrupt("return",this.executeArrayIndexAssign(t,n));case 34:if(!(n instanceof k)){e.next=38;break}return e.abrupt("return",this.executeAssign(t,n));case 38:if(!(n instanceof E)){e.next=42;break}return e.abrupt("return",this.executeBreak(t,n));case 42:if(!(n instanceof T)){e.next=46;break}return e.abrupt("return",this.executeReturn(t,n));case 46:if(!(n instanceof S)){e.next=50;break}return e.abrupt("return",this.executeIfThenElse(t,n));case 50:if(!(n instanceof M)){e.next=54;break}return e.abrupt("return",this.executeRepeatUntil(t,n));case 54:if(!(n instanceof C)){e.next=58;break}return e.abrupt("return",this.executeWhile(t,n));case 58:if(!(n instanceof N)){e.next=62;break}return e.abrupt("return",this.executeFor(t,n));case 62:if(!(n instanceof F)){e.next=66;break}return e.abrupt("return",this.executeSwitch(t,n));case 66:if(!(n instanceof Ae)){e.next=70;break}return e.abrupt("return",this.executeFunctionCall(t,n));case 70:if(!(n instanceof B)){e.next=74;break}return e.abrupt("return",this.executeSysCall(t,n));case 74:throw _e.unknown_command(n.sourceInfo);case 75:case"end":return e.stop()}}),e,this)}))),function(e,t){return q.apply(this,arguments)})},{key:"executeSysCall",value:(H=b()(y().mark((function e(t,n){var i;return y().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=n.langFunc.bind(this),e.abrupt("return",i(t,n));case 2:case"end":return e.stop()}}),e,this)}))),function(e,t){return H.apply(this,arguments)})},{key:"executeFunctionCall",value:(K=b()(y().mark((function t(n,i){var a,r,o;return y().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a=null,a=i.isMainCall?this.findMainFunction():this.findFunction(i.id),this.function_call_stack.push(i.sourceInfo),t.next=5,this.runFunction(a,i.actualParameters,n);case 5:if((r=t.sent).destroy(),O.Types.VOID.isCompatible(a.returnType)||r.mode===V.Modes.RETURN){t.next=12;break}throw o=a.name===e.MAIN_INTERNAL_ID?ke.getMainFunctionName():a.name,_e.function_no_return(o);case 12:return this.function_call_stack.pop(),t.abrupt("return",n);case 14:case"end":return t.stop()}}),t,this)}))),function(e,t){return K.apply(this,arguments)})},{key:"executeSwitch",value:(P=b()(y().mark((function e(t,n){var i,a,r,o,s,l,c;return y().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.context.push(je._.BREAKABLE),i=n.cases,a=t,r=!1,o=0;case 5:if(!(o<i.length)||this.ignoreSwitchCases(a)){e.next=26;break}if(s=i[o],!r&&!s.isDefault){e.next=13;break}return e.next=10,this.executeCommands(a,s.commands);case 10:a=e.sent,e.next=23;break;case 13:return(l=new Ue(oe.Operators.EQ,n.expression,s.expression)).sourceInfo=s.sourceInfo,e.next=17,this.evaluateExpression(a,l);case 17:if(!(c=e.sent).get()){e.next=22;break}return e.next=21,this.executeCommands(a,s.commands);case 21:a=e.sent;case 22:r=c.get();case 23:o+=1,e.next=5;break;case 26:return this.context.pop(),a.mode===V.Modes.BREAK&&(a.mode=V.Modes.RUN),e.abrupt("return",a);case 29:case"end":return e.stop()}}),e,this)}))),function(e,t){return P.apply(this,arguments)})},{key:"executeFor",value:(G=b()(y().mark((function e(t,n){var i,a,r,o,s,l,c;return y().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if((i=new k(n.for_id.id,n.for_from)).sourceInfo=n.sourceInfo,a=n.for_pass,r=new Ue(oe.Operators.LT,n.for_id,n.for_to),null!=n.for_pass){e.next=12;break}return a=new Ie(z(1)),e.next=8,this.evaluateExpression(t,new Ue(oe.Operators.GE,n.for_to,n.for_from));case 8:e.sent.get()||(a=new Ie(z(-1)),r=new Ue(oe.Operators.GT,n.for_id,n.for_to)),e.next=16;break;case 12:return e.next=14,this.evaluateExpression(t,new Ue(oe.Operators.GE,n.for_pass,new Ie(z(0))));case 14:e.sent.get()||(r=new Ue(oe.Operators.GT,n.for_id,n.for_to));case 16:return r.sourceInfo=n.sourceInfo,(o=new k(n.for_id.id,new Ue(oe.Operators.ADD,n.for_id,a))).sourceInfo=n.sourceInfo,s=new U([],n.commands.concat(o)),(l=new C(r,s)).sourceInfo=n.sourceInfo,c=[i,l],e.abrupt("return",this.executeCommands(t,c));case 24:case"end":return e.stop()}}),e,this)}))),function(e,t){return G.apply(this,arguments)})},{key:"executeRepeatUntil",value:(D=b()(y().mark((function e(t,n){var i,a;return y().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.context.push(je._.BREAKABLE),e.next=3,this.executeCommands(t,n.commands);case 3:if((i=e.sent).mode!==V.Modes.BREAK){e.next=8;break}return this.context.pop(),i.mode=V.Modes.RUN,e.abrupt("return",i);case 8:return e.next=10,this.evaluateExpression(i,n.expression);case 10:if((a=e.sent).type.isCompatible(O.Types.BOOLEAN)){e.next=13;break}throw _e.loop_condition_type_full(n.sourceInfo);case 13:if(this.context.pop(),!a.get()){e.next=18;break}return e.abrupt("return",i);case 18:return e.abrupt("return",this.executeCommand(i,n));case 19:case"end":return e.stop()}}),e,this)}))),function(e,t){return D.apply(this,arguments)})},{key:"executeWhile",value:(L=b()(y().mark((function e(t,n){var i,a;return y().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.context.push(je._.BREAKABLE),e.next=3,this.evaluateExpression(t,n.expression);case 3:if((i=e.sent).type.isCompatible(O.Types.BOOLEAN)){e.next=6;break}throw _e.loop_condition_type_full(n.expression.toString(),n.sourceInfo);case 6:if(!i.get()){e.next=17;break}return e.next=9,this.executeCommands(t,n.commands);case 9:if(a=e.sent,this.context.pop(),a.mode!==V.Modes.BREAK){e.next=14;break}return a.mode=V.Modes.RUN,e.abrupt("return",a);case 14:return e.abrupt("return",this.executeCommand(a,n));case 17:return this.context.pop(),e.abrupt("return",t);case 19:case"end":return e.stop()}}),e,this)}))),function(e,t){return L.apply(this,arguments)})},{key:"executeIfThenElse",value:($=b()(y().mark((function e(t,n){var i;return y().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.evaluateExpression(t,n.condition);case 2:if((i=e.sent).type.isCompatible(O.Types.BOOLEAN)){e.next=5;break}throw _e.if_condition_type_full(n.condition.toString(),n.sourceInfo);case 5:if(!i.get()){e.next=9;break}return e.abrupt("return",this.executeCommands(t,n.ifTrue.commands));case 9:if(null===n.ifFalse){e.next=17;break}if(!(n.ifFalse instanceof S)){e.next=14;break}return e.abrupt("return",this.executeCommand(t,n.ifFalse));case 14:return e.abrupt("return",this.executeCommands(t,n.ifFalse.commands));case 15:e.next=18;break;case 17:return e.abrupt("return",t);case 18:case"end":return e.stop()}}),e,this)}))),function(e,t){return $.apply(this,arguments)})},{key:"executeReturn",value:(w=b()(y().mark((function t(n,i){var a,r,o,s,l,c,u;return y().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a=n.name===e.MAIN_INTERNAL_ID?ke.getMainFunctionName():n.name,r=this.findFunction(n.name),o=r.returnType,t.next=5,this.evaluateExpression(n,i.expression);case 5:if(null!==(s=t.sent)||!o.isCompatible(O.Types.VOID)){t.next=9;break}return n.mode=V.Modes.RETURN,t.abrupt("return",n);case 9:if(l=s,null!==s&&o.isCompatible(s.type)){t.next=16;break}if(j.Config.enable_type_casting&&Ke.y.canImplicitTypeCast(o,s.type)){t.next=15;break}throw c=o.stringInfo(),u=c[0],_e.invalid_return_type_full(a,u.type,u.dim,i.sourceInfo);case 15:l=Ke.y.doImplicitCasting(o,s);case 16:return n.insertStore("$",l),n.mode=V.Modes.RETURN,t.abrupt("return",n);case 19:case"end":return t.stop()}}),t,this)}))),function(e,t){return w.apply(this,arguments)})},{key:"executeBreak",value:(x=b()(y().mark((function e(t,n){return y().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.checkContext(je._.BREAKABLE)){e.next=5;break}return t.mode=V.Modes.BREAK,e.abrupt("return",t);case 5:throw _e.unexpected_break_command_full(n.sourceInfo);case 6:case"end":return e.stop()}}),e,this)}))),function(e,t){return x.apply(this,arguments)})},{key:"executeAssign",value:(g=b()(y().mark((function e(t,n){var i,a,r,o,s,l,c,u,d,p;return y().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(i=t.applyStore(n.id)).isConst){e.next=3;break}throw _e.invalid_const_assignment_full(n.id,n.sourceInfo);case 3:return e.next=5,this.evaluateExpression(t,n.expression);case 5:if(a=e.sent,r=a,i.type.isCompatible(r.type)){e.next=18;break}if(!j.Config.enable_type_casting||!Ke.y.canImplicitTypeCast(i.type,a.type)){e.next=12;break}r=Ke.y.doImplicitCasting(i.type,r),e.next=18;break;case 12:throw o=i.type.stringInfo(),s=o[0],l=a.type.stringInfo(),c=l[0],u=n.expression.toString(),_e.incompatible_types_full(s.type,s.dim,c.type,c.dim,u,n.sourceInfo);case 18:if(!(i instanceof nt.ArrayStoreValue)){e.next=27;break}if(d=null==r.columns?0:r.columns,i.lines===r.lines&&i.columns===d){e.next=27;break}if(p=n.expression.toString(),!i.isVector()){e.next=26;break}throw _e.invalid_vector_assignment_full(n.id,i.lines,p,r.lines,n.sourceInfo);case 26:throw _e.invalid_matrix_assignment_full(n.id,i.lines,i.columns,p,r.lines,r.columns,n.sourceInfo);case 27:return t.updateStore(n.id,r),e.abrupt("return",t);case 29:case"end":return e.stop()}}),e,this)}))),function(e,t){return g.apply(this,arguments)})},{key:"executeArrayIndexAssign",value:(h=b()(y().mark((function e(t,n){var i,a,r,o,s,l,c,u,d,p,_,f,m,v,h,g;return y().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(i=t.applyStore(n.id),a=0,!i.isConst){e.next=4;break}throw _e.invalid_const_assignment_full(n.id,n.sourceInfo);case 4:if(i.type instanceof me.ArrayType){e.next=6;break}throw _e.invalid_array_access_full(n.id,n.sourceInfo);case 6:return e.next=8,this.evaluateExpression(t,n.line);case 8:if(r=e.sent,O.Types.INTEGER.isCompatible(r.type)){e.next=11;break}throw _e.array_dimension_not_int_full(n.sourceInfo);case 11:return a+=1,o=r.get().toNumber(),e.next=15,this.evaluateExpression(t,n.column);case 15:if(s=e.sent,l=null,null==s){e.next=22;break}if(O.Types.INTEGER.isCompatible(s.type)){e.next=20;break}throw _e.array_dimension_not_int_full(n.sourceInfo);case 20:l=s.get().toNumber(),a+=1;case 22:return e.next=24,this.evaluateExpression(t,n.expression);case 24:if(c=e.sent,u=c,!(o>=i.lines)){e.next=34;break}if(!i.isVector){e.next=31;break}throw _e.vector_line_outbounds_full(n.id,o,i.lines,n.sourceInfo);case 31:throw _e.matrix_line_outbounds_full(n.id,o,i.lines,n.sourceInfo);case 32:e.next=36;break;case 34:if(!(o<0)){e.next=36;break}throw _e.array_dimension_not_positive_full(n.sourceInfo);case 36:if(null==l||0!==i.columns){e.next=38;break}throw _e.vector_not_matrix_full(n.id,n.sourceInfo);case 38:if(null==l){e.next=45;break}if(!(l>=i.columns)){e.next=43;break}throw _e.matrix_column_outbounds_full(n.id,l,i.columns,n.sourceInfo);case 43:if(!(l<0)){e.next=45;break}throw _e.array_dimension_not_positive_full(n.sourceInfo);case 45:if(i.type.canAccept(c.type,a)){e.next=55;break}if(j.Config.enable_type_casting&&Ke.y.canImplicitTypeCast(i.type.innerType,c.type)){e.next=54;break}throw d=i.type.innerType,p=d.stringInfo(),_=p[0],f=c.type.stringInfo(),m=f[0],v=n.expression.toString(),_e.incompatible_types_full(_.type,_.dim,m.type,m.dim,v,n.sourceInfo);case 54:u=Ke.y.doImplicitCasting(i.type.innerType,c);case 55:if(!((h=i.getAt(o,l))instanceof nt.ArrayStoreValue)){e.next=60;break}if(h.lines===u.lines&&h.columns===u.columns){e.next=60;break}throw g=n.expression.toString(),_e.invalid_matrix_index_assign_full(n.id,o,h.lines,g,u.lines,n.sourceInfo);case 60:return e.abrupt("return",t.updateStoreArray(n.id,u,o,l));case 61:case"end":return e.stop()}}),e,this)}))),function(e,t){return h.apply(this,arguments)})},{key:"executeDeclaration",value:(m=b()(y().mark((function e(t,n){var i,a,r,o,s,l,c,u;return y().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(n instanceof I)){e.next=4;break}return e.abrupt("return",this.executeArrayDeclaration(t,n));case 4:if(i=new fe.StoreValue(n.type,null,null,n.isConst),null===n.initial){e.next=22;break}return e.next=8,this.evaluateExpression(t,n.initial);case 8:if(a=e.sent,r=a,a.type.isCompatible(n.type)){e.next=21;break}if(!j.Config.enable_type_casting||!Ke.y.canImplicitTypeCast(n.type,a.type)){e.next=15;break}r=Ke.y.doImplicitCasting(n.type,r),e.next=21;break;case 15:throw o=a.type.stringInfo(),s=o[0],l=a.type.stringInfo(),c=l[0],u=n.expression.toString(),_e.incompatible_types_full(s.type,s.dim,c.type,c.dim,u,n.sourceInfo);case 21:i=new fe.StoreValue(n.type,r.get(),null,n.isConst);case 22:return t.insertStore(n.id,i),e.abrupt("return",t);case 24:case"end":return e.stop()}}),e,this)}))),function(e,t){return m.apply(this,arguments)})},{key:"executeArrayDeclaration",value:(f=b()(y().mark((function e(t,n){var i,a,r,o,s,l;return y().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.evaluateExpression(t,n.lines);case 2:if(i=e.sent,O.Types.INTEGER.isCompatible(i.type)){e.next=5;break}throw _e.array_dimension_not_int_full(n.sourceInfo);case 5:return a=i.get().toNumber(),e.next=8,this.evaluateExpression(t,n.columns);case 8:if(r=e.sent,o=null,null===r){e.next=16;break}if(O.Types.INTEGER.isCompatible(r.type)){e.next=13;break}throw _e.array_dimension_not_int_full(n.sourceInfo);case 13:if(!((o=r.get().toNumber())<0)){e.next=16;break}throw _e.array_dimension_not_positive_full(n.sourceInfo);case 16:if(s=new nt.ArrayStoreValue(n.type,[],a,o,null,n.isConst),null===n.initial){e.next=22;break}return e.next=20,this.evaluateArrayLiteral(t,n.initial,n.type,a,o);case 20:l=e.sent,s=new nt.ArrayStoreValue(n.type,l,a,o,null,n.isConst);case 22:return t.insertStore(n.id,s),e.abrupt("return",t);case 24:case"end":return e.stop()}}),e,this)}))),function(e,t){return f.apply(this,arguments)})},{key:"evaluateExpression",value:(_=b()(y().mark((function e(t,n){return y().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.instruction_count+=1,this.instruction_count%j.Config.suspend_threshold!=0){e.next=4;break}return e.next=4,Je(3);case 4:if(this.mode!==V.Modes.ABORT){e.next=6;break}throw le.getMessage("aborted_execution");case 6:if(!(this.instruction_count>=j.Config.max_instruction_count)){e.next=8;break}throw new Error("Número de instruções excedeu o limite definido. Verifique se seu código não possui laços infinitos ou muitas chamadas de funções recursivas.");case 8:if(!(n instanceof Me)){e.next=12;break}return e.abrupt("return",this.evaluateUnaryApp(t,n));case 12:if(!(n instanceof Ue)){e.next=16;break}return e.abrupt("return",this.evaluateInfixApp(t,n));case 16:if(!(n instanceof v)){e.next=20;break}return e.abrupt("return",this.evaluateArrayAccess(t,n));case 20:if(!(n instanceof Se)){e.next=24;break}return e.abrupt("return",this.evaluateVariableLiteral(t,n));case 24:if(!(n instanceof Ie)){e.next=28;break}return e.abrupt("return",this.evaluateLiteral(t,n));case 28:if(!(n instanceof $e)){e.next=32;break}return e.abrupt("return",this.evaluateLiteral(t,n));case 32:if(!(n instanceof Ce)){e.next=36;break}return e.abrupt("return",this.evaluateLiteral(t,n));case 36:if(!(n instanceof Oe)){e.next=40;break}return e.abrupt("return",this.evaluateLiteral(t,n));case 40:if(!(n instanceof Ne)){e.next=44;break}return e.abrupt("return",this.evaluateLiteral(t,n));case 44:if(!(n instanceof Le)){e.next=48;break}throw new Error("Internal Error: The system should not eval an array literal.");case 48:if(!(n instanceof Ae)){e.next=50;break}return e.abrupt("return",this.evaluateFunctionCall(t,n));case 50:return e.abrupt("return",null);case 51:case"end":return e.stop()}}),e,this)}))),function(e,t){return _.apply(this,arguments)})},{key:"evaluateFunctionCall",value:(p=b()(y().mark((function e(t,n){var i,a,r;return y().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!n.isMainCall){e.next=2;break}throw _e.void_in_expression_full(ke.getMainFunctionName(),n.sourceInfo);case 2:if(i=this.findFunction(n.id),!O.Types.VOID.isCompatible(i.returnType)){e.next=5;break}throw _e.void_in_expression_full(n.id,n.sourceInfo);case 5:if(!(this.function_call_stack.length>=j.Config.max_call_stack)){e.next=7;break}throw _e.exceeded_recursive_calls(n.sourceInfo);case 7:return this.function_call_stack.push(n.sourceInfo),e.next=10,this.runFunction(i,n.actualParameters,t);case 10:if((a=e.sent).mode===V.Modes.RETURN){e.next=13;break}throw new Error("!!!Internal error: the function that was called did not have a return command or did not set the store mode properly -> "+n.id);case 13:return r=a.applyStore("$"),a.destroy(),this.function_call_stack.pop(),e.abrupt("return",r);case 17:case"end":return e.stop()}}),e,this)}))),function(e,t){return p.apply(this,arguments)})},{key:"evaluateArrayLiteral",value:(d=b()(y().mark((function e(t,n,i,a,r){var o;return y().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n.isVector){e.next=9;break}if(null!=r){e.next=3;break}throw new Error("This should never happen: Vector cannot be initialized by a matrix");case 3:return e.next=5,this.evaluateMatrix(t,n,i,a,r);case 5:return o=e.sent,e.abrupt("return",o.reduce((function(e,t){return e.concat(t)}),[]));case 9:if(null==r){e.next=11;break}throw new Error("This should never happen: Matrix cannot be initialized by a vector");case 11:return e.abrupt("return",this.evaluateVector(t,n,i,a));case 12:case"end":return e.stop()}}),e,this)}))),function(e,t,n,i,a){return d.apply(this,arguments)})},{key:"evaluateVector",value:(u=b()(y().mark((function e(t,n,i,a){var r,o,s=this;return y().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=n.value,a===r.length){e.next=3;break}throw _e.invalid_number_elements_vector(a,n.toString(),r.length,n.sourceInfo);case 3:return e.next=5,Promise.all(r.map((function(e){return s.evaluateExpression(t,e)})));case 5:return o=e.sent,e.abrupt("return",o.map((function(e,t){if(!i.canAccept(e.type,1)){if(!j.Config.enable_type_casting||!Ke.y.canImplicitTypeCast(i.innerType,e.type)){var n=r[t].toString();throw _e.invalid_array_literal_type_full(n,r[t].sourceInfo)}return Ke.y.doImplicitCasting(i.innerType,e)}return e})));case 7:case"end":return e.stop()}}),e)}))),function(e,t,n,i){return u.apply(this,arguments)})},{key:"evaluateMatrix",value:(c=b()(y().mark((function e(t,n,i,a,r){var o,s,l=this;return y().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if((o=n.value).length===a){e.next=3;break}throw _e.invalid_number_lines_matrix(a,n.toString(),o.length,n.sourceInfo);case 3:return s=o.map((function(e){var n=new me.ArrayType(i.innerType,1);return l.evaluateVector(t,e,n,r)})),e.next=6,Promise.all(s);case 6:return e.abrupt("return",e.sent);case 7:case"end":return e.stop()}}),e)}))),function(e,t,n,i,a){return c.apply(this,arguments)})},{key:"evaluateLiteral",value:(s=b()(y().mark((function e(t,n){return y().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new fe.StoreValue(n.type,n.value));case 1:case"end":return e.stop()}}),e)}))),function(e,t){return s.apply(this,arguments)})},{key:"evaluateVariableLiteral",value:(r=b()(y().mark((function e(t,n){var i;return y().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=t.applyStore(n.id),e.abrupt("return",i);case 2:case"end":return e.stop()}}),e)}))),function(e,t){return r.apply(this,arguments)})},{key:"evaluateArrayAccess",value:(i=b()(y().mark((function e(t,n){var i,a,r,o,s,l,c,u;return y().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if((i=t.getStoreObject(n.id)).type instanceof me.ArrayType){e.next=3;break}throw _e.invalid_array_access_full(n.id,n.sourceInfo);case 3:return e.next=5,this.evaluateExpression(t,n.line);case 5:if(a=e.sent,O.Types.INTEGER.isCompatible(a.type)){e.next=8;break}throw _e.array_dimension_not_int_full(n.sourceInfo);case 8:return r=a.get().toNumber(),e.next=11,this.evaluateExpression(t,n.column);case 11:if(o=e.sent,s=null,null===o){e.next=17;break}if(O.Types.INTEGER.isCompatible(o.type)){e.next=16;break}throw _e.array_dimension_not_int_full(n.sourceInfo);case 16:s=o.get().toNumber();case 17:if(!(r>=i.lines)){e.next=25;break}if(!i.isVector){e.next=22;break}throw _e.vector_line_outbounds_full(n.id,r,i.lines,n.sourceInfo);case 22:throw _e.matrix_line_outbounds_full(n.id,r,i.lines,n.sourceInfo);case 23:e.next=27;break;case 25:if(!(r<0)){e.next=27;break}throw _e.array_dimension_not_positive_full(n.sourceInfo);case 27:if(null===s||0!==i.columns){e.next=29;break}throw _e.vector_not_matrix_full(n.id,n.sourceInfo);case 29:if(null===s){e.next=36;break}if(!(s>=i.columns)){e.next=34;break}throw _e.matrix_column_outbounds_full(n.id,s,i.columns,n.sourceInfo);case 34:if(!(s<0)){e.next=36;break}throw _e.array_dimension_not_positive_full(n.sourceInfo);case 36:if(l=i.getAt(r,s),c=i.type.innerType,!Array.isArray(l)){e.next=43;break}return u=l.map((function(e,t){return new at.StoreValueAddress(c,e,r,t,i.id,i.readOnly)})),e.abrupt("return",new nt.ArrayStoreValue(new me.ArrayType(c,1),u,i.columns,null,i.id,i.readOnly));case 43:return e.abrupt("return",new at.StoreValueAddress(c,l,r,s,i.id,i.readOnly));case 44:case"end":return e.stop()}}),e,this)}))),function(e,t){return i.apply(this,arguments)})},{key:"evaluateUnaryApp",value:(n=b()(y().mark((function e(t,n){var i,a,r,o;return y().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.evaluateExpression(t,n.left);case 2:if(i=e.sent,a=(0,ze.Q7)(n.op,i.type),!O.Types.UNDEFINED.isCompatible(a)){e.next=8;break}throw r=i.type.stringInfo(),o=r[0],_e.invalid_unary_op_full(n.op,o.type,o.dim,n.sourceInfo);case 8:e.t0=n.op.ord,e.next=e.t0===oe.Operators.ADD.ord?11:e.t0===oe.Operators.SUB.ord?12:e.t0===oe.Operators.NOT.ord?13:14;break;case 11:return e.abrupt("return",new fe.StoreValue(a,i.get()));case 12:return e.abrupt("return",new fe.StoreValue(a,i.get().negated()));case 13:return e.abrupt("return",new fe.StoreValue(a,!i.get()));case 14:throw new ne("!!!Critical Invalid UnaryApp "+n.op);case 15:case"end":return e.stop()}}),e,this)}))),function(e,t){return n.apply(this,arguments)})},{key:"evaluateInfixApp",value:(t=b()(y().mark((function e(t,n){var i,a,r,o,s,l,c,u,d,p,_,f,m,v,h,g,x,b,w,E,T,k,A,R,I,$,C;return y().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.evaluateExpression(t,n.left);case 2:return i=e.sent,e.next=5,this.evaluateExpression(t,n.right);case 5:if(a=e.sent,r=!1,o=(0,ze.h9)(n.op,i.type,a.type),!O.Types.UNDEFINED.isCompatible(o)){e.next=18;break}if(!j.Config.enable_type_casting||!Ke.y.canImplicitTypeCast(i.type,a.type)){e.next=13;break}r=!0,e.next=18;break;case 13:throw s=i.type.stringInfo(),l=s[0],c=a.type.stringInfo(),u=c[0],_e.invalid_infix_op_full(n.op,l.type,l.dim,u.type,u.dim,n.sourceInfo);case 18:d=null,e.t0=n.op.ord,e.next=e.t0===oe.Operators.ADD.ord?22:e.t0===oe.Operators.SUB.ord?39:e.t0===oe.Operators.MULT.ord?40:e.t0===oe.Operators.DIV.ord?42:e.t0===oe.Operators.MOD.ord?46:e.t0===oe.Operators.GT.ord?51:e.t0===oe.Operators.GE.ord?55:e.t0===oe.Operators.LT.ord?59:e.t0===oe.Operators.LE.ord?63:e.t0===oe.Operators.EQ.ord?67:e.t0===oe.Operators.NEQ.ord?71:e.t0===oe.Operators.AND.ord?75:e.t0===oe.Operators.OR.ord?76:77;break;case 22:if(!O.Types.STRING.isCompatible(i.type)){e.next=27;break}return p=Q(a.get(),a.type),e.abrupt("return",new fe.StoreValue(o,i.get()+p));case 27:if(!O.Types.STRING.isCompatible(a.type)){e.next=32;break}return _=Q(i.get(),i.type),e.abrupt("return",new fe.StoreValue(o,_+a.get()));case 32:if(!O.Types.CHAR.isCompatible(i.type)){e.next=38;break}return f=Q(i.get(),i.type),m=Q(a.get(),a.type),e.abrupt("return",new fe.StoreValue(o,f+m));case 38:return e.abrupt("return",new fe.StoreValue(o,i.get().plus(a.get())));case 39:return e.abrupt("return",new fe.StoreValue(o,i.get().minus(a.get())));case 40:return d=i.get().times(a.get()),e.abrupt("return",new fe.StoreValue(o,d));case 42:if(0!=a.get()){e.next=44;break}throw _e.divsion_by_zero_full(n.toString(),n.sourceInfo);case 44:return d=O.Types.INTEGER.isCompatible(o)?i.get().divToInt(a.get()):i.get().div(a.get()),e.abrupt("return",new fe.StoreValue(o,d));case 46:return v=i.get(),h=a.get(),r&&(o=O.Types.INTEGER,v=v.trunc(),h=h.trunc()),d=v.modulo(h),e.abrupt("return",new fe.StoreValue(o,d));case 51:return g=i.get(),x=a.get(),O.Types.STRING.isCompatible(i.type)?d=g.length>x.length:O.Types.CHAR.isCompatible(i.type)?d=g.charCodeAt(0)>x.charCodeAt(0):(r&&(o=O.Types.BOOLEAN,g=g.trunc(),x=x.trunc()),d=g.gt(x)),e.abrupt("return",new fe.StoreValue(o,d));case 55:return b=i.get(),w=a.get(),O.Types.STRING.isCompatible(i.type)?d=b.length>=w.length:O.Types.CHAR.isCompatible(i.type)?d=b.charCodeAt(0)>=w.charCodeAt(0):(r&&(o=O.Types.BOOLEAN,b=b.trunc(),w=w.trunc()),d=b.gte(w)),e.abrupt("return",new fe.StoreValue(o,d));case 59:return E=i.get(),T=a.get(),O.Types.STRING.isCompatible(i.type)?d=E.length<T.length:O.Types.CHAR.isCompatible(i.type)?d=E.charCodeAt(0)<T.charCodeAt(0):(r&&(o=O.Types.BOOLEAN,E=E.trunc(),T=T.trunc()),d=E.lt(T)),e.abrupt("return",new fe.StoreValue(o,d));case 63:return k=i.get(),A=a.get(),O.Types.STRING.isCompatible(i.type)?d=k.length<=A.length:O.Types.CHAR.isCompatible(i.type)?d=k.charCodeAt(0)<=A.charCodeAt(0):(r&&(o=O.Types.BOOLEAN,k=k.trunc(),A=A.trunc()),d=k.lte(A)),e.abrupt("return",new fe.StoreValue(o,d));case 67:return R=i.get(),I=a.get(),O.Types.INTEGER.isCompatible(i.type)||O.Types.REAL.isCompatible(i.type)?(r&&(o=O.Types.BOOLEAN,R=R.trunc(),I=I.trunc()),d=R.eq(I)):d=R===I,e.abrupt("return",new fe.StoreValue(o,d));case 71:return $=i.get(),C=a.get(),O.Types.INTEGER.isCompatible(i.type)||O.Types.REAL.isCompatible(i.type)?(r&&(o=O.Types.BOOLEAN,$=$.trunc(),C=C.trunc()),d=!$.eq(C)):d=$!==C,e.abrupt("return",new fe.StoreValue(o,d));case 75:return e.abrupt("return",new fe.StoreValue(o,i.get()&&a.get()));case 76:return e.abrupt("return",new fe.StoreValue(o,i.get()||a.get()));case 77:throw new ne("!!!Critical Invalid InfixApp "+n.op);case 78:case"end":return e.stop()}}),e,this)}))),function(e,n){return t.apply(this,arguments)})}]),e}(),ot=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];o()(this,e),this.disableMarginTop=n,this.input=null,this.cursorInterval=null,this.idleInterval=null,this.inputDiv=null,this.inputCMD=null,this.inputSpan=null,this.cursorRef=null,this.needInput=!1,this.clearBtn=null,this.hideBtn=null,this.showBtn=null,this.termDiv=null,this.anyKey=!1;var i=t;"#"===t[0]&&(i=t.substring(1)),this.parent=document.getElementById(i),this.setup(),this.inputListeners=[],this.hideInput(),this.pending_writes=[],this.last_clear=-1}var t,n,i;return l()(e,null,[{key:"BASH_TEMPLATE",get:function(){return'\n    <div class="bash-title">\n      <i id="ivprog-console-clearbtn" class="icon eraser" style="float:left;padding-left: 5px"></i>\n      <span>Terminal</span>\n      <i id="ivprog-console-showbtn" class="icon window maximize outline" style="float:right"></i>\n      <i id="ivprog-console-hidebtn" class="icon window minimize outline" style="float:right"></i>\n    </div>\n    <div id=\'ivprog-term\' class="bash-body"></div>'}},{key:"INPUT_CARET_TEMPLATE",get:function(){return'\n    <div id="cmd">\n      <span></span>\n      <div id="cursor"></div>\n    </div>'}},{key:"USER",get:function(){return 0}},{key:"INFO",get:function(){return 1}},{key:"ERR",get:function(){return 2}},{key:"INPUT",get:function(){return 3}}]),l()(e,[{key:"setup",value:function(){this._setupDom(),this._setupEvents()}},{key:"_setupEvents",value:function(){this.input.addEventListener("keydown",this.registerInput.bind(this)),this.clearBtn.addEventListener("click",this.clearBtnClick.bind(this)),this.hideBtn.addEventListener("click",this.hideBtnClick.bind(this)),this.showBtn.addEventListener("click",this.showBtnClick.bind(this))}},{key:"registerInput",value:function(e){if(this.needInput&&(13===e.which||this.anyKey)){null!=this.idleInterval&&(clearInterval(this.idleInterval),this.idleInterval=null);var t=this.input.value;t=t.replace("[\n\r]+",""),this.notifyListeners(t),this._appendUserInput(t),this.input.value="",this.inputSpan.innerHTML="",this.currentLine=null}}},{key:"_setupDom",value:function(){var t=document.createElement("div");t.classList.add("bash"),t.innerHTML=e.BASH_TEMPLATE,this.termDiv=t.querySelector("#ivprog-term"),this.termDiv.classList.add("ivprog-term-div"),this.inputDiv=document.createElement("div"),this.inputDiv.id="ivprog-terminal-inputdiv",this.inputDiv.innerHTML=e.INPUT_CARET_TEMPLATE,this.input=document.createElement("input"),this.input.setAttribute("name","command"),this.input.setAttribute("value",""),this.input.setAttribute("type","text"),this.input.setAttribute("autocomplete","off"),this.inputDiv.append(this.input),this.termDiv.append(this.inputDiv),t.append(this.termDiv),this.parent.append(t),this.inputCMD=this.inputDiv.querySelector("#cmd"),this.cursorRef=this.inputCMD.querySelector("#cursor"),this.inputSpan=this.inputCMD.querySelector("span"),this.clearBtn=t.querySelector("#ivprog-console-clearbtn"),this.hideBtn=t.querySelector("#ivprog-console-hidebtn"),this.showBtn=t.querySelector("#ivprog-console-showbtn"),this._setupCursor(),window.$(this.clearBtn).popup({content:le.getUI("tooltip_terminal_clear")}),window.$(this.showBtn).popup({content:le.getUI("tooltip_terminal_show")}),window.$(this.hideBtn).popup({content:le.getUI("tooltip_terminal_hide")})}},{key:"_setupCursor",value:function(){this.inputCMD.addEventListener("click",this.blinkCaretAndFocus.bind(this)),this.input.addEventListener("keyup",this.updateSpanText.bind(this)),this.input.addEventListener("blur",this.stopBlinkCaret.bind(this))}},{key:"blinkCaretAndFocus",value:function(){var e=this;null==this.cursorInterval&&(this.input.focus(),this.cursorInterval=window.setInterval((function(){"visible"===e.cursorRef.style.visibility?e.cursorRef.style.visibility="hidden":e.cursorRef.style.visibility="visible"}),500))}},{key:"updateSpanText",value:function(){this.inputSpan.innerHTML=this.input.value,null!=this.idleInterval&&window.clearInterval(this.idleInterval),this.scheduleNotify()}},{key:"stopBlinkCaret",value:function(){clearInterval(this.cursorInterval),this.cursorInterval=null,this.cursorRef.style.visibility="visible"}},{key:"notifyListeners",value:function(e){this.inputListeners.forEach((function(t){return t(e)})),this.inputListeners.splice(0,this.inputListeners.length),this.hideInput(),this.anyKey=!1}},{key:"writeRawHTML",value:function(e,t){this._appendTextLn(e,t,!1)}},{key:"write",value:function(t){var n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];this._appendText(t,e.USER,n)}},{key:"info",value:function(t){this._appendTextLn(t,e.INFO)}},{key:"err",value:function(t){this._appendTextLn(t,e.ERR)}},{key:"_appendText",value:(i=b()(y().mark((function e(t,n){var i,a,r,o,s=arguments;return y().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=s.length>2&&void 0!==s[2]&&s[2],a=Date.now(),this.pending_writes.push(0),e.next=5,Je(3);case 5:if(this.pending_writes.pop(),!(this.last_clear>=a)){e.next=8;break}return e.abrupt("return");case 8:null==this.currentLine&&(r=this.getClassForType(n),(o=document.createElement("div")).classList.add(r),this.termDiv.insertBefore(o,this.inputDiv),this.currentLine=o),this.currentLine.innerHTML+=this.getOutputText(t),i&&(this.currentLine=null),this.scrollTerm();case 12:case"end":return e.stop()}}),e,this)}))),function(e,t){return i.apply(this,arguments)})},{key:"_appendTextLn",value:(n=b()(y().mark((function e(t,n){var i,a,r,o,s=arguments;return y().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=!(s.length>2&&void 0!==s[2])||s[2],a=Date.now(),this.pending_writes.push(0),e.next=5,Je(3);case 5:if(this.pending_writes.pop(),!(this.last_clear>=a)){e.next=8;break}return e.abrupt("return");case 8:r=this.getClassForType(n),(o=document.createElement("div")).classList.add(r),o.innerHTML=i?this.getOutputText(t):"<span>".concat(t,"</span>"),null!=this.currentLine&&0===this.currentLine.innerHTML.length&&this.termDiv.removeChild(this.currentLine),this.termDiv.insertBefore(o,this.inputDiv),this.currentLine=null,this.scrollTerm();case 16:case"end":return e.stop()}}),e,this)}))),function(e,t){return n.apply(this,arguments)})},{key:"_appendUserInput",value:(t=b()(y().mark((function t(n){var i,a,r;return y().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return i=Date.now(),this.pending_writes.push(0),t.next=4,Je(3);case 4:if(this.pending_writes.pop(),!(this.last_clear>=i)){t.next=7;break}return t.abrupt("return");case 7:a=this.getClassForType(e.INPUT),(r=document.createElement("div")).innerHTML=this.getUserInputText(n),r.classList.add(a),this.termDiv.insertBefore(r,this.inputDiv),this.currentLine=null,this.scrollTerm();case 14:case"end":return t.stop()}}),t,this)}))),function(e){return t.apply(this,arguments)})},{key:"getOutputText",value:function(e){return e=e.replace(/\s/g,"&#160;"),"<span>".concat(e,"</span>")}},{key:"getUserInputText",value:function(e){return 0==e.trim().length&&(e="&nbsp;"),'<i class="icon keyboard outline" style="float:left"></i><span>'.concat(e,"</span>")}},{key:"scrollTerm",value:function(){this.termDiv.scrollTop=this.termDiv.scrollHeight}},{key:"focus",value:function(){var e;this.termDiv.style.display="block",this.disableMarginTop||0!=this.parent.style.top.length||(this.parent.style.marginTop="-160px"),this.needInput&&(this.showInput(),this.scheduleNotify()),(e=this.termDiv.getBoundingClientRect()).bottom>0&&e.right>0&&e.left<(window.innerWidth||document.documentElement.clientWidth)&&e.top<(window.innerHeight||document.documentElement.clientHeight)||this.termDiv.scrollIntoView(!1),this.scrollTerm()}},{key:"hide",value:function(){this.needInput&&(clearInterval(this.idleInterval),this.hideInput(),this.needInput=!0),this.disableMarginTop||0!=this.parent.style.top.length||(this.parent.style.marginTop="0"),this.termDiv.style.display="none"}},{key:"getClassForType",value:function(t){switch(t){case e.INPUT:return"ivprog-term-userInput";case e.USER:return"ivprog-term-userText";case e.INFO:return"ivprog-term-info";case e.ERR:return"ivprog-term-error"}}},{key:"dispose",value:function(){this.input.removeEventListener("keyup",this.updateSpanText.bind(this)),this.input.removeEventListener("blur",this.stopBlinkCaret.bind(this)),this.input.removeEventListener("keydown",this.registerInput.bind(this)),this.inputCMD.removeEventListener("click",this.blinkCaretAndFocus.bind(this)),this.clearBtn.removeEventListener("click",this.clearBtnClick.bind(this)),this.hideBtn.removeEventListener("click",this.hideBtnClick.bind(this)),this.showBtn.removeEventListener("click",this.showBtnClick.bind(this)),this.input=null,this.inputCMD=null,this.inputDiv=null,this.termDiv=null,this.inputSpan=null,this.cursorRef=null,this.clearBtn=null,this.hideBtn=null,this.showBtn=null,this.currentLine=null;var e=this.parent.cloneNode(!1);this.parent.parentNode.replaceChild(e,this.parent),null!=this.cursorInterval&&clearInterval(this.cursorInterval),null!=this.idleInterval&&clearInterval(this.idleInterval)}},{key:"showInput",value:function(){this.needInput=!0,this.inputDiv.style.display="block",this.inputCMD.click(),this.scrollTerm()}},{key:"hideInput",value:function(){this.needInput=!1,this.inputDiv.style.display=" none",clearInterval(this.cursorInterval),this.cursorInterval=null}},{key:"requestInput",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return new Promise((function(n,i){e.inputListeners.push(n),e.anyKey=t,null==e.idleInterval&&e.scheduleNotify(),e.showInput()}))}},{key:"sendOutput",value:function(e){var t=""+e;if(-1!==t.indexOf("\n")){for(var n=t.split("\n"),i=0;i<n.length-1;i+=1){var a=n[i];0!==(a=(a=a.replace(/\t/g,"&#x0020;&#x0020;")).replace(/\s/g,"&#x0020;")).length&&this.write(a),this.write("",!0)}var r=n[i];0!=(r=(r=r.replace(/\t/g,"&#x0020;&#x0020;")).replace(/\s/g,"&#x0020;")).length&&this.write(r)}else 0!=(t=(t=t.replace(/\t/g,"&#x0020;&#x0020;")).replace(/\s/g,"&#x0020;")).length&&this.write(t)}},{key:"clearPendingWrites",value:function(){this.last_clear=Date.now()}},{key:"clear",value:function(){for(this.clearPendingWrites();this.inputDiv.parentElement.childNodes.length>1;)this.inputDiv.parentElement.removeChild(this.inputDiv.parentElement.firstChild);this.input.value="",this.inputSpan.innerHTML="",this.currentLine=null}},{key:"clearBtnClick",value:function(){this.clear()}},{key:"showBtnClick",value:function(){this.focus()}},{key:"hideBtnClick",value:function(){this.hide()}},{key:"notifyIdle",value:function(){this.info(le.getMessage("awaiting_input_message")),this.inputCMD.click()}},{key:"scheduleNotify",value:function(){this.idleInterval=window.setInterval(this.notifyIdle.bind(this),j.Config.idle_input_interval)}},{key:"cancelPendingInputRequests",value:function(){this.inputListeners.forEach((function(e){return e("")})),this.inputListeners.splice(0,this.inputListeners.length),null!=this.idleInterval&&(clearInterval(this.idleInterval),this.idleInterval=null),this.input.value="",this.inputSpan.innerHTML="",this.currentLine=null,this.hideInput(),this.anyKey=!1}}]),e}(),st=function(){function e(t){o()(this,e),this.ast=t,this.symbolMap=null,this.currentFunction=null}return l()(e,null,[{key:"analyseFromSource",value:function(t){return new e(Pe.createParser(t).parseTree()).analyseTree()}}]),l()(e,[{key:"pushMap",value:function(){if(null===this.symbolMap)this.symbolMap={map:{},next:null};else{var e={map:{},next:this.symbolMap};this.symbolMap=e}}},{key:"popMap",value:function(){null!==this.symbolMap&&(this.symbolMap=this.symbolMap.next)}},{key:"insertSymbol",value:function(e,t){this.symbolMap.map[e]=t}},{key:"findSymbol",value:function(e,t){return t.map[e]?t.map[e]:t.next?this.findSymbol(e,t.next):null}},{key:"getMainFunction",value:function(){return this.ast.functions.find((function(e){return e.isMain}))}},{key:"findFunction",value:function(e){if(e.match(/^\$.+$/)){var t=ke.getFunction(e);if(!t)throw _e.not_implemented(e);return t}return this.ast.functions.find((function(t){return t.name===e}))||null}},{key:"analyseTree",value:function(){var e=this.ast.global;this.pushMap(),this.assertDeclarations(e);var t=this.ast.functions;if(t.filter((function(e){return null===e.name})).length<=0)throw _e.main_missing();for(var n=0;n<t.length;n++){var i=t[n];this.assertFunction(i)}return this.ast}},{key:"assertDeclarations",value:function(e){for(var t=0;t<e.length;t++)this.assertDeclaration(e[t])}},{key:"assertDeclaration",value:function(e){if(e instanceof I)this.assertArrayDeclaration(e),this.insertSymbol(e.id,{id:e.id,lines:e.lines,columns:e.columns,type:e.type,isConst:e.isConst});else{if(null===e.initial)return void this.insertSymbol(e.id,{id:e.id,type:e.type,isConst:e.isConst});var t=this.evaluateExpressionType(e.initial);if(t instanceof ve.MultiType){if(!t.isCompatible(e.type)){var n=e.type.stringInfo()[0],i=t.stringInfo()[0],a=e.initial;throw _e.incompatible_types_full(n.type,n.dim,i.type,i.dim,a.toString(),e.sourceInfo)}this.insertSymbol(e.id,{id:e.id,type:e.type,isConst:e.isConst})}else{if(!e.type.isCompatible(t)&&!j.Config.enable_type_casting||!e.type.isCompatible(t)&&j.Config.enable_type_casting&&!Ke.y.canImplicitTypeCast(e.type,t)){var r=e.type.stringInfo()[0],o=t.stringInfo()[0],s=e.initial;throw _e.incompatible_types_full(r.type,r.dim,o.type,o.dim,s.toString(),e.sourceInfo)}this.insertSymbol(e.id,{id:e.id,type:e.type,isConst:e.isConst})}}}},{key:"assertArrayDeclaration",value:function(e){if(null===e.initial){if(!this.evaluateExpressionType(e.lines).isCompatible(O.Types.INTEGER))throw _e.array_dimension_not_int_full(e.sourceInfo);if(null!==e.columns&&!this.evaluateExpressionType(e.columns).isCompatible(O.Types.INTEGER))throw _e.array_dimension_not_int_full(e.sourceInfo)}else this.evaluateArrayLiteral(e);this.insertSymbol(e.id,{id:e.id,lines:e.lines,columns:e.columns,type:e.type})}},{key:"evaluateExpressionType",value:function(e){if(e instanceof Me){var t=e.op,n=this.evaluateExpressionType(e.left),i=(0,ze.Q7)(t,n);if(O.Types.UNDEFINED.isCompatible(i)){var a=n.stringInfo()[0],r=e.toString();throw _e.invalid_unary_op_full(r,t,a.type,a.dim,e.sourceInfo)}return i}if(e instanceof Ue){var o=e.op,s=this.evaluateExpressionType(e.left),l=this.evaluateExpressionType(e.right),c=(0,ze.h9)(o,s,l);if(O.Types.UNDEFINED.isCompatible(c)){var u=s.stringInfo()[0],d=l.stringInfo()[0],p=e.toString();throw _e.invalid_infix_op_full(p,o,u.type,u.dim,d.type,d.dim,e.sourceInfo)}return c}if(e instanceof Re)return this.evaluateLiteralType(e);if(e instanceof Ae){if(e.isMainCall)throw _e.void_in_expression_full(ke.getMainFunctionName(),e.sourceInfo);var _=this.findFunction(e.id);if(null===_)throw _e.function_missing_full(e.id,e.sourceInfo);if(_.returnType.isCompatible(O.Types.VOID))throw _e.void_in_expression_full(e.id,e.sourceInfo);return this.assertParameters(_,e.actualParameters),_.returnType}if(e instanceof v){var f=this.findSymbol(e.id,this.symbolMap);if(null===f)throw _e.symbol_not_found_full(e.id,e.sourceInfo);if(!(f.type instanceof me.ArrayType))throw _e.invalid_array_access_full(e.id,e.sourceInfo);if(!this.evaluateExpressionType(e.line).isCompatible(O.Types.INTEGER))throw _e.array_dimension_not_int_full(e.sourceInfo);if(null!==e.column){if(null===f.columns)throw _e.invalid_matrix_access_full(e.id,e.sourceInfo);if(!this.evaluateExpressionType(e.column).isCompatible(O.Types.INTEGER))throw _e.array_dimension_not_int_full(e.sourceInfo)}var m=f.type;return null!==e.column||null===f.columns?m.innerType:new me.ArrayType(m.innerType,1)}}},{key:"evaluateLiteralType",value:function(e){if(e instanceof Ie)return e.type;if(e instanceof $e)return e.type;if(e instanceof Oe)return e.type;if(e instanceof Ce)return e.type;if(e instanceof Ne)return e.type;if(e instanceof Se){var t=this.findSymbol(e.id,this.symbolMap);if(null===t)throw _e.symbol_not_found_full(e.id,e.sourceInfo);return t.type,me.ArrayType,t.type}var n=null;if(1===e.value.length)n=this.evaluateExpressionType(e.value[0]);else for(var i=0;i<e.value.length;i++){var a=this.evaluateExpressionType(e.value[i]);if(null===n)n=a;else if(!n.isCompatible(a)){var r=n.stringInfo()[0],o=e.toString();throw _e.incompatible_types_array_full(o,r.type,r.dim,e.sourceInfo)}}return n instanceof me.ArrayType?new me.ArrayType(n.innerType,n.dimensions+1):new me.ArrayType(n,1)}},{key:"evaluateArrayLiteral",value:function(e){var t=e.type,n=e.initial;if(e.isVector)this.evaluateVectorLiteralType(n,t);else for(var i=0;i<n.lines;++i){var a=n.value[i];this.evaluateVectorLiteralType(a,new me.ArrayType(t.innerType,1))}return!0}},{key:"assertFunction",value:function(e){var t=this;this.pushMap(),this.currentFunction=e,e.formalParameters.forEach((function(e){e.type instanceof me.ArrayType?e.type.dimensions>1?t.insertSymbol(e.id,{id:e.id,lines:-1,columns:-1,type:e.type}):t.insertSymbol(e.id,{id:e.id,lines:-1,columns:null,type:e.type}):t.insertSymbol(e.id,{id:e.id,type:e.type})})),this.assertDeclarations(e.variablesDeclarations);var n=e.returnType.isCompatible(O.Types.VOID);if(!this.assertReturn(e,n))throw _e.function_no_return(e.name);this.popMap()}},{key:"assertReturn",value:function(e,t){var n=this;return e.commands.reduce((function(i,a){return n.checkCommand(e.returnType,a,t)||i}),t)}},{key:"checkCommand",value:function(e,t,n){if(t instanceof C){if(!this.evaluateExpressionType(t.expression).isCompatible(O.Types.BOOLEAN))throw _e.loop_condition_type_full(t.expression.toString(),t.sourceInfo);return this.checkCommands(e,t.commands,n),!1}if(t instanceof N){if(!this.evaluateExpressionType(t.for_id).isCompatible(O.Types.INTEGER))throw _e.invalid_for_variable(t.for_id,t.sourceInfo);if(!this.evaluateExpressionType(t.for_from).isCompatible(O.Types.INTEGER))throw _e.invalid_for_from(t.for_from,t.sourceInfo);if(!this.evaluateExpressionType(t.for_to).isCompatible(O.Types.INTEGER))throw _e.invalid_for_to(t.for_to,t.sourceInfo);if(null!=t.for_pass&&!this.evaluateExpressionType(t.for_pass).isCompatible(O.Types.INTEGER))throw _e.invalid_for_pass(t.for_pass,t.sourceInfo);return this.checkCommands(e,t.commands,n),!1}if(t instanceof F){for(var i=this.evaluateExpressionType(t.expression),a=n,r=!1,o=0;o<t.cases.length;o++){var s=t.cases[o];if(null!==s.expression){var l=this.evaluateExpressionType(s.expression);if(!i.isCompatible(l)){var c=i.stringInfo()[0],u=s.expression.toString();throw _e.invalid_case_type_full(u,c.type,c.dim,s.sourceInfo)}}else r=!0;a=a&&this.checkCommands(e,s.commands,a)}return a&&r}if(t instanceof A){var d=0,p=this.findSymbol(t.id,this.symbolMap);if(null===p)throw _e.symbol_not_found_full(t.id,t.sourceInfo);if(p.isConst)throw _e.invalid_const_assignment_full(t.id,t.sourceInfo);if(!(p.type instanceof me.ArrayType))throw _e.invalid_array_access_full(t.id,t.sourceInfo);var _=t.expression,f=t.line;if(!this.evaluateExpressionType(f).isCompatible(O.Types.INTEGER))throw _e.array_dimension_not_int_full(t.sourceInfo);d+=1;var m=t.column;if(null===p.columns&&null!==m)throw _e.invalid_matrix_access_full(t.id,t.sourceInfo);if(null!==m){if(!this.evaluateExpressionType(m).isCompatible(O.Types.INTEGER))throw _e.array_dimension_not_int_full(t.sourceInfo);d+=1}var v=this.evaluateExpressionType(_),h=p.type,g=!1,y=h;if(v instanceof ve.MultiType?(y=h.dimensions-d==0?h.innerType:new me.ArrayType(h.innerType,Math.max(0,h.dimensions-d)),g=v.isCompatible(y)):g=h.canAccept(v,d),!g&&(0==h.dimensions-d&&(y=h.innerType),!j.Config.enable_type_casting||!Ke.y.canImplicitTypeCast(y,v))){var x=h.stringInfo()[0],b=v.stringInfo()[0];throw _e.incompatible_types_full(x.type,x.dim-d,b.type,b.dim,_.toString(),t.sourceInfo)}return n}if(t instanceof k){var w=this.findSymbol(t.id,this.symbolMap);if(null===w)throw _e.symbol_not_found_full(t.id,t.sourceInfo);if(w.isConst)throw _e.invalid_const_assignment_full(t.id,t.sourceInfo);var R=t.expression,I=this.evaluateExpressionType(R);if(I instanceof me.ArrayType){if(!(w.type instanceof me.ArrayType))throw new Error("Cannot assign an array to a non-array variable ");if(!I.isCompatible(w.type))if(I.dimensions!==w.type.dimensions||I.innerType.isCompatible(w.type.innerType))switch(I.dimensions){case 1:throw _e.vector_to_matrix_attr(t.id,R.toString(),t.sourceInfo);case 2:throw _e.matrix_to_vector_attr(t.id,R.toString(),t.sourceInfo)}else if(!j.Config.enable_type_casting||!Ke.y.canImplicitTypeCast(w.type.innerType,I.innerType)){var $=w.type.stringInfo()[0],L=I.stringInfo()[0];throw _e.incompatible_types_full($.type,$.dim,L.type,L.dim,R.toString(),t.sourceInfo)}}else if(!(I.isCompatible(w.type)||j.Config.enable_type_casting&&Ke.y.canImplicitTypeCast(w.type,I))){var U=w.type.stringInfo()[0],M=I.stringInfo()[0];throw _e.incompatible_types_full(U.type,U.dim,M.type,M.dim,R.toString(),t.sourceInfo)}return n}if(t instanceof E)return n;if(t instanceof S){if(!this.evaluateExpressionType(t.condition).isCompatible(O.Types.BOOLEAN))throw _e.if_condition_type_full(t.condition.toString(),t.sourceInfo);return t.ifFalse instanceof S?this.checkCommands(e,t.ifTrue.commands,n)&&this.checkCommand(e,t.ifFalse,n):null!=t.ifFalse?this.checkCommands(e,t.ifTrue.commands,n)&&this.checkCommands(e,t.ifFalse.commands,n):this.checkCommands(e,t.ifTrue.commands,n)}if(t instanceof Ae){var D;if(null===(D=t.isMainCall?this.getMainFunction():this.findFunction(t.id)))throw _e.function_missing_full(t.id,t.sourceInfo);return this.assertParameters(D,t.actualParameters),n}if(t instanceof T){var B=this.currentFunction.isMain?ke.getMainFunctionName():this.currentFunction.name;if(null!==t.expression||e.isCompatible(O.Types.VOID)){if(null!==t.expression){var G=this.evaluateExpressionType(t.expression);if(!(e.isCompatible(G)||j.Config.enable_type_casting&&Ke.y.canImplicitTypeCast(e,G))){var V=e.stringInfo()[0];throw _e.invalid_return_type_full(B,V.type,V.dim,t.sourceInfo)}return!0}return!0}var P=e.stringInfo()[0];throw _e.invalid_void_return_full(B,P.type,P.dim,t.sourceInfo)}}},{key:"checkCommands",value:function(e,t,n){var i=this;return t.reduce((function(t,a){return i.checkCommand(e,a,n)||t}),n)}},{key:"assertParameters",value:function(e,t){var n=e.formalParameters;if(n.length>t.length||n.length!==t.length&&!e.hasVariadic())throw _e.invalid_parameters_size_full(e.name,t.length,e.formalParameters.length,null);for(var i=0,a=0;i<n.length&&a<t.length;i+=1,a+=1){var r=n[i];if(r.variadic&&i+1!==n.length)throw"A function variadic parameter must be its last parameter!";if(r.variadic)a=this.assertVariadicParameter(e,r,a,t);else{var o=t[a];this.assertParameter(e,r,o)}}}},{key:"evaluateVectorLiteralType",value:function(e,t){for(var n=0;n<e.value.length;n+=1){var i=e.value[n],a=this.evaluateExpressionType(i);if(!((a instanceof ve.MultiType?a.isCompatible(t.innerType):t.canAccept(a,1))||j.Config.enable_type_casting&&Ke.y.canImplicitTypeCast(t.innerType,a))){var r=t.stringInfo()[0],o=a.stringInfo()[0];throw _e.incompatible_types_full(r.type,0,o.type,o.dim,i.toString(),e.sourceInfo)}}return t}},{key:"assertVariadicParameter",value:function(e,t,n,i){var a;for(a=n;a<i.length;a+=1)this.assertParameter(e,t,i[a]);return a-1}},{key:"assertParameter",value:function(e,t,n){if(t.byRef)if(n instanceof Se){if(this.findSymbol(n.id,this.symbolMap).isConst)throw _e.invalid_const_ref_full(e.name,n.toString(),n.sourceInfo)}else if(!(n instanceof Se||n instanceof v))throw _e.invalid_parameter_type_full(e.name,n.toString(),n.sourceInfo);var i=this.evaluateExpressionType(n);if(i instanceof ve.MultiType&&t.type instanceof ve.MultiType){for(var a=0,r=0;r<i.types.length;++r){var o=i.types[r];-1!==t.type.types.indexOf(o)&&(a+=1)}if(a<=0&&j.Config.enable_type_casting&&!t.byRef&&(!i.isCompatible(O.Types.INTEGER)&&!i.isCompatible(O.Types.REAL)||t.type.isCompatible(O.Types.INTEGER)||t.type.isCompatible(O.Types.REAL)))throw _e.invalid_parameter_type_full(e.name,n.toString(),n.sourceInfo)}else if(i instanceof ve.MultiType){if(!i.isCompatible(t.type)&&j.Config.enable_type_casting&&!t.byRef&&(!i.isCompatible(O.Types.INTEGER)&&!i.isCompatible(O.Types.REAL)||t.type.isCompatible(O.Types.INTEGER)||t.type.isCompatible(O.Types.REAL)))throw _e.invalid_parameter_type_full(e.name,n.toString(),n.sourceInfo)}else if(!t.type.isCompatible(i)&&j.Config.enable_type_casting&&!t.byRef&&!Ke.y.canImplicitTypeCast(t.type,i))throw _e.invalid_parameter_type_full(e.name,n.toString(),n.sourceInfo)}}]),e}();function lt(){var e=new window.JsonEditor("#json-renderer",{}),t=new ot("#console",!0);t.hide();try{window.$("#btn").click((function(){var n=window.$("#input").val(),i=Pe.createParser(n);try{i.fill();var a=i.parseTree(),r=new st(a),o=new rt(r.analyseTree());o.registerInput(t),t.clear(),o.registerOutput(t),o.interpretAST().then((function(t){console.log(t),e.load(t.store),console.log(et.Location.size())})).catch((function(e){alert(e),console.log(e),console.log(et.Location.size())}))}catch(e){alert(e),console.log(e),console.log(et.Location.size())}}))}catch(e){console.log(e)}}var ct=Object.freeze({INTEGER:"integer",REAL:"real",TEXT:"text",CHAR:"char",BOOLEAN:"boolean",VOID:"void"}),ut=n(8811),dt=n.n(ut);function pt(e,t){e.popup({html:'<i class="ui icon inverted exclamation triangle yellow"></i>'+t,transition:"fade up",on:"click",closable:!0,movePopup:!0,boundary:window,preserve:!1,target:!1,className:{popup:"ui popup invalid-identifier"},onHidden:function(t){e.popup("destroy")}}).popup("toggle")}var _t=[],ft=!1,mt=Object.freeze({INSERT_FUNCTION:"INSERT_FUNCTION",REMOVE_FUNCTION:"REMOVE_FUNCTION",INSERT_GLOBAL_VAR:"INSERT_GLOBAL_VAR",REMOVE_GLOBAL_VAR:"REMOVE_GLOBAL_VAR",RENAME_FUNCTION:"RENAME_FUNCTION",RENAME_GLOBAL_VAR:"RENAME_GLOBAL_VAR",SET_GLOBAL_CONST:"SET_GLOBAL_CONST",CHANGE_FUNCTION_RETURN:"CHANGE_FUNCTION_RETURN",CHANGE_GLOBAL_TYPE:"CHANGE_GLOBAL_TYPE",CHANGE_GLOBAL_VALUE:"CHANGE_GLOBAL_VALUE",INSERT_FUNCTION_PARAM:"INSERT_FUNCTION_PARAM",REMOVE_FUNCTION_PARAM:"REMOVE_FUNCTION_PARAM",CHANGE_PARAM_TYPE:"CHANGE_PARAM_TYPE",RENAME_FUNCTION_PARAM:"RENAME_FUNCTION_PARAM",INSERT_FUNCTION_VAR:"INSERT_FUCNTION_VAR",REMOVE_FUNCTION_VAR:"REMOVE_FUNCTION_VAR",RENAME_FUNCTION_VAR:"RENAME_FUNCTION_VAR",CHANGE_VAR_TYPE:"CHANGE_VAR_TYPE",CHANGE_VAR_VALUE:"CHANGE_VAR_VALUE",INSERT_COMMAND:"INSERT_COMMAND",REMOVE_COMMAND:"REMOVE_COMMAND",CHANGE_COMMAND_EXP:"CHANGE_COMMAND_EXP",CHANGE_ATTRIB_EXP:"CHANGE_ATTRIB_EXP",CHANGE_ATTRIB_VAR:"CHANGE_ATTRIB_VAR",MOVE_COMMAND:"MOVE_COMMAND",ENTER_CHANGE_VAR_NAME:"ENTER_CHANGE_VAR_NAME",ENTER_CHANGE_VAR_VALUE:"ENTER_CHANGE_VAR_VALUE",ENTER_CHANGE_GLOBAL_NAME:"ENTER_CHANGE_GLOBAL_NAME",ENTER_CHANGE_GLOBAL_VALUE:"ENTER_CHANGE_GLOBAL_VALUE",ENTER_CHANGE_PARAM_NAME:"ENTER_CHANGE_PARAM_NAME"});function vt(e,t,n){ft||_t.push([e,t,Date.now(),n])}function ht(e,t){for(var n=arguments.length,i=new Array(n>2?n-2:0),a=2;a<n;a++)i[a-2]=arguments[a];yt("user_event",e,t,i)}function gt(e,t){for(var n=arguments.length,i=new Array(n>2?n-2:0),a=2;a<n;a++)i[a-2]=arguments[a];yt("system_event",e,t,i)}function yt(e,t,n,i){if(!ft){var a={context:t,action:n,params:i};_t.push([e,Date.now(),a])}}function xt(){return _t}function bt(){return JSON.stringify(_t)}function wt(e){_t=JSON.parse(e)}var Et=0;function Tt(e,t,n){e.name!=t&&(Xe(t)?function(e){for(var t=0;t<window.program_obj.globals.length;t++)if(window.program_obj.globals[t].name==e)return!0;return!1}(t)?pt(n.find(".editing_name_var"),le.getUI("inform_valid_global_duplicated")):(ht(e.name,mt.RENAME_GLOBAL_VAR,t),e.name=t):pt(n.find(".editing_name_var"),le.getError("inform_valid_identifier")))}function kt(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;e.type=t,e.dimensions=n,n>0&&(e.rows=n,e.columns=2),ht(e.name,mt.CHANGE_VAR_TYPE,t,n,e.rows,e.columns),function(e){e.type==ct.INTEGER&&(0==e.dimensions&&(e.value=0),1==e.dimensions&&(e.value=[0,0]),2==e.dimensions&&(e.value=[[0,0],[0,0]])),e.type==ct.REAL&&(0==e.dimensions&&(e.value=0),1==e.dimensions&&(e.value=[0,0]),2==e.dimensions&&(e.value=[[0,0],[0,0]])),e.type==ct.TEXT&&(0==e.dimensions&&(e.value=le.getUI("textvar_default_value")),1==e.dimensions&&(e.value=[le.getUI("textvar_default_value"),le.getUI("textvar_default_value")]),2==e.dimensions&&(e.value=[[le.getUI("textvar_default_value"),le.getUI("textvar_default_value")],[le.getUI("textvar_default_value"),le.getUI("textvar_default_value")]])),e.type==ct.BOOLEAN&&(0==e.dimensions&&(e.value=!0),1==e.dimensions&&(e.value=[!0,!0]),2==e.dimensions&&(e.value=[[!0,!0],[!0,!0]])),e.type==ct.CHAR&&(0==e.dimensions&&(e.value="A"),1==e.dimensions&&(e.value=["A","A"]),2==e.dimensions&&(e.value=[["A","A"],["A","A"]])),gt(e.name,mt.CHANGE_GLOBAL_VALUE,e.name,e.value)}(e)}function At(e,t){var n="";if(0==e.dimensions)e.type==ct.REAL?n+='<div class="created_div_valor_var"><span class="span_value_variable simple_var">'+parseFloat(e.value).toFixed(1)+"</span>  </div> ":e.type==ct.BOOLEAN?n+='<div class="created_div_valor_var"><span class="span_value_variable boolean_simple_type">'+le.getUI("logic_value_".concat(e.value))+"</span>  </div> ":n+='<div class="created_div_valor_var"><span class="span_value_variable simple_var">'+e.value+"</span>  </div> ";else{if(n+='<table class="tabela_var">',1==e.dimensions){if(n+="<tr>",e.type==ct.REAL)for(var i=0;i<e.columns;i++)n+='<td><span class="span_value_variable vector_var" data-index="'+i+'">'+parseFloat(e.value[i]).toFixed(1)+"</span></td>";else for(i=0;i<e.columns;i++)e.type==ct.BOOLEAN?n+='<td><span class="span_value_variable boolean_vector_var" data-index="'+i+'">'+le.getUI("logic_value_".concat(e.value[i]))+"</span></td>":n+='<td><span class="span_value_variable vector_var" data-index="'+i+'">'+e.value[i]+"</span></td>";n+="</tr>",n+="</table>",n+='<div class="buttons_manage_columns"><i class="ui icon minus square outline remove_global_vector_column"></i> <i class="ui icon plus square outline add_global_vector_column"></i></div>'}if(2==e.dimensions){if(e.type==ct.REAL)for(var a=0;a<e.rows;a++){for(n+="<tr>",i=0;i<e.columns;i++)n+='<td><span class="span_value_variable matrix_var" data-index="'+i+'" data-row="'+a+'">'+parseFloat(e.value[a][i]).toFixed(1)+"</span></td>";n+="</tr>"}else for(a=0;a<e.rows;a++){for(n+="<tr>",i=0;i<e.columns;i++)e.type==ct.BOOLEAN?n+='<td><span class="span_value_variable boolean_matrix_var" data-index="'+i+'" data-row="'+a+'">'+le.getUI("logic_value_".concat(e.value[a][i]))+"</span></td>":n+='<td><span class="span_value_variable matrix_var" data-index="'+i+'" data-row="'+a+'">'+e.value[a][i]+"</span></td>";n+="</tr>"}0==e.rows&&(n+="<tr><td></td></tr>"),n+='<tr><td colspan="'+e.columns+'" class="tr_manage_lines"><i class="ui icon minus square outline remove_global_matrix_line"></i> <i class="ui icon plus square outline add_global_matrix_line"></i></td></tr>',n+="</table>",n+='<div class="buttons_manage_columns"><i class="ui icon minus square outline remove_global_matrix_column"></i> <i class="ui icon plus square outline add_global_matrix_column"></i></div>'}}t.find(".div_valor_var").html(""),(n=$(n)).find(".span_value_variable").data("associatedOject",e),n.find(".boolean_simple_type").on("click",(function(t){!function(e,t){e.value=!e.value,$(t).find(".span_value_variable").text(le.getUI("logic_value_".concat(e.value)))}(e,this.parentNode),ht(e.name,mt.CHANGE_GLOBAL_VALUE,e.value)})),n.find(".simple_var").on("click",(function(t){ht(e.name,mt.ENTER_CHANGE_GLOBAL_VALUE),function(e,t){var n;Ct?Nt.focus():(t=$(t),Ct=!0,t.find(".span_value_variable").text(""),e.type==ct.REAL?(n=$("<input type='text' class='width-dynamic input_name_function' autocomplete='off' autocorrect='off' autocapitalize='off' spellcheck='false' value='"+parseFloat(e.value).toFixed(1)+"' />")).insertBefore(t.find(".span_value_variable")):(n=$("<input type='text' class='width-dynamic input_name_function' autocomplete='off' autocorrect='off' autocapitalize='off' spellcheck='false' value='"+e.value+"' />")).insertBefore(t.find(".span_value_variable")),n.on("input",(function(){var e=n.textWidth()+10;Nt=n,n.focus();var t=n.val();n.val(""),n.val(t),n.css({width:e})})).trigger("input"),n.focusout((function(){var i=!1;n.val().trim()?(e.type==ct.REAL?(e.value=parseFloat(n.val().trim()),t.find(".span_value_variable").text(parseFloat(e.value).toFixed(1))):(e.type==ct.INTEGER?e.value=parseInt(n.val().trim()):e.type==ct.CHAR?e.value=n.val().charAt(0):e.value=n.val().trim(),t.find(".span_value_variable").text(e.value)),i=!0):e.type==ct.REAL?t.find(".span_value_variable").text(parseFloat(e.value).toFixed(1)):t.find(".span_value_variable").text(e.value),e.type==ct.TEXT&&(e.value=n.val(),i=!0,t.find(".span_value_variable").text(e.value)),i&&ht(e.name,mt.CHANGE_GLOBAL_VALUE,e.value),n.off(),n.remove(),Ct=!1,Nt=!1})),n.on("keydown",(function(i){var a=i.keyCode||i.which,r=!0;13==a&&(n.val().trim()?(e.type==ct.REAL?(e.value=parseFloat(n.val().trim()),t.find(".span_value_variable").text(parseFloat(e.value).toFixed(1))):(e.type==ct.INTEGER?e.value=parseInt(n.val().trim()):e.type==ct.CHAR?e.value=n.val().charAt(0):e.value=n.val().trim(),t.find(".span_value_variable").text(e.value)),r=!0):e.type==ct.REAL?t.find(".span_value_variable").text(parseFloat(e.value).toFixed(1)):t.find(".span_value_variable").text(e.value),e.type==ct.TEXT&&(e.value=n.val(),r=!0,t.find(".span_value_variable").text(e.value)),r&&ht(e.name,mt.CHANGE_GLOBAL_VALUE,e.value),n.off(),n.remove(),Ct=!1,Nt=!1),27==a&&(e.type==ct.REAL?t.find(".span_value_variable").text(parseFloat(e.value).toFixed(1)):t.find(".span_value_variable").text(e.value),n.off(),n.remove(),Ct=!1,Nt=!1)})),n.select())}(e,this.parentNode)})),n.find(".boolean_vector_var").on("click",(function(t){!function(e,t,n){e.value[t]=!e.value[t],$(n).find(".span_value_variable").text(le.getUI("logic_value_".concat(e.value[t])))}(e,$(this).data("index"),this.parentNode),ht(e.name,mt.CHANGE_GLOBAL_VALUE,e.value)})),n.find(".vector_var").on("click",(function(t){ht(e.name,mt.ENTER_CHANGE_GLOBAL_VALUE),function(e,t,n){var i;St?Ut.focus():(n=$(n),St=!0,n.find(".span_value_variable").text(""),e.type==ct.REAL?(i=$("<input type='text' class='width-dynamic input_name_function' autocomplete='off' autocorrect='off' autocapitalize='off' spellcheck='false' value='"+parseFloat(e.value[t]).toFixed(1)+"' />")).insertBefore(n.find(".span_value_variable")):(i=$("<input type='text' class='width-dynamic input_name_function' autocomplete='off' autocorrect='off' autocapitalize='off' spellcheck='false' value='"+e.value[t]+"' />")).insertBefore(n.find(".span_value_variable")),i.on("input",(function(){var e=i.textWidth()+10;Ut=i,i.focus();var t=i.val();i.val(""),i.val(t),i.css({width:e})})).trigger("input"),i.focusout((function(){var a=!1;i.val().trim()?(e.type==ct.REAL?(e.value[t]=parseFloat(i.val().trim()),n.find(".span_value_variable").text(parseFloat(e.value[t]).toFixed(1))):(e.type==ct.INTEGER?e.value[t]=parseInt(i.val().trim()):e.value[t]=i.val().trim(),n.find(".span_value_variable").text(e.value[t])),a=!0):e.type==ct.REAL?n.find(".span_value_variable").text(parseFloat(e.value[t]).toFixed(1)):n.find(".span_value_variable").text(e.value[t]),e.type==ct.TEXT&&(e.value[t]=i.val(),a=!0,n.find(".span_value_variable").text(e.value[t])),a&&ht(e.name,mt.CHANGE_GLOBAL_VALUE,e.value),i.off(),i.remove(),St=!1,Ut=!1})),i.on("keydown",(function(a){var r=a.keyCode||a.which,o=!1;13==r&&(i.val().trim()?(e.type==ct.REAL?(e.value[t]=parseFloat(i.val().trim()),n.find(".span_value_variable").text(parseFloat(e.value[t]).toFixed(1))):(e.type==ct.INTEGER?e.value[t]=parseInt(i.val().trim()):e.value[t]=i.val().trim(),n.find(".span_value_variable").text(e.value[t])),o=!0):e.type==ct.REAL?n.find(".span_value_variable").text(parseFloat(e.value[t]).toFixed(1)):n.find(".span_value_variable").text(e.value[t]),e.type==ct.TEXT&&(e.value[t]=i.val(),o=!0,n.find(".span_value_variable").text(e.value[t])),o&&ht(e.name,mt.CHANGE_GLOBAL_VALUE,e.value),i.off(),i.remove(),St=!1,Ut=!1),27==r&&(e.type==ct.REAL?n.find(".span_value_variable").text(parseFloat(e.value[t]).toFixed(1)):n.find(".span_value_variable").text(e.value[t]),i.off(),i.remove(),St=!1,Ut=!1)})),i.select())}(e,$(this).data("index"),this.parentNode)})),n.find(".remove_global_vector_column").on("click",(function(n){!function(e){0!=e.columns&&(e.columns--,e.value.splice(e.value.length-1,1))}(e),t.find(".div_valor_var").html(""),ht(e.name,mt.CHANGE_GLOBAL_TYPE,e.type,e.dimensions,e.rows,e.columns),gt(e.name,mt.CHANGE_GLOBAL_VALUE,e.value),At(e,t)})),n.find(".add_global_vector_column").on("click",(function(n){!function(e){e.columns++,e.type==ct.INTEGER&&e.value.push(0),e.type==ct.REAL&&e.value.push(0),e.type==ct.TEXT&&e.value.push(le.getUI("textvar_default_value")),e.type==ct.BOOLEAN&&e.value.push(!0),e.type==ct.CHAR&&e.value.push(le.getUI("charvar_default_value"))}(e),ht(e.name,mt.CHANGE_GLOBAL_TYPE,e.type,e.dimensions,e.rows,e.columns),gt(e.name,mt.CHANGE_GLOBAL_VALUE,e.value),t.find(".div_valor_var").html(""),At(e,t)})),n.find(".remove_global_matrix_column").on("click",(function(n){!function(e){if(0!=e.columns){e.columns--;for(var t=0;t<e.rows;t++)e.value[t].splice(e.value[t].length-1,1)}}(e),ht(e.name,mt.CHANGE_GLOBAL_TYPE,e.type,e.dimensions,e.rows,e.columns),gt(e.name,mt.CHANGE_GLOBAL_VALUE,e.value),t.find(".div_valor_var").html(""),At(e,t)})),n.find(".add_global_matrix_column").on("click",(function(n){!function(e){if(e.columns++,e.type==ct.INTEGER)for(var t=0;t<e.rows;t++)e.value[t].push(0);if(e.type==ct.REAL)for(t=0;t<e.rows;t++)e.value[t].push(0);if(e.type==ct.TEXT)for(t=0;t<e.rows;t++)e.value[t].push(le.getUI("textvar_default_value"));if(e.type==ct.BOOLEAN)for(t=0;t<e.rows;t++)e.value[t].push(!0);if(e.type==ct.CHAR)for(t=0;t<e.rows;t++)e.value[t].push(le.getUI("charvar_default_value"))}(e),ht(e.name,mt.CHANGE_GLOBAL_TYPE,e.type,e.dimensions,e.rows,e.columns),gt(e.name,mt.CHANGE_GLOBAL_VALUE,e.value),t.find(".div_valor_var").html(""),At(e,t)})),n.find(".remove_global_matrix_line").on("click",(function(n){!function(e){0!=e.rows&&(e.rows--,e.value.splice(e.value.length-1,1))}(e),ht(e.name,mt.CHANGE_GLOBAL_TYPE,e.type,e.dimensions,e.rows,e.columns),gt(e.name,mt.CHANGE_GLOBAL_VALUE,e.value),t.find(".div_valor_var").html(""),At(e,t)})),n.find(".add_global_matrix_line").on("click",(function(n){!function(e){if(e.rows++,e.type==ct.INTEGER){for(var t=[],n=0;n<e.columns;n++)t.push(0);e.value.push(t)}if(e.type==ct.REAL){for(t=[],n=0;n<e.columns;n++)t.push(0);e.value.push(t)}if(e.type==ct.TEXT){for(t=[],n=0;n<e.columns;n++)t.push(le.getUI("textvar_default_value"));e.value.push(t)}if(e.type==ct.BOOLEAN){for(t=[],n=0;n<e.columns;n++)t.push(!0);e.value.push(t)}if(e.type==ct.CHAR){for(t=[],n=0;n<e.columns;n++)t.push(le.getUI("charvar_default_value"));e.value.push(t)}}(e),ht(e.name,mt.CHANGE_GLOBAL_TYPE,e.type,e.dimensions,e.rows,e.columns),gt(e.name,mt.CHANGE_GLOBAL_VALUE,e.value),t.find(".div_valor_var").html(""),At(e,t)})),n.find(".boolean_matrix_var").on("click",(function(t){!function(e,t,n,i){e.value[t][n]=!e.value[t][n],$(i).find(".span_value_variable").text(le.getUI("logic_value_".concat(e.value[t][n])))}(e,$(this).data("row"),$(this).data("index"),this.parentNode),ht(e.name,mt.CHANGE_GLOBAL_VALUE,e.value)})),n.find(".matrix_var").on("click",(function(t){ht(e.name,mt.ENTER_CHANGE_GLOBAL_VALUE),function(e,t,n,i){var a;It?$t.focus():(i=$(i),It=!0,i.find(".span_value_variable").text(""),e.type==ct.REAL?(a=$("<input type='text' class='width-dynamic input_name_function' autocomplete='off' autocorrect='off' autocapitalize='off' spellcheck='false' value='"+parseFloat(e.value[t][n]).toFixed(1)+"' />")).insertBefore(i.find(".span_value_variable")):(a=$("<input type='text' class='width-dynamic input_name_function' autocomplete='off' autocorrect='off' autocapitalize='off' spellcheck='false' value='"+e.value[t][n]+"' />")).insertBefore(i.find(".span_value_variable")),a.on("input",(function(){var e=a.textWidth()+10;$t=a,a.focus();var t=a.val();a.val(""),a.val(t),a.css({width:e})})).trigger("input"),a.focusout((function(){a.val().trim()?(e.type==ct.REAL?(e.value[t][n]=parseFloat(a.val().trim()),i.find(".span_value_variable").text(parseFloat(e.value[t][n]).toFixed(1))):(e.type==ct.INTEGER?e.value[t][n]=parseInt(a.val().trim()):e.value[t][n]=a.val().trim(),i.find(".span_value_variable").text(e.value[t][n])),ht(e.name,mt.CHANGE_GLOBAL_VALUE,e.value)):e.type==ct.REAL?i.find(".span_value_variable").text(e.value[t][n].toFixed(1)):i.find(".span_value_variable").text(e.value[t][n]),e.type==ct.TEXT&&(e.value[t][n]=a.val(),i.find(".span_value_variable").text(e.value[t][n])),a.off(),a.remove(),It=!1,$t=!1})),a.on("keydown",(function(r){var o=r.keyCode||r.which;13==o&&(a.val().trim()?(e.type==ct.REAL?(e.value[t][n]=parseFloat(a.val().trim()),i.find(".span_value_variable").text(parseFloat(e.value[t][n]).toFixed(1))):(e.type==ct.INTEGER?e.value[t][n]=parseInt(a.val().trim()):e.value[t][n]=a.val().trim(),i.find(".span_value_variable").text(e.value[t][n])),ht(e.name,mt.CHANGE_GLOBAL_VALUE,e.value)):e.type==ct.REAL?i.find(".span_value_variable").text(parseFloat(e.value[t][n]).toFixed(1)):i.find(".span_value_variable").text(e.value[t][n]),e.type==ct.TEXT&&(e.value[t][n]=a.val(),ht(e.name,mt.CHANGE_GLOBAL_VALUE,e.value),i.find(".span_value_variable").text(e.value[t][n])),a.off(),a.remove(),It=!1,$t=!1),27==o&&(e.type==ct.REAL?i.find(".span_value_variable").text(parseFloat(e.value[t][n]).toFixed(1)):i.find(".span_value_variable").text(e.value[t][n]),a.off(),a.remove(),It=!1,$t=!1)})),a.select())}(e,$(this).data("row"),$(this).data("index"),this.parentNode)})),t.find(".div_valor_var").append(n),function(e,t){var n=e.find(".text").text().split("[");if(2==n.length){var i=n[0]+"[ "+t.columns+" ] ";e.find(".text").empty(),e.find(".text").text(i)}3==n.length&&(i=n[0]+"[ "+t.columns+" ] [ "+t.rows+" ] ",e.find(".text").empty(),e.find(".text").text(i))}(t,e)}function Rt(e){var t='<div class="ui label global_container pink"><i class="ui icon ellipsis vertical inverted"></i><div class="global_const">const: ';for(var n in t+='<i class="ui icon toggle '+(e.is_constant?"on":"off")+' alternate_constant"></i></div>',t+='<div class="ui dropdown global_type">',1==e.dimensions?(t+='<div class="text">'+le.getUI("vector")+": "+le.getUI("type_".concat(e.type)),t+=' [ <span class="dimensions_0"></span> ] ',t+="</div>"):2==e.dimensions?(t+='<div class="text">'+le.getUI("matrix")+": "+le.getUI("type_".concat(e.type)),t+=' [ <span class="dimensions_0"></span> ] [ <span class="dimensions_1"></span> ] ',t+="</div>"):t+='<div class="text">'+le.getUI("type_".concat(e.type.toLowerCase()))+"</div>",t+='<div class="menu">',ct)n!=ct.VOID.toUpperCase()&&(t+='<div class="item '+(e.type==n.toLowerCase()&&0==e.dimensions?" selected ":"")+'" data-type="'+n+'" >'+le.getUI("type_".concat(n.toLowerCase()))+"</div>");for(var n in t+='<div class="item '+(1==e.dimensions?" selected ":"")+'"><i class="dropdown icon"></i>'+le.getUI("vector")+'<div class="menu">',ct)n!=ct.VOID.toUpperCase()&&(t+='<div class="item '+(e.type==n.toLowerCase()&&1==e.dimensions?" selected ":"")+'" data-text="'+le.getUI("vector")+":"+le.getUI("type_".concat(n.toLowerCase()))+' [ ] " data-type="'+n+'" data-dimensions="1"> '+le.getUI("type_".concat(n.toLowerCase()))+"</div>");for(var n in t+="</div></div>",t+='<div class="item '+(2==e.dimensions?" selected ":"")+'"><i class="dropdown icon"></i>'+le.getUI("matrix")+'<div class="menu">',ct)n!=ct.VOID.toUpperCase()&&(t+='<div class="item '+(e.type==n.toLowerCase()&&2==e.dimensions?" selected ":"")+'" data-text="'+le.getUI("matrix")+":"+le.getUI("type_".concat(n.toLowerCase()))+' [ ] " data-type="'+n+'" data-dimensions="2"> '+le.getUI("type_".concat(n.toLowerCase()))+"</div>");t+="</div></div>",t+='</div></div> <div class="editing_name_var"> <span class="span_name_variable enable_edit_name_parameter">'+e.name+'</span> </div> <span class="character_equals"> <&#8212; </span> ',t+='<div class="ui div_valor_var">'+e.value+"</div>",t+=' <i class="yellow inverted icon times remove_global"></i></div>';var i=$(t);return i.data("associatedOject",e),$(".list_globals").append(i),function(e){var t=e.data("associatedOject");e.find(".alternate_constant").on("click",(function(e){!function(e){e.is_constant=!e.is_constant,ht(e.name,mt.SET_GLOBAL_CONST)}(t),$(this).removeClass("on off"),t.is_constant?$(this).addClass("on"):$(this).addClass("off")})),e.find(".editing_name_var").on("click",(function(n){ht(t.name,mt.ENTER_CHANGE_GLOBAL_NAME),function(e){var t=e.data("associatedOject");if(Ot)Lt.focus();else{Ot=!0,e.find(".span_name_variable").text("");var n=$("<input type='text' class='width-dynamic input_name_function' autocomplete='off' autocorrect='off' autocapitalize='off' spellcheck='false' value='"+t.name+"' />");n.insertBefore(e.find(".span_name_variable")),n.on("input",(function(){var e=n.textWidth()+10;(Lt=n).focus(),Lt.css({width:e})})).trigger("input"),n.focusout((function(){n.val().trim().length>0?(Tt(t,n.val().trim(),e),e.find(".span_name_variable").text(t.name)):e.find(".span_name_variable").text(t.name),n.off(),n.remove(),Ot=!1,Lt=!1})),n.on("keydown",(function(i){var a=i.keyCode||i.which;13==a&&(n.val().trim()?(Tt(t,n.val().trim(),e),e.find(".span_name_variable").text(t.name)):e.find(".span_name_variable").text(t.name),n.off(),n.remove(),Ot=!1,Lt=!1),27==a&&(e.find(".span_name_variable").text(t.name),n.off(),n.remove(),Ot=!1,Lt=!1)})),n.select()}}(e)})),e.find(".ui.dropdown.global_type").dropdown({onChange:function(n,i,a){a.data("dimensions")?kt(t,ct[a.data("type")],a.data("dimensions")):kt(t,ct[a.data("type")]),At(t,e)},selectOnKeydown:!1}),e.find(".remove_global").on("click",(function(n){!function(e,t){var n=window.program_obj.globals.indexOf(e);n>-1&&(window.insertContext=!0,window.program_obj.globals.splice(n,1)),ht(e.name,mt.REMOVE_GLOBAL_VAR),t.children().off(),t.off(),t.fadeOut()}(t,e)})),e.find(".ellipsis").popup({content:le.getUI("tooltip_move_var"),delay:{show:750,hide:0}}),e.find(".remove_global").popup({content:le.getUI("tooltip_remove_var"),delay:{show:750,hide:0}})}(i),At(e,i),1==e.dimensions&&i.find(".dimensions_0").text(e.columns),2==e.dimensions&&(i.find(".dimensions_0").text(e.columns),i.find(".dimensions_1").text(e.rows)),i}var It=!1,$t=null,Ct=!1,Nt=null,Ot=!1,Lt=null,St=!1,Ut=null;function Mt(){if(!window.block_render&&!window.draging){window.block_render=!0,$(".all_functions").children().off(),$(".all_functions").empty(),$(".list_globals").children().off(),$(".list_globals").empty();for(var e=0;e<window.program_obj.functions.length;e++)ga(window.program_obj.functions[e]);for(e=0;e<window.program_obj.globals.length;e++)Rt(window.program_obj.globals[e]);setTimeout((function(){window.block_render=!1}),100),settingsFilter&&settingsFilter[0]&&blockAllEditingOptions(),$(".command_drag").popup({content:LocalizedStrings.getUI("text_move_command"),delay:{show:1e3,hide:0}})}}$.fn.textWidth=function(e,t){return $.fn.textWidth.fakeEl||($.fn.textWidth.fakeEl=$("<span>").hide().appendTo(document.body)),$.fn.textWidth.fakeEl.text(e||this.val()||this.text()||this.attr("placeholder")).css("font",t||this.css("font")),$.fn.textWidth.fakeEl.width()},window.block_render=!1;var Ft=Object.freeze({function:"function",comment:"comment",reader:"reader",writer:"writer",attribution:"attribution",iftrue:"iftrue",repeatNtimes:"repeatNtimes",whiletrue:"whiletrue",dowhiletrue:"dowhiletrue",switch:"switch",switchcase:"switchcase",functioncall:"functioncall",break:"break",return:"return"}),Dt=Object.freeze({plus:"plus",minus:"minus",multiplication:"multiplication",division:"division",module:"module",none:"none"}),Bt=Object.freeze({exp_op_exp:"exp_op_exp",op_exp:"op_exp",par_exp_par:"par_exp_par",start_point:"start_point"}),Gt=Object.freeze({exp_conditional:"exp_conditional",exp_logic:"exp_logic",exp_arithmetic:"exp_arithmetic",write_sep:"write_separator"}),Vt=Object.freeze({greater_than:"greater_than",less_than:"less_than",equals_to:"equals_to",not_equals_to:"not_equals_to",greater_than_or_equals_to:"greater_than_or_equals_to",less_than_or_equals_to:"less_than_or_equals_to"}),Pt=Object.freeze({equals_to:"equals_to",not_equals_to:"not_equals_to",and:"and",or:"or",not:"not"}),Kt=Object.freeze({math:"$mathLib",text:"$strLib",arrangement:"$arrayLib",conversion:"$langLib"}),jt=function e(t,n,i){var a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,r=arguments.length>4&&void 0!==arguments[4]&&arguments[4],s=arguments.length>5&&void 0!==arguments[5]?arguments[5]:0,l=arguments.length>6&&void 0!==arguments[6]?arguments[6]:0,c=arguments.length>7&&void 0!==arguments[7]&&arguments[7];o()(this,e),this.type=t,this.name=n,this.value=i,this.dimensions=a,this.is_constant=r,this.rows=s,this.columns=l,this.reference=c},zt=function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:ct.VOID,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],r=arguments.length>4&&void 0!==arguments[4]&&arguments[4],s=arguments.length>5&&void 0!==arguments[5]&&arguments[5],l=arguments.length>6&&void 0!==arguments[6]?arguments[6]:[],c=arguments.length>7&&void 0!==arguments[7]?arguments[7]:null,u=arguments.length>8&&void 0!==arguments[8]?arguments[8]:[];o()(this,e),this.type=Ft.function,this.name=t,this.return_type=n,this.return_dimensions=i,this.parameters_list=a,this.is_main=r,this.is_hidden=s,this.variables_list=l,this.function_comment=c,this.commands=u},Ht=function e(t,n,i,a){var r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,s=arguments.length>5?arguments[5]:void 0;o()(this,e),this.type=Ft.function,this.identifier=t,this.return_type=n,this.return_dimensions=i,this.parameters_list=a,this.function_comment=r,this.category=s},qt=function e(t){o()(this,e),this.type=Ft.comment,this.comment_text=t},Xt=function e(){o()(this,e),this.type=Ft.break},Wt=function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new un;o()(this,e),this.type=Ft.reader,this.variable_value_menu=t},Yt=function e(t){var n=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];o()(this,e),this.type=Ft.writer,this.content=t,this.newline=n},Qt=function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];o()(this,e),this.type=Ft.attribution,this.variable=t,this.expression=n},Jt=function e(t,n){o()(this,e),this.type_op=t,this.item=n},Zt=function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];o()(this,e),this.type_exp=t,this.itens=n},en=function e(t,n,i){o()(this,e),this.type=Gt.exp_arithmetic,this.first_operand=t,this.second_operand=n,this.operator=i},tn=function e(t,n,i){o()(this,e),this.type=Ft.iftrue,this.expression=t,this.commands_block=n,this.commands_else=i},nn=function e(t,n,i,a,r,s){o()(this,e),this.type=Ft.repeatNtimes,this.var_attribution=t,this.var_incrementation=n,this.expression1=i,this.expression2=a,this.expression3=r,this.commands_block=s},an=function e(t,n){o()(this,e),this.type=Ft.whiletrue,this.expression=t,this.commands_block=n},rn=function e(t,n){o()(this,e),this.type=Ft.dowhiletrue,this.expression=t,this.commands_block=n},on=function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];o()(this,e),this.type=Ft.switch,this.variable=t,this.cases=n},sn=function e(t){o()(this,e),this.type=Ft.return,this.variable_value_menu=t},ln=function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];o()(this,e),this.type=Ft.switchcase,this.variable_value_menu=t,this.commands_block=n},cn=function e(t,n){o()(this,e),this.type=Ft.functioncall,this.function_called=t,this.parameters_list=n},un=function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:7,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null,r=!(arguments.length>4&&void 0!==arguments[4])||arguments[4],s=arguments.length>5&&void 0!==arguments[5]?arguments[5]:0;o()(this,e),this.type="var_value",this.variable_and_value=t,this.content=n,this.row=i,this.column=a,this.include_constant=r,this.dimensions=s},dn=function(){function e(){o()(this,e),this.functions=[],this.globals=[]}return l()(e,[{key:"addFunction",value:function(e){dt().watch(e.parameters_list,(function(){window.insertContext?(setTimeout((function(){Mt()}),300),window.insertContext=!1):Mt()}),1),dt().watch(e.variables_list,(function(){window.insertContext?(setTimeout((function(){Mt()}),300),window.insertContext=!1):Mt()}),1),this.functions.push(e)}},{key:"addVariable",value:function(e,t){null===this.functions[e].variable&&(this.functions[e].variables_list=[]),this.functions[e].variables_list.push(t)}},{key:"addGlobal",value:function(e){this.globals.push(e)}}]),e}(),pn=0;function _n(e,t,n,i){e.name!=t&&(Xe(t)?function(e,t){if(t.parameters_list)for(var n=0;n<t.parameters_list.length;n++)if(t.parameters_list[n].name==e)return!0;if(t.variables_list)for(n=0;n<t.variables_list.length;n++)if(t.variables_list[n].name==e)return!0;return!1}(t,i)?pt(n.find(".editing_name_var"),le.getError("inform_valid_variable_duplicated",[t,i.name])):(ht(i.name,mt.RENAME_FUNCTION_VAR,e.name,t),e.name=t):pt(n.find(".editing_name_var"),le.getError("inform_valid_identifier")))}function fn(e,t,n){var i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0;e.type=t,e.dimensions=i,i>0&&(e.rows=i,e.columns=2),ht(n,mt.CHANGE_VAR_TYPE,e.name,t,i,e.rows,e.columns),function(e,t){e.type==ct.INTEGER&&(0==e.dimensions&&(e.value=0),1==e.dimensions&&(e.value=[0,0]),2==e.dimensions&&(e.value=[[0,0],[0,0]])),e.type==ct.REAL&&(0==e.dimensions&&(e.value=0),1==e.dimensions&&(e.value=[0,0]),2==e.dimensions&&(e.value=[[0,0],[0,0]])),e.type==ct.TEXT&&(0==e.dimensions&&(e.value=le.getUI("textvar_default_value")),1==e.dimensions&&(e.value=[le.getUI("textvar_default_value"),le.getUI("textvar_default_value")]),2==e.dimensions&&(e.value=[[le.getUI("textvar_default_value"),le.getUI("textvar_default_value")],[le.getUI("textvar_default_value"),le.getUI("textvar_default_value")]])),e.type==ct.BOOLEAN&&(0==e.dimensions&&(e.value=!0),1==e.dimensions&&(e.value=[!0,!0]),2==e.dimensions&&(e.value=[[!0,!0],[!0,!0]])),e.type==ct.CHAR&&(0==e.dimensions&&(e.value="A"),1==e.dimensions&&(e.value=["A","A"]),2==e.dimensions&&(e.value=[["A","A"],["A","A"]])),gt(t,mt.CHANGE_VAR_VALUE,e.name,e.value)}(e,n)}function mn(e,t,n){var i='<div class="ui label variable_container pink"><i class="ui icon ellipsis vertical inverted"></i>';for(var a in i+='<div class="ui dropdown variable_type">',1==t.dimensions?(i+='<div class="text">'+le.getUI("vector")+": "+le.getUI("type_".concat(t.type.toLowerCase())),i+=" [ ] </div>"):2==t.dimensions?(i+='<div class="text">'+le.getUI("matrix")+": "+le.getUI("type_".concat(t.type.toLowerCase())),i+=" [ ] [ ] </div>"):i+='<div class="text">'+le.getUI("type_".concat(t.type.toLowerCase()))+"</div>",i+='<div class="menu">',ct)a!=ct.VOID.toUpperCase()&&(i+='<div class="item '+(t.type==a.toLowerCase()&&0==t.dimensions?" selected ":"")+'" data-type="'+a+'" >'+le.getUI("type_".concat(a.toLowerCase()))+"</div>");for(var a in i+='<div class="item '+(1==t.dimensions?" selected ":"")+'"><i class="dropdown icon"></i>'+le.getUI("vector")+'<div class="menu">',ct)a!=ct.VOID.toUpperCase()&&(i+='<div class="item '+(t.type==a.toLowerCase()&&1==t.dimensions?" selected ":"")+'" data-text="'+le.getUI("vector")+":"+le.getUI("type_".concat(a.toLowerCase()))+' [ ] " data-type="'+a+'" data-dimensions="1"> '+le.getUI("type_".concat(a.toLowerCase()))+"</div>");for(var a in i+="</div></div>",i+='<div class="item '+(2==t.dimensions?" selected ":"")+'"><i class="dropdown icon"></i>'+le.getUI("matrix")+'<div class="menu">',ct)a!=ct.VOID.toUpperCase()&&(i+='<div class="item '+(t.type==a.toLowerCase()&&2==t.dimensions?" selected ":"")+'" data-text="'+le.getUI("matrix")+":"+le.getUI("type_".concat(a.toLowerCase()))+' [ ] " data-type="'+a+'" data-dimensions="2"> '+le.getUI("type_".concat(a.toLowerCase()))+"</div>");return i+="</div></div>",i+="</div></div> ",i+='<div class="editing_name_var"><span class="span_name_variable enable_edit_name_variable">'+t.name+"</span> </div>",i+=' <span class="character_equals"> <&#8212; </span> <div class="ui div_valor_var">'+t.value+"</div>",i+=' <i class="yellow inverted icon times remove_variable"></i></div>',(i=$(i)).data("associatedFunction",n),e.find(".variables_list_div").append(i),function(e,t,n){t.find(".editing_name_var").on("click",(function(i){ht(n.name,mt.ENTER_CHANGE_VAR_NAME,e.name),function(e,t,n){var i;bn?wn.focus():(bn=!0,t.find(".span_name_variable").text(""),(i=$("<input type='text' class='width-dynamic input_name_function' autocomplete='off' autocorrect='off' autocapitalize='off' spellcheck='false' value='"+e.name+"' />")).insertBefore(t.find(".span_name_variable")),i.on("input",(function(){var e=i.textWidth()+10;wn=i,i.focus();var t=i.val();i.val(""),i.val(t),i.css({width:e})})).trigger("input"),i.focusout((function(){i.val().trim().length>0?(_n(e,i.val().trim(),t,n),t.find(".span_name_variable").text(e.name)):t.find(".span_name_variable").text(e.name),i.off(),i.remove(),bn=!1,wn=!1})),i.on("keydown",(function(a){var r=a.keyCode||a.which;13==r&&(i.val().trim().length>0?(_n(e,i.val().trim(),t,n),t.find(".span_name_variable").text(e.name)):t.find(".span_name_variable").text(e.name),i.off(),i.remove(),bn=!1,wn=!1),27==r&&(t.find(".span_name_variable").text(e.name),i.off(),i.remove(),bn=!1,wn=!1)})),i.select())}(e,t,n)})),t.find(".ui.dropdown.variable_type").dropdown({onChange:function(i,a,r){r.data("dimensions")?fn(e,ct[r.data("type")],n.name,r.data("dimensions")):fn(e,ct[r.data("type")],n.name),vn(e,t,n.name)},selectOnKeydown:!1}),t.find(".remove_variable").on("click",(function(i){!function(e,t,n){var i=t.data("associatedFunction");ht(n,mt.REMOVE_FUNCTION_VAR,e.name);var a=i.variables_list.indexOf(e);a>-1&&(window.insertContext=!0,delete i.variables_list[a],i.variables_list.splice(a,1)),t.children().off(),t.off(),t.fadeOut()}(e,t,n.name)})),t.find(".ellipsis").popup({content:le.getUI("tooltip_move_var"),delay:{show:750,hide:0}}),t.find(".remove_variable").popup({content:le.getUI("tooltip_remove_var"),delay:{show:750,hide:0}})}(t,i,n),vn(t,i,n.name),i}function vn(e,t,n){var i="";if(0==e.dimensions)e.type==ct.REAL?i+='<div class="created_div_valor_var"><span class="span_value_variable simple_var">'+e.value.toFixed(1)+"</span> </div> ":e.type==ct.BOOLEAN?i+='<div class="created_div_valor_var"><span class="span_value_variable boolean_simple_type">'+le.getUI("logic_value_".concat(e.value))+"</span> </div> ":i+='<div class="created_div_valor_var"><span class="span_value_variable simple_var">'+e.value+"</span> </div> ";else{if(i+='<table class="tabela_var">',1==e.dimensions){if(i+="<tr>",e.type==ct.REAL)for(var a=0;a<e.columns;a++)i+='<td><span class="span_value_variable vector_var" data-index="'+a+'">'+e.value[a].toFixed(1)+"</span></td>";else for(a=0;a<e.columns;a++)e.type==ct.BOOLEAN?i+='<td><span class="span_value_variable boolean_vector_var" data-index="'+a+'">'+le.getUI("logic_value_".concat(e.value[a]))+"</span></td>":i+='<td><span class="span_value_variable vector_var" data-index="'+a+'">'+e.value[a]+"</span></td>";i+="</tr>",i+="</table>",i+='<div class="buttons_manage_columns"><i class="ui icon minus square outline remove_global_vector_column"></i> <i class="ui icon plus square outline add_global_vector_column"></i></div>'}if(2==e.dimensions){if(e.type==ct.REAL)for(var r=0;r<e.rows;r++){for(i+="<tr>",a=0;a<e.columns;a++)i+='<td><span class="span_value_variable matrix_var" data-index="'+a+'" data-row="'+r+'">'+e.value[r][a].toFixed(1)+"</span></td>";i+="</tr>"}else for(r=0;r<e.rows;r++){for(i+="<tr>",a=0;a<e.columns;a++)e.type==ct.BOOLEAN?i+='<td><span class="span_value_variable boolean_matrix_var" data-index="'+a+'" data-row="'+r+'">'+le.getUI("logic_value_".concat(e.value[r][a]))+"</span></td>":i+='<td><span class="span_value_variable matrix_var" data-index="'+a+'" data-row="'+r+'">'+e.value[r][a]+"</span></td>";i+="</tr>"}0==e.rows&&(i+="<tr><td></td></tr>"),i+='<tr><td colspan="'+e.columns+'" class="tr_manage_lines"><i class="ui icon minus square outline remove_global_matrix_line"></i> <i class="ui icon plus square outline add_global_matrix_line"></i></td></tr>',i+="</table>",i+='<div class="buttons_manage_columns"><i class="ui icon minus square outline remove_global_matrix_column"></i> <i class="ui icon plus square outline add_global_matrix_column"></i></div>'}}$(t).find(".div_valor_var").html(""),i=$(i),$(i).find(".span_value_variable").data("associatedOject",e),$(i).find(".boolean_simple_type").on("click",(function(t){var i,a;ht(n,mt.CHANGE_VAR_VALUE,e.name,e.value),i=e,a=this.parentNode,i.value=!i.value,$(a).find(".span_value_variable").text(le.getUI("logic_value_".concat(i.value)))})),$(i).find(".simple_var").on("click",(function(t){ht(n,mt.ENTER_CHANGE_VAR_VALUE,e.name),function(e,t,n){var i;yn?xn.focus():(t=$(t),yn=!0,t.find(".span_value_variable").text(""),e.type==ct.REAL?(i=$("<input type='text' class='width-dynamic input_name_function' autocomplete='off' autocorrect='off' autocapitalize='off' spellcheck='false' value='"+e.value.toFixed(1)+"' />")).insertBefore(t.find(".span_value_variable")):(i=$("<input type='text' class='width-dynamic input_name_function' autocomplete='off' autocorrect='off' autocapitalize='off' spellcheck='false' value='"+e.value+"' />")).insertBefore(t.find(".span_value_variable")),i.on("input",(function(){var e=i.textWidth()+10;xn=i,i.focus();var t=i.val();i.val(""),i.val(t),i.css({width:e})})).trigger("input"),i.focusout((function(){var a=!1;i.val().trim()?(e.type==ct.REAL?(e.value=parseFloat(i.val().trim()),t.find(".span_value_variable").text(e.value.toFixed(1))):(e.type==ct.INTEGER?e.value=parseInt(i.val().trim()):e.type==ct.CHAR?e.value=i.val().charAt(0):e.value=i.val().trim(),t.find(".span_value_variable").text(e.value)),a=!0):e.type==ct.REAL?t.find(".span_value_variable").text(e.value.toFixed(1)):t.find(".span_value_variable").text(e.value),e.type==ct.TEXT&&(e.value=i.val(),a=!0,t.find(".span_value_variable").text(e.value)),a&&ht(n,mt.CHANGE_VAR_VALUE,e.name,e.value),i.off(),i.remove(),yn=!1,xn=!1})),i.on("keydown",(function(a){var r=a.keyCode||a.which,o=!1;13==r&&(i.val().trim()?(e.type==ct.REAL?(e.value=parseFloat(i.val().trim()),t.find(".span_value_variable").text(e.value.toFixed(1))):(e.type==ct.INTEGER?e.value=parseInt(i.val().trim()):e.type==ct.CHAR?e.value=i.val().charAt(0):e.value=i.val().trim(),t.find(".span_value_variable").text(e.value)),o=!0):e.type==ct.REAL?t.find(".span_value_variable").text(e.value.toFixed(1)):t.find(".span_value_variable").text(e.value),e.type==ct.TEXT&&(e.value=i.val(),o=!0,t.find(".span_value_variable").text(e.value)),o&&ht(n,mt.CHANGE_VAR_VALUE,e.name,e.value),i.off(),i.remove(),yn=!1,xn=!1),27==r&&(e.type==ct.REAL?t.find(".span_value_variable").text(e.value.toFixed(1)):t.find(".span_value_variable").text(e.value),i.off(),i.remove(),yn=!1,xn=!1)})),i.select())}(e,this.parentNode,n)})),$(i).find(".boolean_vector_var").on("click",(function(t){var i,a,r;i=e,a=$(this).data("index"),r=this.parentNode,i.value[a]=!i.value[a],$(r).find(".span_value_variable").text(le.getUI("logic_value_".concat(i.value[a]))),ht(n,mt.CHANGE_VAR_VALUE,e.name,e.value)})),$(i).find(".vector_var").on("click",(function(t){!function(e,t,n,i){var a;hn?gn.focus():(n=$(n),hn=!0,n.find(".span_value_variable").text(""),e.type==ct.REAL?(a=$("<input type='text' class='width-dynamic input_name_function' autocomplete='off' autocorrect='off' autocapitalize='off' spellcheck='false' value='"+e.value[t].toFixed(1)+"' />")).insertBefore(n.find(".span_value_variable")):(a=$("<input type='text' class='width-dynamic input_name_function' autocomplete='off' autocorrect='off' autocapitalize='off' spellcheck='false' value='"+e.value[t]+"' />")).insertBefore(n.find(".span_value_variable")),a.on("input",(function(){var e=a.textWidth()+10;gn=a,a.focus();var t=a.val();a.val(""),a.val(t),a.css({width:e})})).trigger("input"),a.focusout((function(){var r=!1;a.val().trim()?(e.type==ct.REAL?(e.value[t]=parseFloat(a.val().trim()),n.find(".span_value_variable").text(e.value[t].toFixed(1))):(e.type==ct.INTEGER?e.value[t]=parseInt(a.val().trim()):e.value[t]=a.val().trim(),n.find(".span_value_variable").text(e.value[t])),r=!0):e.type==ct.REAL?n.find(".span_value_variable").text(e.value[t].toFixed(1)):n.find(".span_value_variable").text(e.value[t]),e.type==ct.TEXT&&(e.value[t]=a.val(),r=!0,n.find(".span_value_variable").text(e.value[t])),r&&ht(i,mt.CHANGE_VAR_VALUE,e.name,e.value),a.off(),a.remove(),hn=!1,gn=!1})),a.on("keydown",(function(r){var o=r.keyCode||r.which,s=!1;13==o&&(a.val().trim()?(e.type==ct.REAL?(e.value[t]=parseFloat(a.val().trim()),n.find(".span_value_variable").text(e.value[t].toFixed(1))):(e.type==ct.INTEGER?e.value[t]=parseInt(a.val().trim()):e.value[t]=a.val().trim(),n.find(".span_value_variable").text(e.value[t])),s=!0):e.type==ct.REAL?n.find(".span_value_variable").text(e.value[t].toFixed(1)):n.find(".span_value_variable").text(e.value[t]),e.type==ct.TEXT&&(e.value[t]=a.val(),s=!0,n.find(".span_value_variable").text(e.value[t])),s&&ht(i,mt.CHANGE_VAR_VALUE,e.name,e.value),a.off(),a.remove(),hn=!1,gn=!1),27==o&&(e.type==ct.REAL?n.find(".span_value_variable").text(e.value[t].toFixed(1)):n.find(".span_value_variable").text(e.value[t]),a.off(),a.remove(),hn=!1,gn=!1)})),a.select())}(e,$(this).data("index"),this.parentNode,n)})),$(i).find(".remove_global_vector_column").on("click",(function(i){var a;0!=(a=e).columns&&(a.columns--,a.value.splice(a.value.length-1,1)),ht(n,mt.CHANGE_VAR_TYPE,e.name,e.type,e.dimensions,e.rows,e.columns),gt(n,mt.CHANGE_VAR_VALUE,e.name,e.value),$(t).find(".div_valor_var").html(""),vn(e,t,n)})),$(i).find(".add_global_vector_column").on("click",(function(i){var a;(a=e).columns++,a.type==ct.INTEGER&&a.value.push(0),a.type==ct.REAL&&a.value.push(0),a.type==ct.TEXT&&a.value.push(le.getUI("textvar_default_value")),a.type==ct.BOOLEAN&&a.value.push(!0),a.type==ct.CHAR&&a.value.push(le.getUI("charvar_default_value")),ht(n,mt.CHANGE_VAR_TYPE,e.name,e.type,e.dimensions,e.rows,e.columns),gt(n,mt.CHANGE_VAR_VALUE,e.name,e.value),$(t).find(".div_valor_var").html(""),vn(e,t,n)})),$(i).find(".remove_global_matrix_column").on("click",(function(i){!function(e){if(0!=e.columns){e.columns--;for(var t=0;t<e.rows;t++)e.value[t].splice(e.value[t].length-1,1)}}(e),ht(n,mt.CHANGE_VAR_TYPE,e.name,e.type,e.dimensions,e.rows,e.columns),gt(n,mt.CHANGE_VAR_VALUE,e.name,e.value),$(t).find(".div_valor_var").html(""),vn(e,t,n)})),$(i).find(".add_global_matrix_column").on("click",(function(i){!function(e){if(e.columns++,e.type==ct.INTEGER)for(var t=0;t<e.rows;t++)e.value[t].push(0);if(e.type==ct.REAL)for(t=0;t<e.rows;t++)e.value[t].push(0);if(e.type==ct.TEXT)for(t=0;t<e.rows;t++)e.value[t].push(le.getUI("textvar_default_value"));if(e.type==ct.BOOLEAN)for(t=0;t<e.rows;t++)e.value[t].push(!0);if(e.type==ct.CHAR)for(t=0;t<e.rows;t++)e.value[t].push(le.getUI("charvar_default_value"))}(e),ht(n,mt.CHANGE_VAR_TYPE,e.name,e.type,e.dimensions,e.rows,e.columns),gt(n,mt.CHANGE_VAR_VALUE,e.name,e.value),$(t).find(".div_valor_var").html(""),vn(e,t,n)})),$(i).find(".remove_global_matrix_line").on("click",(function(i){var a;0!=(a=e).rows&&(a.rows--,a.value.splice(a.value.length-1,1)),ht(n,mt.CHANGE_VAR_TYPE,e.name,e.type,e.dimensions,e.rows,e.columns),gt(n,mt.CHANGE_VAR_VALUE,e.name,e.value),$(t).find(".div_valor_var").html(""),vn(e,t,n)})),$(i).find(".add_global_matrix_line").on("click",(function(i){!function(e){if(e.rows++,e.type==ct.INTEGER){for(var t=[],n=0;n<e.columns;n++)t.push(0);e.value.push(t)}if(e.type==ct.REAL){for(t=[],n=0;n<e.columns;n++)t.push(0);e.value.push(t)}if(e.type==ct.TEXT){for(t=[],n=0;n<e.columns;n++)t.push(le.getUI("textvar_default_value"));e.value.push(t)}if(e.type==ct.BOOLEAN){for(t=[],n=0;n<e.columns;n++)t.push(!0);e.value.push(t)}if(e.type==ct.CHAR){for(t=[],n=0;n<e.columns;n++)t.push(le.getUI("charvar_default_value"));e.value.push(t)}}(e),ht(n,mt.CHANGE_VAR_TYPE,e.name,e.type,e.dimensions,e.rows,e.columns),gt(n,mt.CHANGE_VAR_VALUE,e.name,e.value),$(t).find(".div_valor_var").html(""),vn(e,t,n)})),$(i).find(".boolean_matrix_var").on("click",(function(t){var i,a,r,o;i=e,a=$(this).data("row"),r=$(this).data("index"),o=this.parentNode,i.value[a][r]=!i.value[a][r],$(o).find(".span_value_variable").text(le.getUI("logic_value_".concat(i.value[a][r]))),ht(n,mt.CHANGE_VAR_VALUE,e.name,e.value)})),$(i).find(".matrix_var").on("click",(function(t){ht(n,mt.ENTER_CHANGE_VAR_VALUE,e.name),function(e,t,n,i,a){var r;En?Tn.focus():(i=$(i),En=!0,i.find(".span_value_variable").text(""),e.type==ct.REAL?(r=$("<input type='text' class='width-dynamic input_name_function' autocomplete='off' autocorrect='off' autocapitalize='off' spellcheck='false' value='"+e.value[t][n].toFixed(1)+"' />")).insertBefore(i.find(".span_value_variable")):(r=$("<input type='text' class='width-dynamic input_name_function' autocomplete='off' autocorrect='off' autocapitalize='off' spellcheck='false' value='"+e.value[t][n]+"' />")).insertBefore(i.find(".span_value_variable")),r.on("input",(function(){var e=r.textWidth()+10;Tn=r,r.focus();var t=r.val();r.val(""),r.val(t),r.css({width:e})})).trigger("input"),r.focusout((function(){var o=!1;r.val().trim()?(e.type==ct.REAL?(e.value[t][n]=parseFloat(r.val().trim()),i.find(".span_value_variable").text(e.value[t][n].toFixed(1))):(e.type==ct.INTEGER?e.value[t][n]=parseInt(r.val().trim()):e.value[t][n]=r.val().trim(),i.find(".span_value_variable").text(e.value[t][n])),o=!0):e.type==ct.REAL?i.find(".span_value_variable").text(e.value[t][n].toFixed(1)):i.find(".span_value_variable").text(e.value[t][n]),e.type==ct.TEXT&&(e.value[t][n]=r.val(),o=!0,i.find(".span_value_variable").text(e.value[t][n])),o&&ht(a,mt.CHANGE_VAR_VALUE,e.name,e.value),r.off(),r.remove(),En=!1,Tn=!1})),r.on("keydown",(function(o){var s=o.keyCode||o.which,l=!1;13==s&&(r.val().trim()?(e.type==ct.REAL?(e.value[t][n]=parseFloat(r.val().trim()),i.find(".span_value_variable").text(e.value[t][n].toFixed(1))):(e.type==ct.INTEGER?e.value[t][n]=parseInt(r.val().trim()):e.value[t][n]=r.val().trim(),i.find(".span_value_variable").text(e.value[t][n])),l=!0):e.type==ct.REAL?i.find(".span_value_variable").text(e.value[t][n].toFixed(1)):i.find(".span_value_variable").text(e.value[t][n]),e.type==ct.TEXT&&(e.value[t][n]=r.val(),l=!0,i.find(".span_value_variable").text(e.value[t][n])),l&&ht(a,mt.CHANGE_VAR_VALUE,e.name,e.value),r.off(),r.remove(),En=!1,Tn=!1),27==s&&(e.type==ct.REAL?i.find(".span_value_variable").text(e.value[t][n].toFixed(1)):i.find(".span_value_variable").text(e.value[t][n]),r.off(),r.remove(),En=!1,Tn=!1)})),r.select())}(e,$(this).data("row"),$(this).data("index"),this.parentNode,n)})),$(t).find(".div_valor_var").append(i),function(e,t){var n=e.find(".text").text().split("[");if(2==n.length){var i=n[0]+"[ "+t.columns+" ] ";e.find(".text").empty(),e.find(".text").text(i)}3==n.length&&(i=n[0]+"[ "+t.columns+" ] [ "+t.rows+" ] ",e.find(".text").empty(),e.find(".text").text(i))}(t,e)}var hn=!1,gn=null,yn=!1,xn=null,bn=!1,wn=null,En=!1,Tn=null;function kn(e,t,n,i){if(console.log("./ivprog/js/visualUI/commands/generic_expression.js: renderExpression(.): expression_array="+JSON.stringify(i)),i&&i[0]&&void 0!==i[0]){if(n.empty(),dt().unwatch(e,"expression"),dt().watch(e,"expression",(function(){if(!window.timer){var i=n.find(".single_element_expression").not(".mouse_distance").not(".add_parentheses"),a="";i.each((function(e){$(this).hasClass("parentheses_in_expression")?a+=$(this).text()+" ":(a+=$(this).find(".text").text(),a+=$(this).find(".var_name").text(),a+=$(this).find(".parameters_function_called").text(),a+=$(this).find(".value_rendered").text(),a+=" ")})),a&&(window.timer=!0,ht(t.name,mt.CHANGE_COMMAND_EXP,e.type,"/",a),setTimeout((function(){window.timer=!1}),200))}}),20,!0),e.type===Ft.attribution)if(dt().unwatch(e.variable),dt().watch(e.variable,(function(){kn(e,t,n,i)}),0),e.variable.content){var a=[];e.variable.content.type==ct.INTEGER||e.variable.content.type==ct.REAL?a.push(Gt.exp_arithmetic):e.variable.content.type==ct.BOOLEAN||e.variable.content.type==ct.TEXT?(a.push(Gt.exp_conditional),a.push(Gt.exp_logic),a.push(Gt.exp_arithmetic)):console.log("./ivprog/js/visualUI/commands/generic_expression.js: renderExpression(.): NOT RECOGNIZED! SEE command.variable.content.type="+e.variable.content.type),An(e,t,n,i,a)}else n.text(le.getUI("var_menu_select_var").toLowerCase());else{var r=[];r.push(Gt.exp_conditional),r.push(Gt.exp_logic),e.type===Ft.writer&&r.push(Gt.write_sep),r.push(Gt.exp_arithmetic),An(e,t,n,i,r)}n.children(".mouse_distance").addClass("mouse_distance_hidden"),n.children(".higher_element").on("mousemove",(function(e){window.open_or_close||($(this).css("position","relative","!important"),$(this).children(".mouse_distance").css("opacity","1"))})),n.children(".higher_element").on("mouseout",(function(e){window.open_or_close||($(this).css("position","absolute","!important"),$(this).children(".mouse_distance").css("opacity","0"))}));var o=$('<div class="lixeira" draggable="true"></div>');n.find(".single_element_expression").on("mousedown",(function(e){window.posX=e.clientX,window.posY=e.clientY})),Sortable.create(n[0],{animation:100,ghostClass:"ghost",group:{name:"shared",put:!1},draggable:".single_element_expression",sort:!1,filter:".not_allowed",onStart:function(){$("body").append(o),o.css("display","block"),o.css("top",window.posY+70,"!important"),o.css("left",window.posX-20,"!important")},onMove:function(){o.addClass("color_test")},onEnd:function(){o.remove(),n.find(".ghost").removeClass("ghost")}}),new Sortable(o[0],{group:"shared",animation:150,onAdd:function(a){o.css("display","none"),o.find(".single_element_expression").remove(),o.css("background-color",""),o.remove(),function(e,t){var n=$(e.item).data("index"),i=t[0];if(t[n].type)1==t.length?t.splice(0,1):t.length>1&&(n>0&&t[n-1].type_op?(n<t.length&&"("==t[n-2]&&t[n+1].type_op&&t.splice(n+1,1),t.splice(n,1),t.splice(n-1,1),n-2<t.length&&"("==t[n-2]&&")"==t[n-1]&&(t.splice(n-1,1),t.splice(n-2,1),n-3>=0&&n-3<t.length&&t[n-3].type_op&&t.splice(n-3,1))):n<t.length-1&&t[n+1].type_op?(t.splice(n+1,1),t.splice(n,1)):n<t.length-1&&n>0&&"("==t[n-1]&&")"==t[n+1]&&(n>1&&t[n-2].type_op?(t.splice(n+1,1),t.splice(n,1),t.splice(n-1,1),t.splice(n-2,1)):(n<t.length-2&&t[n+2].type_op,t.splice(n+1,1),t.splice(n,1),t.splice(n-1,1))));else if(t[n].type_op);else{var a=-1,r=-1;if("("==t[n]){a=n;for(var o=n+1;o<t.length;o++)if(")"==t[o]){r=o;break}}else for(r=n,o=n-1;o>=0;o--)if("("==t[o]){a=o;break}t[a+1].type_op?(t.splice(r,1),t.splice(a+1,1),t.splice(a,1)):(t.splice(r,1),t.splice(a,1))}0==t.length&&t.push(new un(ti.all,null,null,null,!0)),i!=t[0]&&t[0].type_op&&t.splice(0,1)}(a,i),kn(e,t,n,i)}})}else console.log(" *** ERROR! expression_array or expression_array[0] empty")}function An(e,t,n,i,a){var r=0;for(r=0;r<i.length;r++)if("var_value"==i[r].type){var o=$('<div class="single_element_expression" data-index="'+r+'"></div>');0==r&&i.length>0&&i[0].type_op,ni(e,i[r],o,t),n.append(o)}else"("==i[r]||")"==i[r]?")"==i[r]?($n(n,a,i,e,t,r),Rn(n,i[r],0,0,r)):"("!=i[r]||i[r+1].type_op?Rn(n,i[r],0,0,r):(Rn(n,i[r],0,0,r),In(n,a,i,e,t,r+1)):Cn(0,0,n,i[r],a,r);$n(n,a,i,e,t,r,!0),function(e,t,n,i,a){var r=$('<div class="single_element_expression add_parentheses not_allowed"><img style="width: 15px; position: relative; top: 3px; left: 1px; height: 15px;" src="data:image/png;base64,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"></div>');n.append(r),r.popup({content:"Adicionar parênteses",delay:{show:750,hide:0}}),r.on("click",(function(a){if(!window.parentheses_activate){n.find(".usepointer").off("click"),window.parentheses_activate=!0,window.open_or_close="open",n.find(".dropdown").addClass("disabled"),n.find(".ghost_element").addClass("temp_class"),n.find(".ghost_element").removeClass("ghost_element");var r,o=$('<div class="floating_parenthesis"> ( </div>');o.draggable().appendTo("body"),o.css("position","absolute"),a.type="mousedown.draggable",a.target=o[0],o.css("left",a.pageX+10),o.css("top",a.pageY+10),o.trigger(a),n.on("mousemove",(function(e){var t=null;t=$(e.target).hasClass("single_element_expression")?$(e.target):$(e.target).closest(".single_element_expression"),$(e.target).hasClass("temp_class")||t.length<1||t.hasClass("add_parentheses")||t.hasClass("rendered_parentheses")||$(e.target).hasClass("expression_elements")||function(e,t,n,i,a){var r=e.data("index");if("("!=a[r]&&")"!=a[r]&&!("close"==window.open_or_close&&r<window.inserir_open))if(0!=r){if("var_value"==a[r].type)return"open"==window.open_or_close&&(window.open_parentheses.insertBefore(e),window.inserir_open=r),void("close"==window.open_or_close&&(window.close_parentheses.insertAfter(e),window.inserir_close=r+2));if(a[r].type_op){if("("==a[r-1])"open"==window.open_or_close&&(window.open_parentheses.insertBefore(e),window.inserir_open=r);else if(")"==a[r-1]){s=0,l=0;for(var o=r-1;o>=0;o--)if("("==a[o]&&s++,")"==a[o]&&l++,s!=l);else if(l>0){"open"==window.open_or_close&&(window.open_parentheses.insertBefore(i.find('.single_element_expression[data-index="'+o+'"]')),window.inserir_open=o);break}}else"var_value"==a[r-1].type&&"open"==window.open_or_close&&(window.open_parentheses.insertBefore(i.find('.single_element_expression[data-index="'+(r-1)+'"]')),window.inserir_open=r-1);if("("==a[r+1]){for(s=0,l=0,o=r+1;o<a.length;o++)if("("==a[o]&&s++,")"==a[o]&&l++,s!=l);else if(s>0){"close"==window.open_or_close&&(window.close_parentheses.insertAfter(i.find('.single_element_expression[data-index="'+o+'"]')),window.inserir_close=o+2);break}}else"var_value"==a[r+1].type&&"close"==window.open_or_close&&(window.close_parentheses.insertAfter(i.find('.single_element_expression[data-index="'+(r+1)+'"]')),window.inserir_close=r+3)}}else if("var_value"==a[r].type){"open"==window.open_or_close&&(window.open_parentheses.insertBefore(e),window.inserir_open=r);for(var s=0,l=0,c=0;c<a.length;c++)if("("==a[c]&&s++,")"==a[c]&&l++,s!=l);else{if(s>0){"close"==window.open_or_close&&(window.close_parentheses.insertAfter(i.find('.single_element_expression[data-index="'+c+'"]')),window.inserir_close=c+2);break}if("var_value"==a[c].type){"close"==window.open_or_close&&(window.close_parentheses.insertAfter(i.find('.single_element_expression[data-index="'+c+'"]')),window.inserir_close=c+2);break}}}else if(a[r].type_op)for("open"==window.open_or_close&&(window.open_parentheses.insertBefore(e),window.inserir_open=r),s=0,l=0,c=1;c<a.length;c++)if("("==a[c]&&s++,")"==a[c]&&l++,s!=l);else{if(s>0){"var_value"==a[c].type&&(window.close_parentheses.insertAfter(i.find('.single_element_expression[data-index="'+c+'"]')),window.inserir_close=c+2);break}if("var_value"==a[c].type){"var_value"==a[c].type&&(window.close_parentheses.insertAfter(i.find('.single_element_expression[data-index="'+c+'"]')),window.inserir_close=c+2);break}}}(t,0,0,n,i)})),n.on("mouseleave",(function(){})),$("body").on("mouseup",(function(a){if("open"==window.open_or_close){window.open_or_close="close",o.remove();var s=$(a.target).closest(".command_container"),l=n.closest(".command_container");if(!s.is(l))return window.parentheses_activate=!1,n.find(".temp_class").addClass("ghost_element"),n.find(".temp_class").removeClass("temp_class"),n.off("mousemove"),n.off("mouseleave"),$("body").off("mouseup"),window.open_parentheses.remove(),window.close_parentheses.remove(),window.inserir_open=-1,window.inserir_close=-1,window.open_or_close=null,void kn(e,t,n,i);window.open_parentheses.addClass("parentheses_fixed"),(r=$('<div class="floating_parenthesis"> ) </div>')).draggable().appendTo("body"),r.css("position","absolute"),r.css("left",a.pageX+10),r.css("top",a.pageY+10),$("body").on("mousemove",(function(e){r.css("left",e.pageX+10),r.css("top",e.pageY+10)}))}else{r.remove(),window.open_parentheses.removeClass("parentheses_fixed"),n.off("mousemove"),n.off("mouseleave"),$("body").off("mouseup"),setTimeout((function(){window.parentheses_activate=!1}),50),s=$(a.target).closest(".command_container"),l=n.closest(".command_container");var c=!1;s.is(l)&&(c=!0),c&&(i.splice(window.inserir_open,0,"("),i.splice(window.inserir_close,0,")")),window.inserir_open=-1,window.inserir_close=-1,window.open_or_close=null,kn(e,t,n,i)}}))}}))}(e,t,n,i)}function Rn(e,t,n,i,a,r){var o=$('<div class="single_element_expression parentheses_in_expression" data-index="'+a+'">'+t+"</div>\n");e.append(o)}function In(e,t,n,i,a,r){var o='<div class="ui dropdown disabled usepointer"><div class="text"> + </div><i class="dropdown icon"></i><div class="menu">';t.indexOf(Gt.exp_arithmetic)>=0&&(t.length>1?(o+='<div class="item"><i class="dropdown icon"></i>'+le.getUI("text_arithmetic_expression")+'<div class="menu">',o+=Nn(),o+="</div></div>"):o+=Nn()),t.indexOf(Gt.exp_logic)>=0&&(t.length>1?(o+='<div class="item"><i class="dropdown icon"></i>'+le.getUI("text_logic_expression")+'<div class="menu">',o+=On(),o+="</div></div>"):o+=On()),t.indexOf(Gt.exp_conditional)>=0&&(t.length>1?(o+='<div class="item"><i class="dropdown icon"></i>'+le.getUI("text_relational_expression")+'<div class="menu">',o+=Ln(),o+="</div></div>"):o+=Ln()),o+="</div></div>",o=$(o);var s=$('<div class="single_element_expression ghost_element mouse_distance"></div>');s.append(o);var l=$('<div class="higher_element"></div>');l.append(s),e.append(l),o.dropdown("set selected",Dt.minus),s.on("click",(function(){if(!window.open_or_close){var o=r;t.indexOf(Gt.exp_arithmetic)>=0?n.splice(o,0,new Jt(Gt.exp_arithmetic,Dt.minus)):t.indexOf(Gt.exp_logic)>=0?n.splice(o,0,new Jt(Gt.exp_logic,Pt.equals_to)):t.indexOf(Gt.exp_conditional)>=0&&n.splice(o,0,new Jt(Gt.exp_conditional,Vt.greater_than)),kn(i,a,e,n)}}))}function $n(e,t,n,i,a,r){var o=arguments.length>6&&void 0!==arguments[6]&&arguments[6],s='<div class="ui dropdown disabled usepointer"><div class="text"> + </div><i class="dropdown icon"></i><div class="menu">';t.indexOf(Gt.exp_arithmetic)>=0&&(t.length>1?(s+='<div class="item"><i class="dropdown icon"></i>'+le.getUI("text_arithmetic_expression")+'<div class="menu">',s+=Nn(),s+="</div></div>"):s+=Nn()),t.indexOf(Gt.exp_logic)>=0&&(t.length>1?(s+='<div class="item"><i class="dropdown icon"></i>'+le.getUI("text_logic_expression")+'<div class="menu">',s+=On(),s+="</div></div>"):s+=On()),t.indexOf(Gt.exp_conditional)>=0&&(t.length>1?(s+='<div class="item"><i class="dropdown icon"></i>'+le.getUI("text_relational_expression")+'<div class="menu">',s+=Ln(),s+="</div></div>"):s+=Ln()),s+="</div></div>",s=$(s);var l=$('<div class="simple_add mouse_distance"></div>'),c=$('<div class="higher_element"></div>'),u=$('<button class="ui button green add_expression"><i class="plus circle inverted icon"></i></button>');l.append(u),o?(l.removeClass("mouse_distance"),l.css("opacity","1","!important"),e.append(l)):(c.append(l),e.append(c),l.css("opacity","0","!important")),s.dropdown("set selected",Dt.plus),l.on("click",(function(){var o=r;if(")"==n[o]&&"("==n[o-1])return n.splice(o,0,new un(ti.all,null,null,null,!0)),void kn(i,a,e,n);t.indexOf(Gt.exp_arithmetic)>=0?(n.splice(o,0,new Jt(Gt.exp_arithmetic,Dt.plus)),n.splice(o+1,0,new un(ti.all,null,null,null,!0))):t.indexOf(Gt.exp_logic)>=0?(n.splice(o,0,new Jt(Gt.exp_logic,Pt.equals_to)),n.splice(o+1,0,new un(ti.all,null,null,null,!0))):t.indexOf(Gt.exp_conditional)>=0&&(n.splice(o,0,new Jt(Gt.exp_conditional,Vt.greater_than)),n.splice(o+1,0,new un(ti.all,null,null,null,!0))),kn(i,a,e,n)}))}function Cn(e,t,n,i,a,r,o){var s='<div class="ui dropdown"><div class="text"> + </div><i class="dropdown icon"></i><div class="menu">\n';a.indexOf(Gt.write_sep)>=0&&(s+='<div class="item ivprog-write-sep" data-type="'+Gt.write_sep+'"  data-value="'+Gt.write_sep+'">'+le.getUI("write_seprator_menu_text")+"</div>\n"),a.indexOf(Gt.exp_arithmetic)>=0&&(a.length>1?(s+='<div class="item"><i class="dropdown icon"></i>'+le.getUI("text_arithmetic_expression")+'<div class="menu">',s+=Nn(),s+="</div></div>\n"):s+=Nn()),a.indexOf(Gt.exp_logic)>=0&&(a.length>1?(s+='<div class="item"><i class="dropdown icon"></i>'+le.getUI("text_logic_expression")+'<div class="menu">',s+=On(),s+="</div></div>\n"):s+=On()),a.indexOf(Gt.exp_conditional)>=0&&(a.length>1?(s+='<div class="item"><i class="dropdown icon"></i>'+le.getUI("text_relational_expression")+'<div class="menu">',s+=Ln(),s+="</div></div>\n"):s+=Ln()),s+="</div></div>\n",(s=$(s)).find(".ivprog-write-sep").popup({content:le.getUI("write_seprator_menu_tooltip"),delay:{show:500,hide:0}});var l=$('<div class="single_element_expression not_allowed" data-index="'+r+'"></div>');l.append(s),n.append(l),s.dropdown({onChange:function(e,t,n){i.item=n.data("value"),i.type_op=n.data("type")}}),s.dropdown("set selected",i.item)}function Nn(){var e;return e='<div class="item" data-type="'+Gt.exp_arithmetic+'" data-value="'+Dt.plus+'">+</div>',e+='<div class="item" data-type="'+Gt.exp_arithmetic+'" data-value="'+Dt.minus+'">-</div>',e+='<div class="item" data-type="'+Gt.exp_arithmetic+'" data-value="'+Dt.multiplication+'">*</div>',(e+='<div class="item" data-type="'+Gt.exp_arithmetic+'" data-value="'+Dt.division+'">/</div>')+'<div class="item" data-type="'+Gt.exp_arithmetic+'" data-value="'+Dt.module+'">%</div>'}function On(){var e;return e='<div class="item" data-type="'+Gt.exp_logic+'" data-value="'+Pt.and+'">'+le.getUI("logic_operator_and")+"</div>\n",(e+='<div class="item" data-type="'+Gt.exp_logic+'" data-value="'+Pt.or+'">'+le.getUI("logic_operator_or")+"</div>\n")+'<div class="item" data-type="'+Gt.exp_logic+'" data-value="'+Pt.not+'">'+le.getUI("logic_operator_not")+"</div>\n"}function Ln(){var e;return e='<div class="item" data-type="'+Gt.exp_conditional+'" data-value="'+Vt.greater_than+'">></div>',e+='<div class="item" data-type="'+Gt.exp_conditional+'" data-value="'+Vt.less_than+'"><</div>',e+='<div class="item" data-type="'+Gt.exp_conditional+'" data-value="'+Vt.equals_to+'">==</div>',e+='<div class="item" data-type="'+Gt.exp_conditional+'" data-value="'+Vt.not_equals_to+'">!=</div>',(e+='<div class="item" data-type="'+Gt.exp_conditional+'" data-value="'+Vt.greater_than_or_equals_to+'">>=</div>')+'<div class="item" data-type="'+Gt.exp_conditional+'" data-value="'+Vt.less_than_or_equals_to+'"><=</div>'}function Sn(e,t){if(")"==t||"("==t)return t;if("operator"==t.instance){switch(t.value){case"+":o=new Jt(Gt.exp_arithmetic,Dt.plus);break;case"-":o=new Jt(Gt.exp_arithmetic,Dt.minus);break;case"*":o=new Jt(Gt.exp_arithmetic,Dt.multiplication);break;case"/":o=new Jt(Gt.exp_arithmetic,Dt.division);break;case"%":o=new Jt(Gt.exp_arithmetic,Dt.module);break;case">":o=new Jt(Gt.exp_conditional,Vt.greater_than);break;case"<":o=new Jt(Gt.exp_conditional,Vt.less_than);break;case">=":o=new Jt(Gt.exp_conditional,Vt.greater_than_or_equals_to);break;case"<=":o=new Jt(Gt.exp_conditional,Vt.less_than_or_equals_to);break;case"==":o=new Jt(Gt.exp_conditional,Vt.equals_to);break;case"!=":o=new Jt(Gt.exp_conditional,Vt.not_equals_to);break;case"and":o=new Jt(Gt.exp_logic,Pt.and);break;case"or":o=new Jt(Gt.exp_logic,Pt.or);break;case"not":o=new Jt(Gt.exp_logic,Pt.not)}return o}if("expression"==t.instance&&"const"==t.type)return!0===t.value?new un(ti.all,le.getUI("logic_value_true"),null,null,!0):!1===t.value?new un(ti.all,le.getUI("logic_value_false"),null,null,!0):new un(ti.all,t.value,null,null,!0);var n=null;if("expression"==t.instance&&"var"==t.type){for(var i=0;i<e.variables_list.length;i++)if(e.variables_list[i].name==t.value){n=e.variables_list[i];break}if(!n)for(i=0;i<program_obj.globals.length;i++)if(program_obj.globals[i].name==t.value){n=program_obj.globals[i];break}if(!n)for(i=0;i<e.parameters_list.length;i++)if(e.parameters_list[i].name==t.value){n=e.parameters_list[i];break}}if("expression"==t.instance&&"var"==t.type&&!t.line)return new un(ti.all,n,null,null,!0);if("expression"==t.instance&&"var"==t.type&&"vector"==t.class)return new un(ti.all,n,null,Sn(e,t.line[0]),!0);if("expression"==t.instance&&"var"==t.type&&"matrix"==t.class){var a=Sn(e,t.line[0]),r=Sn(e,t.column[0]);return new un(ti.all,n,a,r,!0)}if("expression"==t.instance&&"function"==t.type){for(var o=new un(ti.all,n,null,null,!0),s=0;s<program_obj.functions.length;s++)program_obj.functions[s].name==t.value&&(o.function_called=program_obj.functions[s]);if(!o.function_called)for(s=0;s<window.system_functions.length;s++)(t.value.split(".")[1]&&t.value.split(".")[1]==window.system_functions[s].identifier||t.value==window.system_functions[s].identifier)&&(o.function_called=window.system_functions[s]);for(o.parameters_list=[],s=0;s<t.params.length;s++)o.parameters_list.push(Sn(e,t.params[s][0]));return o}}function Un(e,t,n){if(console.log("./ivprog/js/visualUI/commands/generic_expression.js: expressionParserToVisual(.)"),0==e.trim().length)return[new un(ti.all,null,null,null,!0)];var i,a,r=[],o=[];try{i=ivprogCore.parseExpression(e)}catch(e){pt(n,le.getUI("expression_invalid"))}if(!i)return null;for(var s=i.length,l=0;l<s;l++){var c,u=null;if("expression"==(a=i[l]).instance&&"var"==a.type){for(var d=0;d<t.variables_list.length;d++)if(t.variables_list[d].name==a.value){u=t.variables_list[d];break}if(!u)for(d=0;d<program_obj.globals.length;d++)if(program_obj.globals[d].name==a.value){u=program_obj.globals[d];break}if(!u)for(d=0;d<t.parameters_list.length;d++)if(t.parameters_list[d].name==a.value){u=t.parameters_list[d];break}u||r.push(a.value)}if("expression"==a.instance&&"function"==a.type){for(d=0;d<program_obj.functions.length;d++)program_obj.functions[d].name==a.value&&(c=program_obj.functions[d]);if(!c)for(d=0;d<window.system_functions.length;d++)(a.value.split(".")[1]&&a.value.split(".")[1]==window.system_functions[d].identifier||a.value==window.system_functions[d].identifier)&&(c=window.system_functions[d]);c||o.push(a.value)}}if(o.length>0){var p=ge()(new Set(o));return pt(n,le.getUI("expression_undeclared_function")+" "+p.join(", ")),null}if(r.length>0){var _=ge()(new Set(r));return pt(n,le.getUI("expression_undelcared_variable")+" "+_.join(", ")),null}var f=[];for(l=0;l<s;l++)a=i[l],f.push(Sn(t,a));return f}function Mn(e,t,n){var i,a=0;return 1==t.length&&(t=t[0]),"const"==t.type&&"simple"==t.class&&" "==t.value&&(console.log(" [GE.cws] const, simple, branco! #parsed="+n+", item_parsed.value.length="+t.value.length+", item_parsed.value='"+t.value+"'*******"),n>1&&1==t.value.length&&t.value.toUpperCase()==t.value.toLowerCase()&&32==t.value.charCodeAt(0)&&(a=1)),1==a?(console.log(" [GE.cws] const, simple, branco! check_write_esp="+a+" : "+JSON.stringify(t)+"*******"),t.type=Gt.exp_arithmetic,t.value=Dt.plus,i=new Jt(Gt.exp_arithmetic,Dt.plus)):i=Sn(e,t),i}function Fn(e,t){if(!e)return null;var n,i=[],a=[];console.log("./ivprog/js/visualUI/commands/generic_expression.js [GE]: expressionParserCodeVisual(.): #parsed="+e.length);for(var r=0;r<e.length;r++){n=e[r],console.log(" [GE] "+r+" : type="+(n[0]?n[0].type:"<>")+" : parsed["+r+"]="+JSON.stringify(e[r]));var o,s=null;if("expression"==n.instance&&"var"==n.type){for(var l=0;l<t.variables_list.length;l++)if(t.variables_list[l].name==n.value){s=t.variables_list[l];break}if(!s)for(l=0;l<program_obj.globals.length;l++)if(program_obj.globals[l].name==n.value){s=program_obj.globals[l];break}if(!s)for(l=0;l<t.parameters_list.length;l++)if(t.parameters_list[l].name==n.value){s=t.parameters_list[l];break}s||i.push(n.value)}if("expression"==n.instance&&"function"==n.type){for(l=0;l<program_obj.functions.length;l++)program_obj.functions[l].name==n.value&&(o=program_obj.functions[l]);if(!o)for(l=0;l<window.system_functions.length;l++)(n.value.split(".")[1]&&n.value.split(".")[1]==window.system_functions[l].identifier||n.value==window.system_functions[l].identifier)&&(o=window.system_functions[l]);o||a.push(n.value)}}var c=e.length;1==c&&e[0].length>1&&(c=(e=e[0]).length),console.log(" [GE] Final: sizeParsed="+c+", parsed.length="+e.length+"\n [GE] parsed="+JSON.stringify(e));var u,d=[];for(r=0;r<c;r++){var p=e[r];void 0===e.length&&(p=e),console.log(" [GE] i="+r+": #item_parsed2="+p.length+", item_parsed2="+JSON.stringify(p)),u=Mn(t,p,c),d.push(u),console.log(" [GE] Type "+(p[0]?p[0].type:"<>")+"; Insert in 'exp_obj["+r+"]=|"+JSON.stringify(u)+"|")}return d}function Dn(){$(".ivprog_visual_panel").find(".error_icon").remove();var e=le.getUI("program")+" { ";e+=function(){var e="";if(window.program_obj.globals)for(var t=0;t<window.program_obj.globals.length;t++){var n=window.program_obj.globals[t];switch(e+="  ",n.is_constant&&(e+="const "),n.type){case ct.INTEGER:e+=le.getUI("type_integer");break;case ct.REAL:e+=le.getUI("type_real");break;case ct.TEXT:e+=le.getUI("type_text");break;case ct.BOOLEAN:e+=le.getUI("type_boolean");break;case ct.CHAR:e+=le.getUI("type_char")}if(e+=" "+n.name+" ",1==n.dimensions)switch(e+="["+n.columns+"] ",n.type){case ct.INTEGER:e+="<- {";for(var i=0;i<n.value.length;i++)e+=n.value[i],i+1<n.value.length&&(e+=", ");e+="}";break;case ct.REAL:e+="<- {";for(var a=0;a<n.value.length;a++)e+=parseFloat(n.value[a]).toFixed(2),a+1<n.value.length&&(e+=", ");e+="}";break;case ct.TEXT:e+="<- {";for(var r=0;r<n.value.length;r++)e+='"'+n.value[r]+'"',r+1<n.value.length&&(e+=", ");e+="}";break;case ct.BOOLEAN:e+="<- {";for(var o=0;o<n.value.length;o++)n.value[o]?e+=le.getUI("logic_value_true"):e+=le.getUI("logic_value_false"),o+1<n.value.length&&(e+=", ");e+="}";break;case ct.CHAR:e+="<- {";for(var s=0;s<n.value.length;s++)e+="'"+n.value[s]+"'",s+1<n.value.length&&(e+=", ");e+="}"}else if(2==n.dimensions)switch(e+="["+n.rows+"]["+n.columns+"] ",n.type){case ct.INTEGER:e+="<- {";for(var l=0;l<n.rows;l++){e+="{";for(var c=0;c<n.columns;c++)e+=n.value[l][c],c+1<n.columns&&(e+=", ");e+="}",l+1<n.rows&&(e+=", ")}e+="}";break;case ct.REAL:e+="<- {";for(var u=0;u<n.rows;u++){e+="{";for(var d=0;d<n.columns;d++)e+=parseFloat(n.value[u][d]).toFixed(2),d+1<n.columns&&(e+=", ");e+="}",u+1<n.rows&&(e+=", ")}e+="}";break;case ct.TEXT:e+="<- {";for(var p=0;p<n.rows;p++){e+="{";for(var _=0;_<n.columns;_++)e+='"'+n.value[p][_]+'"',_+1<n.columns&&(e+=", ");e+="}",p+1<n.rows&&(e+=", ")}e+="}";break;case ct.BOOLEAN:e+="<- {";for(var f=0;f<n.rows;f++){e+="{";for(var m=0;m<n.columns;m++)n.value[f][m]?e+=le.getUI("logic_value_true"):e+=le.getUI("logic_value_false"),m+1<n.columns&&(e+=", ");e+="}",f+1<n.rows&&(e+=", ")}e+="}";break;case ct.CHAR:e+="<- {";for(var v=0;v<n.rows;v++){e+="{";for(var h=0;h<n.columns;h++)e+="'"+n.value[v][h]+"'",h+1<n.columns&&(e+=", ");e+="}",v+1<n.rows&&(e+=", ")}e+="}"}else switch(n.type){case ct.INTEGER:e+="<- "+n.value;break;case ct.REAL:e+="<- "+parseFloat(n.value).toFixed(2);break;case ct.TEXT:e+='<- "'+n.value+'"';break;case ct.BOOLEAN:e+="<- ",n.value?e+=le.getUI("logic_value_true"):e+=le.getUI("logic_value_false");break;case ct.CHAR:e+="<- '"+n.value+"'"}}return e}(),e+="\n";for(var t=!1,n=0;n<window.program_obj.functions.length;n++){var i=Bn(window.program_obj.functions[n]);null==i&&(t=!0),e+=i,e+="\n"}return e+="\n}",t?null:e}function Bn(e){var t="\n  "+le.getUI("function")+" ";switch(e.return_type){case ct.INTEGER:t+=le.getUI("type_integer");break;case ct.REAL:t+=le.getUI("type_real");break;case ct.TEXT:t+=le.getUI("type_text");break;case ct.BOOLEAN:t+=le.getUI("type_boolean");break;case ct.CHAR:t+=le.getUI("type_char");break;case ct.VOID:t+=le.getUI("type_void")}t+=" ",1==e.return_dimensions?t+="[] ":2==e.return_dimensions&&(t+="[][] "),e.is_main?t+=le.getUI("start"):t+=e.name,t+=" (";for(var n=0;n<e.parameters_list.length;n++)t+=zn(e.parameters_list[n]),n+1<e.parameters_list.length&&(t+=", ");t+=") {";for(var i=0;i<e.variables_list.length;i++)t+=Hn(e.variables_list[i]);for(var a=0;a<e.commands.length;a++)t+=Gn(e.commands[a]);return t+"\n  }"}function Gn(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:2;switch(e.type){case Ft.break:return function(e,t){for(var n="\n",i=0;i<t;i++)n+="  ";return n+le.getUI("text_break")}(0,t);case Ft.comment:return function(e,t){for(var n="\n",i=0;i<t;i++)n+="  ";return n+="// ",n+=e.comment_text.content}(e,t);case Ft.reader:return function(e,t){for(var n="\n",i=0;i<t;i++)n+="  ";return n+=le.getUI("text_command_read")+"(",(n+=jn(e.variable_value_menu))+")"}(e,t);case Ft.writer:return function(e,t){for(var n="\n",i=0;i<t;i++)n+="  ";return n+=le.getUI("text_command_write")+"(",n+=Kn(e.content),e.newline&&(n+=', "\\n"'),n+") "}(e,t);case Ft.functioncall:return function(e,t){for(var n="\n",i=0;i<t;i++)n+="  ";return n+=jn(e.function_called)}(e,t);case Ft.attribution:return function(e,t){for(var n="\n",i=0;i<t;i++)n+="  ";return n+=jn(e.variable)+" <- ",n+=Kn(e.expression)}(e,t);case Ft.whiletrue:return function(e,t){for(var n="\n",i=0;i<t;i++)n+="  ";if(n+=le.getUI("text_code_while"),e.expression||pt(e.expression.dom_object,le.getUI("inform_valid_expression")),e.expression&&(n+="(",n+=Kn(e.expression),n+=")"),n+=" { ",e.commands_block)for(var a=0;a<e.commands_block.length;a++)n+=Gn(e.commands_block[a],t+1);n+="\n";for(var r=0;r<t;r++)n+="  ";return n+"}"}(e,t);case Ft.dowhiletrue:return function(e,t){for(var n="\n",i=0;i<t;i++)n+="  ";if(n+=le.getUI("text_code_do")+" { ",e.commands_block)for(var a=0;a<e.commands_block.length;a++)n+=Gn(e.commands_block[a],t+1);n+="\n";for(var r=0;r<t;r++)n+="  ";return n+="} "+le.getUI("text_code_do_until"),e.expression||pt(e.expression.dom_object,le.getUI("inform_valid_expression")),e.expression&&(n+="(",n+=Kn(e.expression),n+=")"),n}(e,t);case Ft.iftrue:return function(e,t){for(var n="\n",i=0;i<t;i++)n+="  ";if(n+=le.getUI("text_if"),e.expression?(n+="(",n+=Kn(e.expression),n+=")"):pt(e.expression.dom_object,le.getUI("inform_valid_expression")),n+=" { ",e.commands_block)for(var a=0;a<e.commands_block.length;a++)n+=Gn(e.commands_block[a],t+1);n+="\n";for(var r=0;r<t;r++)n+="  ";if(n+="} "+le.getUI("text_else")+" {",e.commands_else)for(var o=0;o<e.commands_else.length;o++)n+=Gn(e.commands_else[o],t+1);n+="\n";for(var s=0;s<t;s++)n+="  ";return n+"}"}(e,t);case Ft.repeatNtimes:return function(e,t){for(var n="\n",i=0;i<t;i++)n+="  ";if(n+=le.getUI("text_for")+" ",e.var_attribution&&(n+=jn(e.var_attribution),n+=" ".concat(le.getUI("text_code_for_from")," "),n+=jn(e.expression1)),e.expression2&&(n+=" ".concat(le.getUI("text_code_for_to")," "),n+=jn(e.expression2)),e.expression3){switch(n+=" ".concat(le.getUI("text_code_for_pass")," "),e.expression3.itens[1]){case Dt.plus:n+=" +";break;case Dt.minus:n+=" -"}n+=jn(e.expression3.itens[2])}if(n+=" { ",e.commands_block)for(var a=0;a<e.commands_block.length;a++)n+=Gn(e.commands_block[a],t+1);n+="\n";for(var r=0;r<t;r++)n+="  ";return n+"}"}(e,t);case Ft.switch:return function(e,t){for(var n="\n",i=0;i<t;i++)n+="  ";if(n+=le.getUI("text_code_switch")+"(",n+=jn(e.variable),n+=") { ",e.cases)for(var a=0;a<e.cases.length;a++)n+=Vn(e.cases[a],t+1);n+="\n";for(var r=0;r<t;r++)n+="  ";return n+"} "}(e,t);case Ft.return:return function(e,t){for(var n="\n",i=0;i<t;i++)n+="  ";if(n+=le.getUI("text_return"),e.variable_value_menu)try{n+=" "+Kn(e.variable_value_menu)}catch(e){}return n}(e,t)}}function Vn(e,t){for(var n="\n",i=0;i<t;i++)n+="  ";if(n+=le.getUI("text_code_case")+" ",n+=jn(e.variable_value_menu),n+=" :",e.commands_block)for(var a=0;a<e.commands_block.length;a++)n+=Gn(e.commands_block[a],t+1);return n}function Pn(e){var t="";if(e.var_attribution&&(t+='<span class="repeatN_text_par_1">',t+=jn(e.var_attribution),t+="</span>",t+=" "+le.getUI("text_code_for_from")+" ",t+='<span class="repeatN_text_par_2">',t+=jn(e.expression1),t+="</span>"),e.expression2&&(t+=" "+le.getUI("text_code_for_to")+" ",t+='<span class="repeatN_text_par_3">',t+=jn(e.expression2),t+="</span>"),e.expression3){switch(t+=" "+le.getUI("text_code_for_pass")+" ",t+='<span class="repeatN_text_par_4">',e.expression3.itens[1]){case Dt.plus:t+=" +";break;case Dt.minus:t+=" -"}t+=jn(e.expression3.itens[2]),t+="</span>"}return t}function Kn(e){for(var t="",n=0;n<e.length;n++)if(e[n].type)t+=jn(e[n]);else if(e[n].type_op)switch(e[n].item){case Dt.plus:t+=" + ";break;case Dt.minus:t+=" - ";break;case Dt.multiplication:t+=" * ";break;case Dt.division:t+=" / ";break;case Dt.module:t+=" % ";break;case Pt.equals_to:t+=" == ";break;case Pt.not_equals_to:t+=" != ";break;case Pt.and:t+=" "+le.getUI("logic_operator_and")+" ";break;case Pt.or:t+=" "+le.getUI("logic_operator_or")+" ";break;case Pt.not:t+=" "+le.getUI("logic_operator_not")+" ";break;case Vt.greater_than:t+=" > ";break;case Vt.less_than:t+=" < ";break;case Vt.greater_than_or_equals_to:t+=" >= ";break;case Vt.less_than_or_equals_to:t+=" <= ";break;case Gt.write_sep:t+=', " ", '}else t+=" "+e[n]+" ";return t}function jn(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n="";try{if(e.function_called){if(e.function_called.name?n+=e.function_called.name+"(":n+=le.translateInternalFunction(e.function_called.identifier,e.function_called.category)+"(",e.parameters_list)for(var i=0;i<e.parameters_list.length;i++)n+=jn(e.parameters_list[i]),i+1<e.parameters_list.length&&(n+=", ");n+=")"}else if(e.content.type)n+=e.content.name,1==e.content.dimensions&&1!=e.dimensions&&(n+="["+jn(e.column)+"]"),2==e.content.dimensions&&2!=e.dimensions&&1==e.reference_dimensions?n+="["+jn(e.row)+"]":2==e.content.dimensions&&2!=e.dimensions&&(n+="["+jn(e.row)+"]",n+="["+jn(e.column)+"]");else{var a=String(e.content);if(isNaN(a)){var r=92===a.charCodeAt(0);1===a.length||2===a.length&&r?n+="'".concat(a,"'"):n+='"'+e.content+'"'}else 0==a.length?n+='""':0==a.trim().length?n+='"'+a+'"':n+=e.content}}catch(n){if(!t)throw pt(e.dom_object,le.getUI("inform_valid_content")),n}return n}function zn(e){var t="";switch(e.type){case ct.INTEGER:t+=" "+le.getUI("type_integer")+" ";break;case ct.REAL:t+=" "+le.getUI("type_real")+" ";break;case ct.TEXT:t+=" "+le.getUI("type_text")+" ";break;case ct.BOOLEAN:t+=" "+le.getUI("type_boolean")+" ";break;case ct.CHAR:t+=" "+le.getUI("type_char")+" "}return e.reference&&(t+="&"),t+=e.name+"",1==e.dimensions?t+=" []":2==e.dimensions&&(t+=" [][]"),t}function Hn(e){var t="",n=e;switch(t+="\n    ",n.is_constant&&(t+="const "),n.type){case ct.INTEGER:t+=le.getUI("type_integer")+" ";break;case ct.REAL:t+=le.getUI("type_real")+" ";break;case ct.TEXT:t+=le.getUI("type_text")+" ";break;case ct.BOOLEAN:t+=le.getUI("type_boolean")+" ";break;case ct.CHAR:t+=le.getUI("type_char")+" "}if(t+=n.name+" ",1==n.dimensions)switch(t+="["+n.columns+"] ",n.type){case ct.INTEGER:t+="<- {";for(var i=0;i<n.value.length;i++)t+=n.value[i],i+1<n.value.length&&(t+=", ");t+="}";break;case ct.REAL:t+="<- {";for(var a=0;a<n.value.length;a++)t+=parseFloat(n.value[a]).toFixed(2),a+1<n.value.length&&(t+=", ");t+="}";break;case ct.TEXT:t+="<- {";for(var r=0;r<n.value.length;r++)t+='"'+n.value[r]+'"',r+1<n.value.length&&(t+=", ");t+="}";break;case ct.BOOLEAN:t+="<- {";for(var o=0;o<n.value.length;o++)n.value[o]?t+=le.getUI("logic_value_true"):t+=le.getUI("logic_value_false"),o+1<n.value.length&&(t+=", ");t+="}";break;case ct.CHAR:t+="<- {";for(var s=0;s<n.value.length;s++)t+="'"+n.value[s]+"'",s+1<n.value.length&&(t+=", ");t+="}"}else if(2==n.dimensions)switch(t+="["+n.rows+"]["+n.columns+"] ",n.type){case ct.INTEGER:t+="<- {";for(var l=0;l<n.rows;l++){t+="{";for(var c=0;c<n.columns;c++)t+=n.value[l][c],c+1<n.columns&&(t+=", ");t+="}",l+1<n.rows&&(t+=", ")}t+="}";break;case ct.REAL:t+="<- {";for(var u=0;u<n.rows;u++){t+="{";for(var d=0;d<n.columns;d++)t+=parseFloat(n.value[u][d]).toFixed(2),d+1<n.columns&&(t+=", ");t+="}",u+1<n.rows&&(t+=", ")}t+="}";break;case ct.TEXT:t+="<- {";for(var p=0;p<n.rows;p++){t+="{";for(var _=0;_<n.columns;_++)t+='"'+n.value[p][_]+'"',_+1<n.columns&&(t+=", ");t+="}",p+1<n.rows&&(t+=", ")}t+="}";break;case ct.BOOLEAN:t+="<- {";for(var f=0;f<n.rows;f++){t+="{";for(var m=0;m<n.columns;m++)n.value[f][m]?t+=le.getUI("logic_value_true"):t+=le.getUI("logic_value_false"),m+1<n.columns&&(t+=", ");t+="}",f+1<n.rows&&(t+=", ")}t+="}";break;case ct.CHAR:t+="<- {";for(var v=0;v<n.rows;v++){t+="{";for(var h=0;h<n.columns;h++)t+="'"+n.value[v][h]+"'",h+1<n.columns&&(t+=", ");t+="}",v+1<n.rows&&(t+=", ")}t+="}"}else switch(n.type){case ct.INTEGER:t+="<- "+n.value;break;case ct.REAL:t+="<- "+parseFloat(n.value).toFixed(2);break;case ct.TEXT:t+='<- "'+n.value+'"';break;case ct.BOOLEAN:t+="<- ",n.value?t+=le.getUI("logic_value_true"):t+=le.getUI("logic_value_false");break;case ct.CHAR:t+="<- '"+n.value+"'"}return t}function qn(e,t,n,i,a,r,o){var s=o.itens.indexOf(t);switch(r.data("exp")){case Bt.exp_op_exp:var l=new Zt(Bt.exp_op_exp,[o.itens[s],Dt.plus,new un(ti.all,null,null,null,!0)]);o.itens[s]=l;break;case Bt.op_exp:l=new Zt(Bt.op_exp,[Dt.plus,o.itens[s]]),o.itens[s]=l;break;case Bt.par_exp_par:l=new Zt(Bt.par_exp_par,[o.itens[s]]),o.itens[s]=l}Xn(e,a,n)}function Xn(e,t,n){var i,a=n.find(".expression_elements");if(0==n.hasClass("command_container"))for(var r=n.parentsUntil(".command_container"),o=0;o<r.length;o++){if($(r[o]).hasClass("command_container")){i=$(r[o]);break}if($(r[o]).hasClass("expression_elements")){a=$(r[o]);break}}for(i&&(a=i.find(".expression_elements")),a.text(""),o=0;o<e.expression.length;o++){var s=$('<div class="expression_element"></div>');s.data("ref_element",e.expression[o]),s.data("ref_index",o),a.append(s),Yn(e,t,s,e.expression[o])}}function Wn(e,t,n,i,a){var r='<div class="ui dropdown"><div class="text">';switch(i.itens[a]){case Dt.plus:r+="+";break;case Dt.minus:r+="-";break;case Dt.multiplication:r+="*";break;case Dt.division:r+="/";break;case Dt.module:r+="%";break;case Dt.none:r+="..."}r+='</div><div class="menu">',r+='<div class="item" data-value="'+Dt.plus+'">+</div>',r+='<div class="item" data-value="'+Dt.minus+'">-</div>',r+='<div class="item" data-value="'+Dt.multiplication+'">*</div>',r+='<div class="item" data-value="'+Dt.division+'">/</div>',r+='<div class="item" data-value="'+Dt.module+'">%</div>',r+='<div class="item" data-value="'+Dt.none+'" data-text="...">Nenhum</div>',r+="</div></div>",r=$(r),n.append(r),r.dropdown({onChange:function(e,t,n){i.itens[a]=e}})}function Yn(e,t,n,i){switch(i.type_exp){case Bt.exp_op_exp:var a=$('<div class="component_element"></div>'),r=$('<div class="component_element"></div>'),o=$('<div class="component_element"></div>');n.append(r),n.append(a),n.append(o),i.itens[0].type?ni(e,i.itens[0],r,t,2,i):Yn(e,t,r,i.itens[0]),Wn(0,0,a,i,1),i.itens[2].type?ni(e,i.itens[2],o,t,2,i):Yn(e,t,o,i.itens[2]);break;case Bt.op_exp:a=$('<div class="component_element"></div>');var s=$('<div class="component_element"></div>');n.append(a),n.append(s),Wn(0,0,a,i,0),i.itens[1].type?ni(e,i.itens[1],s,t,2,i):Yn(e,t,s,i.itens[1]);break;case Bt.par_exp_par:var l=$('<div class="component_element"> ( </div>'),c=(s=$('<div class="component_element"></div>'),$('<div class="component_element"> ) </div>'));n.append(l),n.append(s);for(var u=0;u<i.itens.length;u++)i.itens[u].type?ni(e,i.itens[u],s,t,2,i):Yn(e,t,s,i.itens[u]);n.append(c)}}function Qn(e,t,n,i){var a=$('<div class="ui case_div"><i class="ui icon times red button_remove_command"></i><span>'+le.getUI("text_code_case")+'</span> <div class="ui variable_case"></div>: <div class="case_commands_block"></div></div>');if(ni(t,e.variable_value_menu,a.find(".variable_case"),n),a.data("switchcase",e),a.find(".case_commands_block").data("switchcase",e),i.append(a),e.commands_block)for(var r=0;r<e.commands_block.length;r++)vi(e.commands_block[r],$(a.find(".case_commands_block")[0]),3,n);a.find(".button_remove_command").on("click",(function(){for(var n=0;n<t.cases.length;n++)if(e==t.cases[n]){delete t.cases[n],t.cases.splice(n,1),a.remove();break}}))}function Jn(e,t,n,i){var a='<div class="ui dropdown menu_commands pause" ><button><i class="icon code"></i></button> <div class="menu"> ';e.type==Ft.repeatNtimes||e.type==Ft.whiletrue||e.type==Ft.dowhiletrue?a+='<a class="item" data-command="'+Ft.break+'"><i class="pause icon"></i> '+le.getUI("btn_break")+" </a>":(a+='<a class="item" data-command="'+Ft.break+'"><i class="pause icon"></i> '+le.getUI("btn_break")+" </a>",a+='<a class="item" data-command="'+Ft.switchcase+'"><i class="plus icon"></i> '+le.getUI("btn_case")+" </a>"),a+="</div></div>",a=$(a),t.append(a),function(e,t,n,i){t.find(".menu_commands").dropdown({on:"hover"}),t.find(".menu_commands a").on("click",(function(t){if(e.type==Ft.repeatNtimes||e.type==Ft.whiletrue||e.type==Ft.dowhiletrue)if(null==e.commands_block||0==e.commands_block.length){e.commands_block=[];var a=hi($(this).data("command"));e.commands_block.push(a),vi(a,i.find(".block_commands"),3,n)}else di(n,i.find(".block_commands"),$(this).data("command"),t);else switch($(this).data("command")){case Ft.break:di(n,i.find(".block_commands"),$(this).data("command"),t);break;case Ft.switchcase:!function(e,t,n,i){null==e.cases&&(e.cases=[]);var a=new ln(new un(ti.all,null,null,null,!0));e.cases.push(a),Qn(a,e,n,i.find(".all_cases_div"))}(e,0,n,i)}}))}(e,t,n,i),e.collapsed&&i.children(".ui.block_commands").toggle()}function Zn(e){if(e.expression3)e.expression3=null;else{var t=new Zt(Bt.exp_op_exp,[e.var_attribution,Dt.plus,new un(ti.all,"1",null,null,!0)]);e.expression3=t,e.var_incrementation=e.var_attribution}renderAlgorithm()}function ei(e,t,n,i,a){var r=$('<div class="ui dropdown"><div class="text"></div></div>');r.dropdown({values:[{name:"+",value:Dt.plus,selected:i.itens[a]==Dt.plus},{name:"-",value:Dt.minus,selected:i.itens[a]==Dt.minus}],onChange:function(e,t,n){i.itens[a]=e}}),n.append(r)}window.timer=!1,window.parentheses_activate=!1,window.open_or_close=null,window.open_parentheses=$('<div class="parentheses_ghost">(</div>'),window.close_parentheses=$('<div class="parentheses_ghost">)</div>'),window.inserir_open=-1,window.inserir_close=-1;var ti=Object.freeze({only_variable:1,only_value:2,only_function:3,variable_and_function:4,variable_and_value_opt:5,value_and_function:6,all:7});function ni(e,t,n,i){var a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:2,r=arguments.length>5?arguments[5]:void 0;if(t.function_called&&t.function_called.parameters_list)for(;t.function_called.parameters_list.length!=t.parameters_list.length;)t.parameters_list.length>t.function_called.parameters_list.length?t.parameters_list.pop():t.parameters_list.push(new un(ti.all,null,null,null,!0));var o=[];if(t.function_called&&t.function_called.parameters_list)for(var s=0;s<t.function_called.parameters_list.length;s++)t.function_called.parameters_list[s].reference?(o.push(s),t.parameters_list[s].reference=!0,t.parameters_list[s].variable_and_value=ti.only_variable,t.parameters_list[s].column&&(t.parameters_list[s].column.reference_parent=!0),t.parameters_list[s].row&&(t.parameters_list[s].row.reference_parent=!0)):(t.parameters_list[s].reference=!1,t.parameters_list[s].variable_and_value=ti.all,t.parameters_list[s].column&&(t.parameters_list[s].column.reference_parent=!1),t.parameters_list[s].row&&(t.parameters_list[s].row.reference_parent=!1)),t.parameters_list[s].reference_dimensions=t.function_called.parameters_list[s].dimensions;var l='<div class="ui dropdown menu_var_or_value_dom" data-varmenu="true"><div class="text"></div><i class="dropdown icon"></i><div class="menu">';if(t.variable_and_value==ti.only_variable&&(l='<div class="ui dropdown menu_var_or_value_dom" data-varmenu="true"><div class="text"></div><i class="dropdown icon"></i><div class="menu menu_only_vars">',l+="</div>"),t.variable_and_value!=ti.variable_and_function&&t.variable_and_value!=ti.variable_and_value_opt&&t.variable_and_value!=ti.all||(l+='<div class="item" data-option="'+ti.only_variable+'"><i class="dropdown icon"></i>'+le.getUI("variable"),l+='<div class="menu menu_only_vars">',l+="</div></div>"),t.variable_and_value==ti.only_value&&(l='<input type="text" class="width-dynamic" size="'+a+'" autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" />'),t.variable_and_value!=ti.variable_and_value_opt&&t.variable_and_value!=ti.value_and_function&&t.variable_and_value!=ti.all||(l+='<div class="item" data-option="'+ti.only_value+'">'+le.getUI("text_value")+"</div>"),t.variable_and_value==ti.only_function&&(l='<div class="ui dropdown menu_var_or_value_dom" data-varmenu="true"><div class="text"></div><i class="dropdown icon"></i><div class="menu menu_only_functions">',l+="</div>"),t.variable_and_value!=ti.variable_and_function&&t.variable_and_value!=ti.value_and_function&&t.variable_and_value!=ti.all||(l+='<div class="item" data-option="'+ti.only_function+'"><i class="dropdown icon"></i>'+le.getUI("btn_function"),l+='<div class="menu menu_only_functions">',l+="</div></div>"),l+="</div></div>",(l=$(l)).find(".width-dynamic").on("input",(function(){var e=$(this),t=e.textWidth()+10;t=t<50?50:t,e.css({width:t})})).trigger("input"),n.append(l),t.dom_object=l,function(e,t,n,i,a,r){t.variable_and_value!=ti.only_value&&i.dropdown({onChange:function(o,s,l){switch(n.find(".var_name").remove(),l.data("option")){case ti.only_function:!function(e,t,n,i,a,r,o){if(t.function_called=r,t.parameters_list=[],null!=r.parameters_list&&r.parameters_list.length>0){i.find(".text").text(" "),n.find(".menu_var_or_value_dom").remove(),u=r.name?'<div class="parameters_function_called"> '+r.name+" <span> ( </span>":'<div class="parameters_function_called"> <i>'+le.translateInternalFunction(r.identifier,r.category)+"</i> <span> ( </span>\n";for(var s=0;s<r.parameters_list.length;s++)u+='<div class="render_style_param parameter_'+s+'"></div>',s+1!=r.parameters_list.length&&(u+=" , ");for(u+="<span> ) </span></div>\n",u=$(u),n.append(u),s=0;s<r.parameters_list.length;s++){var l;l=r.parameters_list[s].dimensions>0?new un(ti.variable_and_function,null,null,null,!0,r.parameters_list[s].dimensions):new un(ti.all,null,null,null,!0),1==r.parameters_list[s].reference?(l.reference=!0,l.variable_and_value=ti.only_variable):(l.reference=!1,l.variable_and_value=ti.all),l.reference_dimensions=r.parameters_list[s].dimensions,t.parameters_list.push(l),ni(e,l,u.find(".parameter_"+s),a,2,o)}var c='<div class="ui dropdown context_menu_clear"><div class="text"></div><i class="dropdown icon"></i><div class="menu">';c+='<div class="item" data-clear="true">'+le.getUI("btn_clear")+"</div>",c+="</div></div>\n",(c=$(c)).insertAfter(n.find(".parameters_function_called")),c.dropdown({onChange:function(i,r,s){s.data("clear")&&(n.text(""),t.content=null,t.row=null,t.column=null,delete t.function_called,delete t.parameters_list,ni(e,t,n,a,2,o)),s.data("exp")&&qn(e,t,n,0,a,s,o)},selectOnKeydown:!1})}else{var u;i.find(".text").text(" "),n.find(".menu_var_or_value_dom").remove(),u=r.name?'<div class="parameters_function_called"> '+r.name+" <span> ( </span>":'<div class="parameters_function_called"> <i>'+le.translateInternalFunction(r.identifier,r.category)+"</i> <span> ( </span>",u+="<span> ) </span></div>",u=$(u),n.append(u),c='<div class="ui dropdown context_menu_clear"><div class="text"></div><i class="dropdown icon"></i><div class="menu">',c+='<div class="item" data-clear="true">'+le.getUI("btn_clear")+"</div>",c+="</div></div>",(c=$(c)).insertAfter(n.find(".parameters_function_called")),c.dropdown({onChange:function(i,r,s){s.data("clear")&&(n.text(""),t.content=null,t.row=null,t.column=null,delete t.function_called,delete t.parameters_list,ni(e,t,n,a,2,o)),s.data("exp")&&qn(e,t,n,0,a,s,o)},selectOnKeydown:!1})}}(e,t,n,i,a,$(l).data("function_reference"),r);break;case ti.only_value:si(e,t,n,i,a,r);break;case ti.only_variable:!function(e,t,n,i,a,r,o){t.content=r,i.find(".text").text(" "),n.find(".menu_var_or_value_dom").remove();var s='<div class="variable_rendered"> <span class="var_name">'+r.name+"</span>";if(1==r.dimensions&&1!=t.dimensions&&(s+=' <span>[ </span> <div class="column_container"></div> <span> ]</span>'),2==r.dimensions&&2!=t.dimensions&&(s+=' <span>[ </span> <div class="row_container"></div> <span> ]</span> ',s+=' <span>[ </span> <div class="column_container"></div> <span> ]</span>'),s+="</div>",s=$(s),n.append(s),1==r.dimensions&&1!=t.dimensions){var l=new un(ti.all,null,null,null,!0);t.reference&&(l.reference_parent=!0),t.column=l,ni(e,t.column,s.find(".column_container"),a,2,o)}2==r.dimensions&&2!=t.dimensions&&(l=new un(ti.all,null,null,null,!0),t.reference&&(l.reference_parent=!0),t.row=l,ni(e,t.row,s.find(".row_container"),a,2,o),l=new un(ti.all,null,null,null,!0),t.reference&&(l.reference_parent=!0),t.column=l,ni(e,t.column,s.find(".column_container"),a,2,o));var c='<div class="ui dropdown context_menu_clear"><div class="text"></div><i class="dropdown icon"></i><div class="menu">';c+='<div class="item" data-clear="true">'+le.getUI("btn_clear")+"</div>",c+="</div></div>",(c=$(c)).insertAfter(n.find(".variable_rendered")),c.dropdown({onChange:function(i,r,s){s.data("clear")&&(n.text(""),t.content=null,t.row=null,t.column=null,delete t.function_called,delete t.parameters_list,ni(e,t,n,a,2,o)),s.data("exp")&&qn(e,t,n,0,a,s,o),e.type==Ft.repeatNtimes&&function(e,t,n,i,a,r,o){n.hasClass("variable_attribution")&&($(n).parent().find(".text_receives").text(""),e.expression1=null,$(n).parent().find(".var_value_expression").empty()),n.hasClass("incrementation_variable")&&($(n).parent().find(".text_inc_receives").text(""),e.expression3=null,$(n).parent().find(".first_operand").empty(),$(n).parent().find(".operator").empty(),$(n).parent().find(".second_operand").empty())}(e,0,n)},selectOnKeydown:!1})}(e,t,n,i,a,$(l).data("variable_reference"),r)}l.data("exp")&&qn(e,t,n,0,a,l,r),e.type==Ft.repeatNtimes&&function(e,t,n,i,a,r,o){if(n.hasClass("variable_attribution")){if(!e.expression3){var s=new Zt(Bt.exp_op_exp,[e.var_attribution,Dt.plus,new un(ti.all,"1",null,null,!0)]);e.expression3=s,e.var_incrementation=e.var_attribution;var l=new en(e.var_attribution,new un(ti.all,null,null,null,!0),Vt.less_than);e.expression2.expression=l}n.parent().find(".text_receives").text("de"),e.expression1=new un(ti.all,"0",null,null,!0),n.parent().find(".var_value_expression").empty(),ni(e,e.expression1,n.parent().find(".var_value_expression"),a),renderAlgorithm()}n.hasClass("incrementation_variable")&&(n.parent().find(".text_inc_receives").text("de"),s=new Zt(Bt.exp_op_exp,[new un(ti.all,null,null,null,!0),Dt.plus,new un(ti.all,null,null,null,!0)]),e.expression3=s,ni(e,e.expression3.itens[0],n.parent().find(".first_operand"),a),ei(0,0,n.parent().find(".operator"),e.expression3,1),ni(e,e.expression3.itens[2],n.parent().find(".second_operand"),a))}(e,0,n,0,a)},selectOnKeydown:!1}),n.find(".width-dynamic").on("input",(function(){var e=$(this).textWidth()+10;$(this).focus();var t=$(this).val();$(this).val(""),$(this).val(t),$(this).css({width:e})})).trigger("input"),e.type==Ft.comment&&n.parent().on("click",(function(o){n.find(".value_rendered").remove(),n.find(".value_rendered").empty(),n.find(".value_rendered").remove(),n.empty(),n.append('<span class="menu_var_or_value_dom"> </span>'),si(e,t,n,i,a,r)}))}(e,t,n,l,i,r),function(e,t,n,i){var a=t.find(".menu_only_vars");a.text("");var r=!1;if(window.program_obj.globals)if(n.include_constant)for(var o=0;o<window.program_obj.globals.length;o++)(s=$('<div class="item" data-option="'+ti.only_variable+'">'+window.program_obj.globals[o].name+" </div>")).data("variable_reference",window.program_obj.globals[o]),a.append(s),r=!0;else for(o=0;o<window.program_obj.globals.length;o++)window.program_obj.globals[o].is_constant||((s=$('<div class="item" data-option="'+ti.only_variable+'">'+window.program_obj.globals[o].name+" </div>")).data("variable_reference",window.program_obj.globals[o]),a.append(s),r=!0);if(e.parameters_list)for(o=0;o<e.parameters_list.length;o++)(s=$('<div class="item" data-option="'+ti.only_variable+'">'+e.parameters_list[o].name+" </div>")).data("variable_reference",e.parameters_list[o]),a.append(s),r=!0;if(e.variables_list)for(o=0;o<e.variables_list.length;o++){var s;(s=$('<div class="item" data-option="'+ti.only_variable+'">'+e.variables_list[o].name+" </div>")).data("variable_reference",e.variables_list[o]),a.append(s),r=!0}r||(a.append($('<div class="header">'+le.getUI("text_no_variable")+"</div>")),a.append($('<div class="item disabled">'+le.getUI("text_no_variable_instruction")+"</div>")))}(i,l,t),function(e,t,n,i){var a=t.find(".menu_only_functions");a.text("");for(var r=0;r<window.program_obj.functions.length;r++){var o=$('<div class="item" data-option="'+ti.only_function+'">'+window.program_obj.functions[r].name+" </div>");o.data("function_reference",window.program_obj.functions[r]),a.append(o)}}(0,l),function(e,t,n,i){var a=t.find(".menu_only_functions");a.append('<div class="divider"></div><div class="header">'+le.getUI("text_header_ivprog_functions")+"</div>"),a.append('<div class="item"><i class="dropdown icon"></i>'+le.getUI("text_menu_functions_math")+'<div class="menu menu_math_functions"></div></div>'),a.append('<div class="item"><i class="dropdown icon"></i>'+le.getUI("text_menu_functions_text")+'<div class="menu menu_text_functions"></div></div>'),a.append('<div class="item"><i class="dropdown icon"></i>'+le.getUI("text_menu_functions_array")+'<div class="menu menu_arrangement_functions"></div></div>'),a.append('<div class="item"><i class="dropdown icon"></i>'+le.getUI("text_menu_functions_conversion")+'<div class="menu menu_conversion_functions"></div></div>');for(var r=0;r<window.system_functions.length;r++){var o=$('<div class="item"></div>');switch(o.data("function_reference",window.system_functions[r]),o.data("option",ti.only_function),o.text(le.translateInternalFunction(window.system_functions[r].identifier)),window.system_functions[r].category){case Kt.math:a.find(".menu_math_functions").append(o);break;case Kt.text:a.find(".menu_text_functions").append(o);break;case Kt.arrangement:a.find(".menu_arrangement_functions").append(o);break;case Kt.conversion:a.find(".menu_conversion_functions").append(o)}}}(0,l),t.content||0==t.content||t.function_called){if(t.content||0==t.content){var c=ai(t.content,i);c?(t.content=c,ri(i,l,t,n,e,r)):(t.content||0==t.content)&&t.content.type?(t.content=null,ii(t,l)):ri(i,l,t,n,e,r)}else if(t.function_called){var u=function(e){if(e.name){if(window.program_obj.functions){for(var t=0;t<window.program_obj.functions.length;t++)if(window.program_obj.functions[t]==e)return window.program_obj.functions[t];for(t=0;t<window.program_obj.functions.length;t++)if(window.program_obj.functions[t].name==e.name)return window.program_obj.functions[t]}}else if(e.identifier)for(t=0;t<window.system_functions.length;t++)if(window.system_functions[t].identifier==e.identifier)return window.system_functions[t];return null}(t.function_called);u?(t.function_called=u,ri(i,l,t,n,e,r)):(t.content=null,t.row=null,t.column=null,delete t.function_called,delete t.parameters_list,ii(t,l))}}else ii(t,l)}function ii(e,t){switch(e.variable_and_value){case ti.only_variable:t.find(".text").append("<i>"+le.getUI("var_menu_select_var")+"</i>");break;case ti.all:case ti.variable_and_function:t.find(".text").append("<i>"+le.getUI("var_menu_select_all")+"</i>");break;case ti.only_function:t.find(".text").append("<i>"+le.getUI("var_menu_select_function")+"</i>")}}function ai(e,t){if(t.variables_list)for(var n=0;n<t.variables_list.length;n++)if(t.variables_list[n]==e)return t.variables_list[n];if(t.parameters_list)for(n=0;n<t.parameters_list.length;n++)if(t.parameters_list[n]==e)return t.parameters_list[n];if(window.program_obj.globals)for(n=0;n<window.program_obj.globals.length;n++)if(window.program_obj.globals[n]==e)return window.program_obj.globals[n];if(e){if(t.variables_list)for(n=0;n<t.variables_list.length;n++)if(t.variables_list[n].name==e.name)return t.variables_list[n];if(t.parameters_list)for(n=0;n<t.parameters_list.length;n++)if(t.parameters_list[n].name==e.name)return t.parameters_list[n];if(window.program_obj.globals)for(n=0;n<window.program_obj.globals.length;n++)if(window.program_obj.globals[n].name==e.name)return window.program_obj.globals[n]}return null}function ri(e,t,n,i,a,r){n.function_called?(t.remove(),oi(a,n,i,e,t,r)):(n.content.type,t.remove(),oi(a,n,i,e,t,r))}function oi(e,t,n,i,a,r){if(t.content||t.function_called){var o=ai(t.content,i);o?t.content=o:t.content&&t.content.type&&(t.content=null,ii(t,a))}else ii(t,a);if(null!=t.content||null!=t.function_called)if(t.function_called)if(null==t.function_called.parameters_list||0==t.function_called.length){a.find(".text").text(" "),n.find(".menu_var_or_value_dom").remove(),l=t.function_called.name?'<div class="parameters_function_called"> '+t.function_called.name+" <span> ( </span>":'<div class="parameters_function_called"> <i>'+le.translateInternalFunction(t.function_called.identifier,t.function_called.category)+"</i> <span> ( </span>",l+="<span> ) </span></div>",l=$(l),n.append(l);var s='<div class="ui dropdown context_menu_clear"><div class="text"></div><i class="dropdown icon"></i><div class="menu">';s+='<div class="item" data-clear="true">'+le.getUI("btn_clear")+"</div>",s+="</div></div>",(s=$(s)).insertAfter(n.find(".parameters_function_called")),s.dropdown({onChange:function(a,o,s){s.data("clear")&&(n.text(""),t.content=null,t.row=null,t.column=null,delete t.function_called,delete t.parameters_list,ni(e,t,n,i,2,r)),s.data("exp")&&qn(e,t,n,0,i,s,r)},selectOnKeydown:!1})}else{var l;a.find(".text").text(" "),n.find(".menu_var_or_value_dom").remove(),l=t.function_called.name?'<div class="parameters_function_called"> '+t.function_called.name+" <span> ( </span>":'<div class="parameters_function_called"> <i>'+le.translateInternalFunction(t.function_called.identifier,t.function_called.category)+"</i> <span> ( </span>";for(var c=0;c<t.function_called.parameters_list.length;c++)l+='<div class="render_style_param parameter_'+c+'"></div>',c+1!=t.function_called.parameters_list.length&&(l+=" , ");l+="<span> ) </span></div>",l=$(l),n.append(l);for(var u=0;u<t.function_called.parameters_list.length;u++)ni(e,t.parameters_list[u],l.find(".parameter_"+u),i,2,r);var d='<div class="ui dropdown context_menu_clear"><div class="text"></div><i class="dropdown icon"></i><div class="menu">';d+='<div class="item" data-clear="true">'+le.getUI("btn_clear")+"</div>",d+="</div></div>",(d=$(d)).insertAfter(l),d.dropdown({onChange:function(a,o,s){s.data("clear")&&(n.text(""),t.content=null,t.row=null,t.column=null,delete t.function_called,delete t.parameters_list,ni(e,t,n,i,2,r)),s.data("exp")&&qn(e,t,n,0,i,s,r)},selectOnKeydown:!1})}else if(t.content.type){var p="";if(1==t.content.dimensions&&1!=t.dimensions){p='<div class="variable_rendered"> <span class="var_name">'+t.content.name+"</span>",t.reference_dimensions>=1?p+="":p+=' <span>[ </span> <div class="column_container"></div> <span> ]</span>',p+="</div>",p=$(p),n.append(p);var _='<div class="ui dropdown context_menu_clear"><div class="text"></div><i class="dropdown icon"></i><div class="menu">';if(_+='<div class="item" data-clear="true">'+le.getUI("btn_clear")+"</div>",_+="</div></div>",_=$(_),p.append(_),_.dropdown({onChange:function(a,o,s){s.data("clear")&&(n.text(""),t.content=null,t.row=null,t.column=null,delete t.function_called,delete t.parameters_list,ni(e,t,n,i,2,r)),s.data("exp")&&qn(e,t,n,0,i,s,r)},selectOnKeydown:!1}),!t.column){var f=new un(ti.all,null,null,null,!0);t.reference&&(f.reference_parent=!0),t.column=f}oi(e,t.column,$(p.find(".column_container")),i,a,r)}else if(2==t.content.dimensions&&2!=t.dimensions){p='<div class="variable_rendered"> <span class="var_name">'+t.content.name+"</span>",p+=' <span>[ </span> <div class="row_container"></div> <span> ]</span>',0==t.reference_dimensions&&(p+=' <span>[ </span> <div class="column_container"></div> <span> ] </span>'),p+="</div>",p=$(p),n.append(p);var m='<div class="ui dropdown context_menu_clear"><div class="text"></div><i class="dropdown icon"></i><div class="menu">';m+='<div class="item" data-clear="true">'+le.getUI("btn_clear")+"</div>",m+="</div></div>",m=$(m),p.append(m),m.dropdown({onChange:function(a,o,s){s.data("clear")&&(n.text(""),t.content=null,t.row=null,t.column=null,delete t.function_called,delete t.parameters_list,ni(e,t,n,i,2,r)),s.data("exp")&&qn(e,t,n,0,i,s,r)},selectOnKeydown:!1}),t.column||(f=new un(ti.all,null,null,null,!0),t.reference&&(f.reference_parent=!0),t.column=f),t.row||(f=new un(ti.all,null,null,null,!0),t.reference&&(f.reference_parent=!0),t.row=f),oi(e,t.row,$(p.find(".row_container")),i,a,r),1==t.reference_dimensions?t.column=null:oi(e,t.column,$(p.find(".column_container")),i,a,r)}else{p='<div class="variable_rendered"> <span class="var_name">'+t.content.name+"</span>",p+="</div>",p=$(p),n.append(p);var v='<div class="ui dropdown context_menu_clear"><div class="text"></div><i class="dropdown icon"></i><div class="menu">';v+='<div class="item" data-clear="true">'+le.getUI("btn_clear")+"</div>",v+="</div></div>",v=$(v),p.append(v),v.dropdown({onChange:function(a,o,s){s.data("clear")&&(n.text(""),t.content=null,t.row=null,t.column=null,delete t.function_called,delete t.parameters_list,ni(e,t,n,i,2,r)),s.data("exp")&&qn(e,t,n,0,i,s,r)},selectOnKeydown:!1})}}else{var h;h='<div class="variable_rendered"> <span class="var_name">',isNaN(t.content)?h+=t.content.split(" ").join("&nbsp;"):h+=t.content,h+="</span>",h+="</div>",h=$(h),n.append(h),s='<div class="ui dropdown context_menu_clear"><div class="text"></div><i class="dropdown icon"></i><div class="menu">',s+='<div class="item" data-clear="true">'+le.getUI("btn_clear")+"</div>",s+="</div></div>",s=$(s),t.variable_and_value!=ti.only_value&&s.insertAfter(h),s.dropdown({onChange:function(a,o,s){s.data("clear")&&(n.text(""),t.content=null,t.row=null,t.column=null,delete t.function_called,delete t.parameters_list,n.find(".value_rendered").remove(),n.find(".context_menu_clear").remove(),n.find(".width-dynamic-minus").remove(),ni(e,t,n,i,2,r)),s.data("exp")&&qn(e,t,n,0,i,s,r)},selectOnKeydown:!1}),h.on("click",(function(o){h.remove(),h.empty(),h.remove(),n.empty(),n.append('<span class="menu_var_or_value_dom"> </span>'),si(e,t,n,a,i,r)}))}else ni(e,t,n,i,2,r)}function si(e,t,n,i,a,r){null==t.content&&(t.content=""),i.find(".text").text(" ");var o=$('<input type="text" size="2" class="width-dynamic-minus" autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" />');o.insertBefore(n.find(".menu_var_or_value_dom")),o.on("input",(function(){var e=$(this),t=e.textWidth()+10;t=t<50?50:t,e.css({width:t})})).trigger("input");var s=$('<div class="value_rendered"></div>');s.insertBefore(o),o.focus(),o.val(t.content);var l='<div class="ui dropdown context_menu_clear"><div class="text"></div><i class="dropdown icon"></i><div class="menu">';l+='<div class="item" data-clear="true">'+le.getUI("btn_clear")+"</div>",l+="</div></div>",l=$(l),n.find(".menu_var_or_value_dom").remove(),t.variable_and_value!=ti.only_value&&l.insertAfter(o),l.dropdown({onChange:function(i,o,s){s.data("clear")&&(n.text(""),n.find(".value_rendered").remove(),n.find(".context_menu_clear").remove(),n.find(".width-dynamic-minus").remove(),t.content=null,t.row=null,t.column=null,delete t.function_called,delete t.parameters_list,ni(e,t,n,a,2,r)),s.data("exp")&&qn(e,t,n,0,a,s,r)},selectOnKeydown:!1}),n.find(".width-dynamic-minus").focusout((function(){t.content=$(this).val(),isNaN(t.content)?s.html(t.content.split(" ").join("&nbsp;")):s.text(t.content),$(this).remove()})),n.find(".width-dynamic-minus").on("keydown",(function(e){var n=e.keyCode||e.which;13==n&&(t.content=$(this).val(),isNaN(t.content)?s.html(t.content.split(" ").join("&nbsp;")):s.text(t.content),$(this).remove()),27==n&&(isNaN(t.content)?s.html(t.content.split(" ").join("&nbsp;")):s.text(t.content),$(this).remove())})),e.type,Ft.comment,s.on("click",(function(o){s.empty(),s.remove(),n.empty(),n.append('<span class="menu_var_or_value_dom"> </span>'),si(e,t,n,i,a,r)}))}function li(e,t){var n='<div class="ui writer command_container"><i class="ui icon small upload command_drag"></i><i class="ui icon times red button_remove_command"></i><span class="span_command_spec">'+le.getUI("text_command_write")+'(</span><div class="all_elements_write"></div> <span class="textual_expression"></span><span class="close_parentheses span_command_spec">)</span><img data-state="'+(e.newline?"on":"false")+'" src="'+(e.newline?"img/new_line.svg":"img/no_new_line.svg")+'" class="ivprog_newline_btn"/><i class="ui icon i cursor button_write_expression" style="margin-left: 3rem !important; margin-right: -1.1rem !important;"></i><i class="ui icon unlock button_alternate_expression"></i></div>\n',i=$(n);if(i.data("command",e),kn(e,t,i.find(".all_elements_write"),e.content),function(e,t,n){$(n.find(".textual_expression")[0]).toggle(),n.find(".button_write_expression").on("click",(function(){var i;window.expressionEdition=!0,window.inputExpression=null;var a=$(n.find(".button_alternate_expression")[0]),r=$(this);i=n.find(".all_elements_write"),e.lockexpression&&(i=n.find(".textual_expression"));var o="";if(e.content)if(1!=e.content.length||null!=e.content[0].content||e.content[0].function_called)try{o=Kn(e.content)}catch(e){o=""}else o="";var s=$('<i class="ui icon check circle expression-edit-confirm"></i>'),l=$('<i class="ui icon undo expression-edit-cancel"></i>'),c=$('<input type="text" spellcheck="false" autocomplete="off" class="input-expression-field" >');c.val(o),c.focusout((function(e){return s.click(),e.preventDefault(),!0})),c.keyup((function(e){27==e.keyCode&&l.click(),13==e.keyCode&&s.click()})),s.click((function(){var n;(n=Un(c.val(),t,c))&&(window.expressionEdition=!1,e.content=n,renderAlgorithm())})),l.mousedown((function(n){var i=Un(o,t,c);i&&(window.expressionEdition=!1,e.content=i,renderAlgorithm())})),c.insertAfter(i),c.focus(),l.insertAfter(c),s.insertAfter(c);var u=o.length;c[0].setSelectionRange(u,u),i.css("display","none"),a.css("display","none"),r.css("display","none"),s.popup({content:le.getUI("text_edit_expression_confirm"),delay:{show:750,hide:0}}),l.popup({content:le.getUI("text_edit_expression_cancel"),delay:{show:750,hide:0}})})),n.find(".button_alternate_expression").on("click",(function(){if(e.content){var t=Kn(e.content);t&&($(n.find(".all_elements_write")[0]).toggle(),$(n.find(".textual_expression")[0]).text(t),$(n.find(".textual_expression")[0]).toggle(),$(this).toggleClass("unlock").toggleClass("lock"),e.lockexpression=!e.lockexpression),e.lockexpression?n.find(".lock").popup({content:le.getUI("text_unlock_expression"),delay:{show:750,hide:0}}):n.find(".unlock").popup({content:le.getUI("text_lock_expression"),delay:{show:750,hide:0}})}})),n.find(".button_remove_command").on("click",(function(){ui(e,t,n)&&n.fadeOut(400,(function(){n.remove()}))})),Sortable.create(n.find(".all_elements_write")[0],{handle:".ellipsis",animation:100,ghostClass:"ghost",group:"writer_"+Math.floor(1e7*Math.random()),draggable:".div_parent_handler",onEnd:function(i){e.content.splice(i.newIndex,0,e.content.splice(i.oldIndex,1)[0]),n.empty(),n.replaceWith(li(e,t))}});var i=n.find(".ivprog_newline_btn");i.on("click",(function(){"on"===this.dataset.state?(this.dataset.state="off",e.newline=!1,this.setAttribute("src","img/no_new_line.svg")):(this.dataset.state="on",e.newline=!0,this.setAttribute("src","img/new_line.svg")),n.data("command",e),ci(i,e.newline)})),ci(i,e.newline)}(e,t,i),e.content&&e.lockexpression)try{var a=Kn(e.content);a&&($(i.find(".all_elements_write")[0]).toggle(),$(i.find(".textual_expression")[0]).text(a),$(i.find(".textual_expression")[0]).toggle(),$(i.find(".button_alternate_expression")[0]).toggleClass("unlock").toggleClass("lock"))}catch(t){e.lockexpression=!1}return i.find(".unlock").popup({content:le.getUI("text_lock_expression"),delay:{show:750,hide:0}}),i.find(".lock").popup({content:le.getUI("text_unlock_expression"),delay:{show:750,hide:0}}),i.find(".button_write_expression").popup({content:le.getUI("text_edit_expression"),delay:{show:750,hide:0}}),i}function ci(e,t){e.popup("exists")&&e.popup("destroy");var n=t?le.getUI("write_command_newline_on"):le.getUI("write_command_newline_off");e.popup({content:n,delay:{show:750,hide:0}})}function ui(e,t,n){if(ht(t.name,mt.REMOVE_COMMAND,e.type,"/",0),t.commands.indexOf(e)>-1)return t.commands.splice(t.commands.indexOf(e),1),!0;try{if(n.parent().parent().data("command").commands_block.indexOf(e)>-1)return n.parent().parent().data("command").commands_block.splice(n.parent().parent().data("command").commands_block.indexOf(e),1),!0}catch(e){}try{if(n.parent().parent().data("command").type==Ft.iftrue&&n.parent().parent().data("command").commands_else.indexOf(e)>-1)return n.parent().parent().data("command").commands_else.splice(n.parent().parent().data("command").commands_else.indexOf(e),1),!0}catch(e){}return!!n.parent().data("switchcase")&&(n.parent().data("switchcase").commands_block.splice(n.parent().data("switchcase").commands_block.indexOf(e),1),!0)}function di(e,t,n,i){var a,r;switch(n){case Ft.break:a=$('<div class="ui comment created_element"> <i class="ui icon small pause"></i> <span> '+le.getUI("text_break")+" </span></div>");break;case Ft.comment:a=$('<div class="ui comment created_element"> <i class="ui icon small quote left"></i> <span class="span_comment_text" "> '+le.getUI("text_comment")+" </span></div>");break;case Ft.reader:a=$('<div class="ui reader created_element"> <i class="ui icon small download"></i> <span> '+le.getUI("text_command_read")+" var </span></div>");break;case Ft.writer:r=le.getUI("text_command_write"),a=$('<div class="ui writer created_element"> <i class="ui icon small upload"></i> <span> '+r+" var </span></div>");break;case Ft.attribution:a=$('<div class="ui attribution created_element"> <i class="ui icon small arrow left"></i> <span> x <&#8212; 1 + 1 </span></div>');break;case Ft.iftrue:a=$('<div class="ui iftrue created_element"> <i class="ui icon small random"></i> <span> if (x < 1) { } </span></div>');break;case Ft.repeatNtimes:a=$('<div class="ui repeatNtimes created_element"> <i class="ui icon small sync"></i> <span> repita_para i de 0 ate 10 passo 1 <br> </span></div>');break;case Ft.whiletrue:a=$('<div class="ui whiletrue created_element"> <i class="ui icon small sync"></i> <span> '+le.getUI("text_command_while")+" ( x < 10 ) <br> </span></div>");break;case Ft.dowhiletrue:a=$('<div class="ui dowhiletrue created_element"> <i class="ui icon small sync"></i> <span> '+le.getUI("text_command_do")+" <br> "+le.getUI("text_command_do_until")+"(x < 10) </span></div>");break;case Ft.switch:a=$('<div class="ui switch created_element"> <i class="ui icon small random"></i> <span> '+le.getUI("text_code_switch")+" ( x ) { <br> "+le.getUI("text_code_case")+" 1: <br> "+le.getUI("text_code_case")+" 2: <br> } </span></div>");break;case Ft.functioncall:a=$('<div class="ui functioncall created_element"> <i class="hand point right icon"></i> <span> funcao() </span></div>');break;case Ft.return:a=$('<div class="ui return created_element"> <i class="ui icon small reply"></i> <span> '+le.getUI("text_return")+" </span></div>")}a.draggable().appendTo("body"),$("body").mouseup((function(i){!function(e,t,n,i){$(".created_element").each((function(e){$(this).remove()}));var a=$(document.elementFromPoint(n.clientX,n.clientY));a.hasClass("ghost_div")&&a.closest(".command_container").length<1&&(a.closest(".commands_list_div").css("height",a.closest(".commands_list_div").css("height")+30),a=a.closest(".commands_list_div"));var r=a.parentsUntil(".all_functions"),o=!1,s=!1;a.hasClass("commands_list_div")&&(s=!0);for(var l=0;l<r.length;l++){var c=$(r[l]);if(c.hasClass("commands_list_div")&&(s=!0),c.data("fun")==e){o=!0;break}}if(o)if(s){var u=null;if(void 0!==a.data("fun"))if(null==a.data("fun").commands||0==a.data("fun").commands.length){a.data("fun").commands=[];var d=hi(i);ht(e.name,mt.INSERT_COMMAND,i,"/",0),a.data("fun").commands.push(d),vi(d,$(t).find(".commands_list_div"),3,e)}else!function(e,t,n,i,a){for(var r,o=$(n).find("div.command_container"),s=999999999,l=null,c=0;c<o.length;c++)r=o[c].getBoundingClientRect().top,o[c].getBoundingClientRect().top,o[c].getBoundingClientRect().height,r-t.clientY<s&&(s=t.clientY-r,l=o[c]);if(l.parentNode.getBoundingClientRect().top+l.parentNode.getBoundingClientRect().height-t.clientY<s){var u=hi(a);i.commands.push(u),vi(u,n,3,i),ht(i.name,mt.INSERT_COMMAND,a,"/",i.commands.length-1)}else{u=hi(a);var d=i.commands.indexOf($(l).data("command"));d>-1&&i.commands.splice(d,0,u),vi(u,l,1,i),ht(i.name,mt.INSERT_COMMAND,a,"/",d)}}(0,n,$(t).find(".commands_list_div"),e,i);else{var p=a.parentsUntil(".commands_list_div");for(u=[],void 0!==a.data("command")&&u.push(a.data("command")),l=0;l<p.length;l++)void 0!==$(p[l]).data("command")&&u.push($(p[l]).data("command"));var _=!1;if(i==Ft.break){for(l=0;l<u.length;l++)if(u[l].type==Ft.repeatNtimes||u[l].type==Ft.whiletrue||u[l].type==Ft.dowhiletrue||u[l].type==Ft.switch){_=!0;break}if(!_)return void console.error("Context not allowed to insert BREAK COMMAND!")}if(1==u.length){var f=!1;for(l=0;l<p.length;l++)if(void 0!==$(p[l]).data("command")){Ei(p[l],n,e,i),f=!0;break}f||Ei(a[0],n,e,i)}else if(void 0!==$(a).data("command"))xi(a[0],n,e,i);else for(f=!1,l=0;l<p.length;l++)if(void 0!==$(p[l]).data("command")){xi(p[l],n,e,i),f=!0;break}}if(u){l=u.length-1;var m=window.program_obj.functions[window.program_obj.functions.indexOf(e)].commands.indexOf(u[l]),v=m+"-"+function(e,t,n){for(var i="",a=0;a<=t.length;a++)i+=yi(t[a],t[a+1])+"-";return i}(0,u);ht(e.name,mt.INSERT_COMMAND,i,"/",v)}renderAlgorithm()}else gi(n);else gi(n)}(e,t,i,n),$("body").off("mouseup"),$("body").off("mouseover")})),(!t.hasClass("function_div")||t.length<1)&&(window.mouse_event=i,t=$(i.originalEvent.srcElement.closest(".function_div"))),function_container_active=t,t.find(".commands_list_div").on("mousemove",(function(e){mi(e)})),t.find(".commands_list_div").find("*").on("mousemove",(function(e){mi(e)})),t.on("mouseout",(function(e){$(document.elementFromPoint(e.clientX,e.clientY)).closest(".commands_list_div").length<1&&window.ghostDiv.remove()})),a.css("position","absolute"),i.type="mousedown.draggable",i.target=a[0],a.css("left",i.pageX-window.divx),a.css("top",i.pageY),a.trigger(i)}function pi(e,t){$(".ghost_div").remove();var n=e.closest(".command_container");if(n.hasClass("switch")&&(n=$(t.target).closest(".case_div")),n.hasClass("dowhiletrue")||n.hasClass("iftrue")||n.hasClass("repeatNtimes")||n.hasClass("case_div")||n.hasClass("whiletrue"))if(null!=window.active_container&&(window.active_container.is(n)||n.length<1&&(n=e.closest(".commands_list_div"),window.active_container.is(n)||(window.active_container=n))),window.active_container=n,n.hasClass("iftrue")){var i=n.find(".commands_if").get(0),a=n.find(".commands_else").get(0),r=Math.abs(t.clientY-i.getBoundingClientRect().top),o=(Math.abs(i.getBoundingClientRect().top+i.getBoundingClientRect().height-t.clientY),Math.abs(t.clientY-a.getBoundingClientRect().top)),s=Math.abs(a.getBoundingClientRect().top+a.getBoundingClientRect().height-t.clientY);r<o&&r<s?$(i).append(window.ghostDiv):$(a).append(window.ghostDiv)}else n.hasClass("case_div")?n.find(".case_commands_block").append(window.ghostDiv):n.find(".block_commands").append(window.ghostDiv);else _i(e,t)}function _i(e,t){$(".ghost_div").remove();var n,i=e.closest(".dowhiletrue, .iftrue, .repeatNtimes, .case_div, .whiletrue");if(i.length<1&&(i=e.closest(".commands_list_div"),window.active_container=i,fi(e,t)),window.active_container=i,i.hasClass("iftrue"))if($(t.target).closest(".data_block_if").length>0)n=i.find(".commands_if").children(".command_container");else if($(t.target).closest(".data_block_else").length>0)n=i.find(".commands_else").children(".command_container");else{var a=i.find(".commands_if").get(0),r=i.find(".commands_else").get(0),o=Math.abs(t.clientY-a.getBoundingClientRect().top),s=(Math.abs(a.getBoundingClientRect().top+a.getBoundingClientRect().height-t.clientY),Math.abs(t.clientY-r.getBoundingClientRect().top)),l=Math.abs(r.getBoundingClientRect().top+r.getBoundingClientRect().height-t.clientY);n=o<s&&o<l?$(a).children(".command_container"):$(r).children(".command_container")}else n=i.hasClass("case_div")?i.children(".case_commands_block").children(".command_container"):i.hasClass("commands_list_div")?i.children(".command_container"):i.children(".block_commands").children(".command_container");for(var c=[],u=[],d=0;d<n.length;d++){var p=Math.abs(t.clientY-n.get(d).getBoundingClientRect().top);c.push(p);var _=Math.abs(n.get(d).getBoundingClientRect().top+n.get(d).getBoundingClientRect().height-t.clientY);u.push(_)}var f=Math.min.apply(null,c),m=c.indexOf(f),v=Math.min.apply(null,u),h=u.indexOf(v);f<v?window.ghostDiv.insertBefore($(n.get(m))):window.ghostDiv.insertAfter($(n.get(h)))}function fi(e,t){$(".ghost_div").remove();for(var n=e.closest(".commands_list_div").children(".command_container"),i=[],a=[],r=0;r<n.length;r++){var o=Math.abs(t.clientY-n.get(r).getBoundingClientRect().top);i.push(o);var s=Math.abs(n.get(r).getBoundingClientRect().top+n.get(r).getBoundingClientRect().height-t.clientY);a.push(s)}var l=Math.min.apply(null,i),c=i.indexOf(l),u=Math.min.apply(null,a),d=a.indexOf(u);l<u?window.ghostDiv.insertBefore($(n.get(c))):window.ghostDiv.insertAfter($(n.get(d)))}function mi(e){var t=$(e.target);t.hasClass("ghost_div")||(t.hasClass("commands_list_div")?fi(t,e):t.hasClass("block_commands")?t.find(".command_container").length>0?_i(t,e):pi(t,e):t.hasClass("case_div")?t.find(".case_commands_block").find(".command_container").length>0?_i(t,e):pi(t,e):_i(t,e))}function vi(e,t,n,i){var a;switch(e.type){case Ft.comment:a=function(e,t){var n=$('<div class="ui comment command_container"> <i class="ui icon small quote left command_drag"></i> <i class="ui icon times red button_remove_command"></i> <div class="var_value_menu_div"></div> <div class="div_comment_text"></div> </div>');return n.data("command",e),function(e,t,n){n.find(".button_remove_command").on("click",(function(){ui(e,t,n)&&n.fadeOut(400,(function(){n.remove()}))}))}(e,t,n),function(e,t,n){ni(e,e.comment_text,n.find(".var_value_menu_div"),t,20)}(e,t,n),n}(e,i);break;case Ft.break:a=function(e,t){var n=$('<div class="ui comment command_container"> <i class="ui icon small pause"></i> <i class="ui icon times red button_remove_command"></i> <span>'+le.getUI("text_break")+"</span> </div>");return n.data("command",e),function(e,t,n){n.find(".button_remove_command").on("click",(function(){ui(e,t,n)&&n.fadeOut(400,(function(){n.remove()}))}))}(e,t,n),n}(e,i);break;case Ft.reader:a=function(e,t){var n='<div class="ui reader command_container"> <i class="ui icon small download command_drag"></i> <i class="ui icon times red button_remove_command"></i> <span class="span_command_spec">'+le.getUI("text_command_read")+' ( </span> <div class="var_value_menu_div"></div> <span class="close_parentheses span_command_spec">)</span> </div>';return(n=$(n)).data("command",e),ni(e,e.variable_value_menu,n.find(".var_value_menu_div"),t),function(e,t,n){n.find(".button_remove_command").on("click",(function(){ui(e,t,n)&&n.fadeOut(400,(function(){n.remove()}))}))}(e,t,n),n}(e,i);break;case Ft.writer:a=li(e,i);break;case Ft.attribution:a=function(e,t){var n=$('<div class="ui attribution command_container"><i class="ui icon small arrow left command_drag"></i> <i class="ui icon times red button_remove_command"></i> <div class="var_attributed"></div> <span class="text_attr_receives span_command_spec">'+le.getUI("text_receives")+'</span> <div class="expression_elements"></div>  <span class="textual_expression"></span> <i class="ui icon i cursor button_write_expression"></i> <i class="ui icon unlock button_alternate_expression"></i> </div>');if(n.data("command",e),ni(e,e.variable,n.find(".var_attributed"),t),!e.expression||e.expression.length<1){var i=new un(ti.all,null,null,null,!0);e.expression.push(i)}if(function(e,t,n){n.find(".button_write_expression").on("click",(function(){var i;window.expressionEdition=!0,window.inputExpression=null;var a=$(n.find(".button_alternate_expression")[0]),r=$(this);i=n.find(".expression_elements"),e.lockexpression&&(i=n.find(".textual_expression"));var o="";if(e.expression)if(1!=e.expression.length||null!=e.expression[0].content||e.expression[0].function_called)try{o=Kn(e.expression)}catch(e){o=""}else o="";var s=$('<i class="ui icon check circle expression-edit-confirm"></i>'),l=$('<i class="ui icon undo expression-edit-cancel"></i>'),c=$('<input type="text" spellcheck="false" autocomplete="off" class="input-expression-field" >');c.val(o),c.focusout((function(e){return console.log("focosout event!"),s.click(),e.preventDefault(),!0})),c.keyup((function(e){27==e.keyCode&&l.click(),13==e.keyCode&&s.click()})),s.click((function(){var n;(n=Un(c.val(),t,c))&&(window.expressionEdition=!1,e.expression=n,Mt())})),l.mousedown((function(n){var i=Un(o,t,c);i&&(window.expressionEdition=!1,e.expression=i,Mt())})),c.insertAfter(i),c.focus(),l.insertAfter(c),s.insertAfter(c);var u=o.length;c[0].setSelectionRange(u,u),i.css("display","none"),a.css("display","none"),r.css("display","none"),s.popup({content:le.getUI("text_edit_expression_confirm"),delay:{show:750,hide:0}}),l.popup({content:le.getUI("text_edit_expression_cancel"),delay:{show:750,hide:0}})})),$(n.find(".textual_expression")[0]).toggle(),n.find(".button_alternate_expression").on("click",(function(){if(e.expression){var t=Kn(e.expression);t&&($(n.find(".expression_elements")[0]).toggle(),$(n.find(".textual_expression")[0]).text(t),$(n.find(".textual_expression")[0]).toggle(),$(this).toggleClass("unlock").toggleClass("lock"),e.lockexpression=!e.lockexpression),e.lockexpression?n.find(".lock").popup({content:le.getUI("text_unlock_expression"),delay:{show:750,hide:0}}):n.find(".unlock").popup({content:le.getUI("text_lock_expression"),delay:{show:750,hide:0}})}})),n.find(".button_remove_command").on("click",(function(){ui(e,t,n)&&n.fadeOut(400,(function(){n.remove()}))})),n.find(".button_refresh_attribution").on("click",(function(){Xn(e,t,n)}))}(e,t,n),kn(e,t,n.find(".expression_elements"),e.expression),e.lockexpression&&e.expression)try{var a=Kn(e.expression);a&&($(n.find(".expression_elements")[0]).toggle(),$(n.find(".textual_expression")[0]).text(a),$(n.find(".textual_expression")[0]).toggle(),$(n.find(".button_alternate_expression")[0]).toggleClass("unlock").toggleClass("lock"))}catch(t){e.lockexpression=!1}return n.find(".unlock").popup({content:le.getUI("text_lock_expression"),delay:{show:750,hide:0}}),n.find(".lock").popup({content:le.getUI("text_unlock_expression"),delay:{show:750,hide:0}}),n.find(".button_write_expression").popup({content:le.getUI("text_edit_expression"),delay:{show:750,hide:0}}),n}(e,i);break;case Ft.functioncall:a=function(e,t){var n=$('<div class="ui functioncall command_container"> <i class="hand point right icon command_drag"></i> <i class="ui icon times red button_remove_command"></i> <div class="var_value_menu_div"></div> </div>');return n.data("command",e),ni(e,e.function_called,n.find(".var_value_menu_div"),t),function(e,t,n){n.find(".button_remove_command").on("click",(function(){ui(e,t,n)&&n.fadeOut(400,(function(){n.remove()}))}))}(e,t,n),n}(e,i);break;case Ft.iftrue:a=function(e,t){var n="";n+='<div class="ui iftrue command_container"><div class="ui data_block_if" data-if="true">  <i class="ui icon small random command_drag"></i> <i class="ui icon times red button_remove_command"></i> <button class="ui icon button minimize_block_button tiny"><i class="icon window minimize"></i></button>',n+='<span class="span_command_spec"> '+le.getUI("text_if")+"</span>",n+=' <span class="span_command_spec"> ( </span> <div class="conditional_expression"></div> <span class="textual_expression"></span> <span class="span_command_spec"> ) </span> ',n+='  <i class="ui icon i cursor button_write_expression" style="margin-right: 1rem !important;"></i>  ',n+='<i class="ui icon unlock button_alternate_expression"></i>',n+="<span> </span> ",n+='<div class="ui block_commands commands_if conditional_comands_block" data-if="true">',n+="</div></div>",n+='<div class="ui data_block_else" data-else="true"> <span class="span_command_spec"> '+le.getUI("text_else")+" </span>",n+='<div class="ui block_commands commands_else conditional_comands_block" data-else="true">',n+="</div>",n+="<span></span></div>",n+="</div>";var i=$(n);if(i.data("command",e),i.find(".block_commands").data("command",e),i.find(".data_block_if").data("command",e),i.find(".data_block_else").data("command",e),i.find(".commands_if").data("command",e),function(e,t,n){n.find(".button_write_expression").on("click",(function(){var i;window.expressionEdition=!0,window.inputExpression=null;var a=$(n.find(".button_alternate_expression")[0]),r=$(this);i=$(n.find(".conditional_expression")[0]),e.lockexpression&&(i=$(n.find(".textual_expression")[0]));var o="";if(e.expression)if(1!=e.expression.length||null!=e.expression[0].content||e.expression[0].function_called)try{o=Kn(e.expression)}catch(e){o=""}else o="";var s=$('<i class="ui icon check circle expression-edit-confirm"></i>'),l=$('<i class="ui icon undo expression-edit-cancel"></i>'),c=$('<input type="text" spellcheck="false" autocomplete="off" class="input-expression-field" >');c.val(o),c.focusout((function(e){return s.click(),e.preventDefault(),!0})),c.keyup((function(e){27==e.keyCode&&l.click(),13==e.keyCode&&s.click()})),s.click((function(){var n;(n=Un(c.val(),t,c))&&(window.expressionEdition=!1,e.expression=n,renderAlgorithm())})),l.mousedown((function(n){var i=Un(o,t,c);i&&(window.expressionEdition=!1,e.expression=i,renderAlgorithm())})),c.insertAfter(i),c.focus(),l.insertAfter(c),s.insertAfter(c);var u=o.length;c[0].setSelectionRange(u,u),i.css("display","none"),a.css("display","none"),r.css("display","none"),s.popup({content:le.getUI("text_edit_expression_confirm"),delay:{show:750,hide:0}}),l.popup({content:le.getUI("text_edit_expression_cancel"),delay:{show:750,hide:0}})})),$(n.find(".textual_expression")[0]).toggle(),n.find(".button_alternate_expression").on("click",(function(){if(e.expression){var t=Kn(e.expression);t&&($(n.find(".conditional_expression")[0]).toggle(),$(n.find(".textual_expression")[0]).text(t),$(n.find(".textual_expression")[0]).toggle(),$(this).toggleClass("unlock").toggleClass("lock"),e.lockexpression=!e.lockexpression)}e.lockexpression?n.find(".lock").popup({content:le.getUI("text_unlock_expression"),delay:{show:750,hide:0}}):n.find(".unlock").popup({content:le.getUI("text_lock_expression"),delay:{show:750,hide:0}})})),n.find(".button_remove_command").on("click",(function(){ui(e,t,n)&&n.fadeOut(400,(function(){n.remove()}))})),n.find(".minimize_block_button").on("click",(function(){n.children(".data_block_else").toggle(),$(n.find(".block_commands")[0]).toggle(),e.collapsed=!e.collapsed}))}(e,t,i),kn(e,t,i.find(".conditional_expression"),e.expression),e.commands_block)for(var a=0;a<e.commands_block.length;a++)vi(e.commands_block[a],$(i.find(".commands_if")[0]),3,t);if(e.commands_else)for(a=0;a<e.commands_else.length;a++)vi(e.commands_else[a],$(i.find(".commands_else")[0]),3,t);if(e.collapsed&&(i.children(".data_block_else").toggle(),$(i.find(".block_commands")[0]).toggle()),e.lockexpression&&e.expression)try{var r=Kn(e.expression);r&&($(i.find(".conditional_expression")[0]).toggle(),$(i.find(".textual_expression")[0]).text(r),$(i.find(".textual_expression")[0]).toggle(),$(i.find(".button_alternate_expression")[0]).toggleClass("unlock").toggleClass("lock"))}catch(t){e.lockexpression=!1}return i.find(".unlock").popup({content:le.getUI("text_lock_expression"),delay:{show:750,hide:0}}),i.find(".lock").popup({content:le.getUI("text_unlock_expression"),delay:{show:750,hide:0}}),i.find(".button_write_expression").popup({content:le.getUI("text_edit_expression"),delay:{show:750,hide:0}}),i}(e,i);break;case Ft.repeatNtimes:a=function(e,t){var n='<div class="ui repeatNtimes command_container"> \n\t\t<i class="ui icon small sync command_drag"></i>\n\t\t<i class="ui icon times red button_remove_command"></i>\n\t\t<button class="ui icon button minimize_block_button tiny"><i class="icon window minimize"></i></button>\n\t\t<span class="span_command_spec"> '.concat(le.getUI("text_for"),'\n\t\t</span>  <div class="ui attribution_expression">\n\t\t<div class="ui variable_attribution"></div>\n\t\t<span class="text_receives span_command_spec" style="margin-left: 10px;margin-right: 20px;"></span>\n\t\t<div class="ui var_value_expression div_expression_st"></div>\n\t\t</div>\n\t\t<span class="span_command_spec separator_character" style="margin-left: 25px; margin-right: 15px;">\n\t\t').concat(le.getUI("text_for_to"),' </span>\n\t\t<div class="conditional_expression"></div> <div class="pass_button"></div> \n\t\t<div class="ui incrementation_field"><span class="text_inc_receives span_command_spec"></span>\n\t\t<div class="ui first_operand"></div><div class="ui operator"></div>\n\t\t<div class="ui second_operand"></div></div>  <span class="span_command_spec"> </span>\n\t\t<span class="textual_expression"></span> <i class="ui icon unlock button_alternate_expression"></i>\n\t\t<div class="ui context_menu"></div>');n+='<div class="ui block_commands">',n+="</div>",n+="<span> </span>",n+="</div>";var i=$(n);if(i.data("command",e),i.find(".block_commands").data("command",e),function(e,t,n){n.find(".minimize_block_button").on("click",(function(t){n.children(".ui.block_commands").toggle(),e.collapsed=!e.collapsed})),$(n.find(".textual_expression")[0]).toggle(),n.find(".button_alternate_expression").on("click",(function(){var t=Pn(e);t&&($(n.find(".textual_expression")[0]).html(t),$(n.find(".textual_expression")[0]).toggle(),$(n.find(".attribution_expression")[0]).toggle(),$(n.find(".span_command_spec.separator_character")[0]).toggle(),$(n.find(".conditional_expression")[0]).toggle(),$(n.find(".pass_button")[0]).toggle(),$(n.find(".incrementation_field")[0]).toggle(),$(n.find(".button_alternate_expression")[0]).toggleClass("unlock").toggleClass("lock"),e.lockexpression=!e.lockexpression),e.lockexpression?n.find(".lock").popup({content:le.getUI("text_unlock_expression"),delay:{show:750,hide:0}}):n.find(".unlock").popup({content:le.getUI("text_lock_expression"),delay:{show:750,hide:0}})})),n.find(".button_remove_command").on("click",(function(){ui(e,t,n)&&n.fadeOut(400,(function(){n.remove()}))}))}(e,t,i),Jn(e,i.find(".context_menu"),t,i),ni(e,e.var_attribution,i.find(".variable_attribution"),t),ni(e,e.expression2,i.find(".conditional_expression"),t),e.expression1||(e.expression1=new un(ti.all,"0",null,null,!0)),i.find(".text_receives").text(le.getUI("text_for_from")),ni(e,e.expression1,i.find(".var_value_expression"),t),e.expression3?(i.find(".pass_button").html('<button class="ui">'+le.getUI("text_for_pass")+'<i class="ui icon angle double left"></i></button>'),i.find(".pass_button").find("button").on("click",(function(){Zn(e)})),ei(0,0,i.find(".operator"),e.expression3,1),ni(e,e.expression3.itens[2],i.find(".second_operand"),t)):(i.find(".pass_button").html('<button class="ui">'+le.getUI("text_for_pass")+'<i class="ui icon angle double right"></i></button>'),i.find(".pass_button").find("button").on("click",(function(){Zn(e)}))),e.commands_block)for(var a=0;a<e.commands_block.length;a++)vi(e.commands_block[a],$(i.find(".block_commands")[0]),3,t);if(e.lockexpression)try{var r=Pn(e);r&&($(i.find(".textual_expression")[0]).html(r),$(i.find(".textual_expression")[0]).toggle(),$(i.find(".attribution_expression")[0]).toggle(),$(i.find(".span_command_spec.separator_character")[0]).toggle(),$(i.find(".conditional_expression")[0]).toggle(),$(i.find(".pass_button")[0]).toggle(),$(i.find(".incrementation_field")[0]).toggle(),$(i.find(".button_alternate_expression")[0]).toggleClass("unlock").toggleClass("lock"))}catch(t){e.lockexpression=!1}return i.find(".unlock").popup({content:le.getUI("text_lock_expression"),delay:{show:750,hide:0}}),i.find(".lock").popup({content:le.getUI("text_unlock_expression"),delay:{show:750,hide:0}}),i}(e,i);break;case Ft.whiletrue:a=function(e,t){var n="";n+='<div class="ui whiletrue command_container"> <i class="ui icon small sync command_drag"></i> <i class="ui icon times red button_remove_command"></i><button class="ui icon button minimize_block_button tiny"><i class="icon window minimize"></i></button> <span class="span_command_spec"> '+le.getUI("text_command_while")+" </span>",n+='<span class="span_command_spec"> ( </span> <div class="conditional_expression"></div> <span class="textual_expression"></span> <span class="span_command_spec"> ) </span>',n+=" </span>",n+=' <i class="ui icon i cursor button_write_expression" style="margin-right: 1rem !important;"></i>  <i class="ui icon unlock button_alternate_expression"></i> <div class="ui context_menu"></div>',n+='<div class="ui block_commands">',n+="</div>",n+="<span> </span>",n+="</div>";var i=$(n);if(i.data("command",e),i.find(".block_commands").data("command",e),function(e,t,n){n.find(".button_write_expression").on("click",(function(){var i;window.expressionEdition=!0,window.inputExpression=null;var a=$(n.find(".button_alternate_expression")[0]),r=$(this);i=$(n.find(".conditional_expression")[0]),e.lockexpression&&(i=$(n.find(".textual_expression")[0]));var o="";if(e.expression)if(1!=e.expression.length||null!=e.expression[0].content||e.expression[0].function_called)try{o=Kn(e.expression)}catch(e){o=""}else o="";var s=$('<i class="ui icon check circle expression-edit-confirm"></i>'),l=$('<i class="ui icon undo expression-edit-cancel"></i>'),c=$('<input type="text" spellcheck="false" autocomplete="off" class="input-expression-field" >');c.val(o),c.focusout((function(e){return console.log("focosout event!"),s.click(),e.preventDefault(),!0})),c.keyup((function(e){27==e.keyCode&&l.click(),13==e.keyCode&&s.click()})),s.click((function(){var n;(n=Un(c.val(),t,c))&&(window.expressionEdition=!1,e.expression=n,renderAlgorithm())})),l.mousedown((function(n){var i=Un(o,t,c);i&&(window.expressionEdition=!1,e.expression=i,renderAlgorithm())})),c.insertAfter(i),c.focus(),l.insertAfter(c),s.insertAfter(c);var u=o.length;c[0].setSelectionRange(u,u),i.css("display","none"),a.css("display","none"),r.css("display","none"),s.popup({content:le.getUI("text_edit_expression_confirm"),delay:{show:750,hide:0}}),l.popup({content:le.getUI("text_edit_expression_cancel"),delay:{show:750,hide:0}})})),n.find(".minimize_block_button").on("click",(function(t){n.children(".ui.block_commands").toggle(),e.collapsed=!e.collapsed})),$(n.find(".textual_expression")[0]).toggle(),n.find(".button_alternate_expression").on("click",(function(){if(e.expression){var t=Kn(e.expression);t&&($(n.find(".conditional_expression")[0]).toggle(),$(n.find(".textual_expression")[0]).text(t),$(n.find(".textual_expression")[0]).toggle(),$(this).toggleClass("unlock").toggleClass("lock"),e.lockexpression=!e.lockexpression)}e.lockexpression?n.find(".lock").popup({content:le.getUI("text_unlock_expression"),delay:{show:750,hide:0}}):n.find(".unlock").popup({content:le.getUI("text_lock_expression"),delay:{show:750,hide:0}})})),n.find(".button_remove_command").on("click",(function(){ui(e,t,n)&&n.fadeOut(400,(function(){n.remove()}))}))}(e,t,i),Jn(e,i.find(".context_menu"),t,i),kn(e,t,i.find(".conditional_expression"),e.expression),e.commands_block)for(var a=0;a<e.commands_block.length;a++)vi(e.commands_block[a],$(i.find(".block_commands")[0]),3,t);if(e.lockexpression&&e.expression)try{var r=Kn(e.expression);r&&($(i.find(".conditional_expression")[0]).toggle(),$(i.find(".textual_expression")[0]).text(r),$(i.find(".textual_expression")[0]).toggle(),$(i.find(".button_alternate_expression")[0]).toggleClass("unlock").toggleClass("lock"))}catch(t){e.lockexpression=!1}return i.find(".unlock").popup({content:le.getUI("text_lock_expression"),delay:{show:750,hide:0}}),i.find(".lock").popup({content:le.getUI("text_unlock_expression"),delay:{show:750,hide:0}}),i.find(".button_write_expression").popup({content:le.getUI("text_edit_expression"),delay:{show:750,hide:0}}),i}(e,i);break;case Ft.dowhiletrue:a=function(e,t){var n="";n+='<div class="ui dowhiletrue command_container"> <i class="ui icon small sync command_drag"></i> <i class="ui icon times red button_remove_command"></i> <button class="ui icon button minimize_block_button tiny"><i class="icon window minimize"></i></button> <span class="span_command_spec"> '+le.getUI("text_command_do")+" </span>",n+='<div class="ui block_commands" data-subblock="" data-idcommand="">',n+="</div>",n+=' <span class="span_command_spec"> '+le.getUI("text_command_do_until")+' </span> <span class="span_command_spec"> ( </span> <div class="conditional_expression"></div> <span class="textual_expression"></span> <span class="span_command_spec"> ) </span>',n+='  <i class="ui icon i cursor button_write_expression" style="display: inline !important;"></i> <i class="ui icon unlock button_alternate_expression" style="margin-left: 1rem !important;"></i> <div class="ui context_menu"></div> ',n+="</div>";var i=$(n);if(i.data("command",e),i.find(".block_commands").data("command",e),function(e,t,n){n.find(".button_write_expression").on("click",(function(){var i;window.expressionEdition=!0,window.inputExpression=null;var a=$(n.find(".button_write_expression")[n.find(".button_write_expression").length-1]),r=$(this);i=$(n.find(".conditional_expression")[n.find(".conditional_expression").length-1]),e.lockexpression&&(i=$(n.find(".textual_expression")[n.find(".textual_expression").length-1]));var o="";if(e.expression)if(1!=e.expression.length||null!=e.expression[0].content||e.expression[0].function_called)try{o=Kn(e.expression)}catch(e){o=""}else o="";var s=$('<i class="ui icon check circle expression-edit-confirm"></i>'),l=$('<i class="ui icon undo expression-edit-cancel"></i>'),c=$('<input type="text" spellcheck="false" autocomplete="off" class="input-expression-field" >');c.val(o),c.focusout((function(e){return s.click(),e.preventDefault(),!0})),c.keyup((function(e){27==e.keyCode&&l.click(),13==e.keyCode&&s.click()})),s.click((function(){var n;(n=Un(c.val(),t,c))&&(window.expressionEdition=!1,e.expression=n,renderAlgorithm())})),l.mousedown((function(n){var i=Un(o,t,c);i&&(window.expressionEdition=!1,e.expression=i,renderAlgorithm())})),c.insertAfter(i),c.focus(),l.insertAfter(c),s.insertAfter(c);var u=o.length;c[0].setSelectionRange(u,u),i.css("display","none"),a.css("display","none"),r.css("display","none"),s.popup({content:le.getUI("text_edit_expression_confirm"),delay:{show:750,hide:0}}),l.popup({content:le.getUI("text_edit_expression_cancel"),delay:{show:750,hide:0}})})),n.find(".minimize_block_button").on("click",(function(t){n.children(".ui.block_commands").toggle(),e.collapsed=!e.collapsed})),$(n.find(".textual_expression")[0]).toggle(),n.find(".button_alternate_expression").on("click",(function(){if(e.expression){var t=Kn(e.expression);t&&($(n.find(".conditional_expression")[n.find(".conditional_expression").length-1]).toggle(),$(n.find(".textual_expression")[n.find(".textual_expression").length-1]).text(t),$(n.find(".textual_expression")[n.find(".textual_expression").length-1]).toggle(),$(this).toggleClass("unlock").toggleClass("lock"),e.lockexpression=!e.lockexpression)}e.lockexpression?n.find(".lock").popup({content:le.getUI("text_unlock_expression"),delay:{show:750,hide:0}}):n.find(".unlock").popup({content:le.getUI("text_lock_expression"),delay:{show:750,hide:0}})})),n.find(".button_remove_command").on("click",(function(){ui(e,t,n)&&n.fadeOut(400,(function(){n.remove()}))}))}(e,t,i),Jn(e,i.find(".context_menu"),t,i),e.expression&&kn(e,t,i.find(".conditional_expression"),e.expression),e.commands_block)for(var a=0;a<e.commands_block.length;a++)vi(e.commands_block[a],$(i.find(".block_commands")[0]),3,t);if(e.lockexpression&&e.expression)try{var r=Kn(e.expression);r&&($(i.find(".conditional_expression")[i.find(".conditional_expression").length-1]).toggle(),$(i.find(".textual_expression")[i.find(".textual_expression").length-1]).text(r),$(i.find(".textual_expression")[i.find(".textual_expression").length-1]).toggle(),$(i.find(".button_alternate_expression")[i.find(".button_alternate_expression").length-1]).toggleClass("unlock").toggleClass("lock"))}catch(t){e.lockexpression=!1}return i.find(".unlock").popup({content:le.getUI("text_lock_expression"),delay:{show:750,hide:0}}),i.find(".lock").popup({content:le.getUI("text_unlock_expression"),delay:{show:750,hide:0}}),i.find(".button_write_expression").popup({content:le.getUI("text_edit_expression"),delay:{show:750,hide:0}}),i}(e,i);break;case Ft.switch:a=function(e,t){var n="";n+='<div class="ui switch command_container"> <i class="ui icon small random command_drag" ></i> <i class="ui icon times red button_remove_command"></i> <span> '+le.getUI("text_code_switch")+' ( <div class="ui variable_to_switch"></div> ) <div class="ui context_menu"></div> <div class="ui all_cases_div"></div></span>',n+="</div>";var i=$(n);if(i.data("command",e),function(e,t,n){n.find(".button_remove_command").on("click",(function(){ui(e,t,n)&&n.fadeOut(400,(function(){n.remove()}))}))}(e,t,i),Jn(e,i.find(".context_menu"),t,i),ni(e,e.variable,i.find(".variable_to_switch"),t),e.cases)for(var a=0;a<e.cases.length;a++)Qn(e.cases[a],e,t,i.find(".all_cases_div"));return i}(e,i);break;case Ft.return:a=function(e,t){var n=$('<div class="ui return command_container"> <i class="ui icon small reply command_drag"></i> <i class="ui icon times red button_remove_command"></i> <span class="span_command_spec"> '+le.getUI("text_return")+' </span>  <div class="expression_elements"></div><span class="textual_expression" style="display: none; margin-left: 1rem;"></span></div>');if(n.data("command",e),t.return_type!=ct.VOID){if(e.variable_value_menu||(e.variable_value_menu=[new un(ti.all,null,null,null,!0)]),kn(e,t,n.find(".expression_elements"),e.variable_value_menu),n.append($('<i class="ui icon unlock button_alternate_expression" style="margin-left: 1rem;"></i>')),e.lockexpression&&e.variable_value_menu)try{var i=Kn(e.variable_value_menu);i&&($(n.find(".expression_elements")[0]).toggle(),$(n.find(".textual_expression")[0]).text(i),$(n.find(".textual_expression")[0]).toggle(),$(n.find(".button_alternate_expression")[0]).toggleClass("unlock").toggleClass("lock"))}catch(t){e.lockexpression=!1}}else n.find(".expression_elements").remove(),e.variable_value_menu=null;return function(e,t,n){n.find(".button_alternate_expression").on("click",(function(){if(e.variable_value_menu){var t=Kn(e.variable_value_menu);t&&($(n.find(".expression_elements")[0]).toggle(),$(n.find(".textual_expression")[0]).text(t),$(n.find(".textual_expression")[0]).toggle(),$(this).toggleClass("unlock").toggleClass("lock"),e.lockexpression=!e.lockexpression)}})),n.find(".button_remove_command").on("click",(function(){ui(e,t,n)&&n.fadeOut(400,(function(){n.remove()}))}))}(e,t,n),n}(e,i)}switch(n){case 1:a.insertBefore(t);break;case 2:a.insertAfter(t);break;case 3:t.append(a)}}function hi(e){switch(e){case Ft.break:return new Xt;case Ft.comment:return new qt(new un(ti.only_value,le.getUI("text_comment"),null,null,!1));case Ft.reader:return new Wt(new un(ti.only_variable,null,null,null,!1));case Ft.writer:return new Yt([new un(ti.all,null,null,null,!0)]);case Ft.attribution:return new Qt(new un(ti.only_variable,null,null,null,!1),[]);case Ft.functioncall:return new cn(new un(ti.only_function,null,null,null,!1),null);case Ft.iftrue:return new tn([new un(ti.all,null,null,null,!0)]);case Ft.repeatNtimes:return new nn(new un(ti.only_variable,null,null,null,!1),new un(ti.only_variable,null,null,null,!1),null,new un(ti.all,null,null,null,!0),null,null);case Ft.whiletrue:return new an([new un(ti.all,null,null,null,!0)],null);case Ft.dowhiletrue:return new rn([new un(ti.all,null,null,null,!0)],null);case Ft.switch:var t=[new ln(new un(ti.all,null,null,null,!0))];return new on(new un(ti.variable_and_function,null,null,null,!0),t);case Ft.return:return new sn([new un(ti.all,null,null,null,!0)])}}function gi(e){$(".ghost_div").remove();var t=$('<i class="ui icon trash alternate outline"></i>');$("body").append(t),t.css("position","absolute"),t.css("top",e.clientY),t.css("left",e.clientX-20),t.css("font-size","3em"),t.css("display","none"),function_container_active.find(".commands_list_div").off("mousemove"),function_container_active.find(".commands_list_div").find("*").off("mousemove"),t.fadeIn(200,(function(){t.fadeOut(200,(function(){t.remove()}))}))}function yi(e,t){if(!e||!t)return"";if(e.type==Ft.repeatNtimes||e.type==Ft.whiletrue||e.type==Ft.dowhiletrue)return e.commands_block?""+e.commands_block.indexOf(t):"0";if(e.type==Ft.iftrue)return null==e.commands_block&&(e.commands_block=[]),null==e.commands_else&&(e.commands_else=[]),e.commands_block.indexOf(t)>=0?"if["+e.commands_block.indexOf(t)+"]":"else["+e.commands_else.indexOf(t)+"]";if(e.type==Ft.switch)for(var n=0;n<e.cases.length;n++)if(e.cases[n].commands_block.indexOf(t)>=0)return"case["+e.cases[n].commands_block.indexOf(t)+"]"}function xi(e,t,n,i,a,r){var o=$(e),s=o.data("command");if(o.data("command").type==Ft.repeatNtimes||o.data("command").type==Ft.whiletrue||o.data("command").type==Ft.dowhiletrue||o.data("command").type==Ft.switch)if(o.data("command").type==Ft.repeatNtimes||o.data("command").type==Ft.whiletrue||o.data("command").type==Ft.dowhiletrue)if(null==s.commands_block||0==s.commands_block.length){s.commands_block=[];var l=hi(i);s.commands_block.push(l),ht(n.name,mt.INSERT_COMMAND,i,"/"+o.data("command").type,0),vi(l,o.find(".block_commands"),3,n)}else!function(e,t,n,i,a,r){for(var o,s=$(n).find("div.command_container"),l=999999999,c=null,u=0;u<s.length;u++)o=s[u].getBoundingClientRect().top,s[u].getBoundingClientRect().top,s[u].getBoundingClientRect().height,o-t.clientY<l&&(l=t.clientY-o,c=s[u]);if(c.parentNode.getBoundingClientRect().top+c.parentNode.getBoundingClientRect().height-t.clientY<l){var d=hi(a);r.commands_block.push(d),vi(d,n,3,i)}else{d=hi(a);var p=r.commands_block.indexOf($(c).data("command"));p>-1&&r.commands_block.splice(p,0,d),vi(d,c,1,i)}}(0,t,e,n,i,s);else bi(t,n,i);else!function(e,t,n,i){var a,r,o=$(e),s=$(e.parentNode.parentNode).data("command"),l=o.data("command"),c=$(e.parentNode.parentNode),u=!1;if(!s){s=o.data("command"),c=o;for(var d=o.parentsUntil(".command_container"),p=0;p<d.length;p++)void 0!==(_=$(d[p])).data("else")&&(u=!0),void 0!==_.data("command")&&(s=_.data("command"),c=_)}for(d=o.parentsUntil(".command_container"),p=0;p<d.length;p++)void 0!==(_=$(d[p])).data("else")&&(u=!0);if(s==l)for(d=o.parentsUntil(".command_container"),p=0;p<d.length;p++)if(void 0!==(_=$(d[p])).data("else")){u=!0;break}if(s.type!=Ft.iftrue&&s.type!=Ft.switch)for(d=c.parentsUntil(".all_cases_div"),p=0;p<d.length;p++){var _;if(void 0!==(_=$(d[p])).data("switchcase")){s=_.data("switchcase"),u=!1;break}}if(r=e.getBoundingClientRect().top,a=e.getBoundingClientRect().top+e.getBoundingClientRect().height,t.clientY-r<a-t.clientY){var f=hi(i);if(u){if(s==l)return void(null==s.commands_else||0==s.commands_else.length?(s.commands_else=[],f=hi(i),s.commands_else.push(f),vi(f,o,3,n)):wi(o,t,n,i,!0));(m=s.commands_else.indexOf(l))>-1&&s.commands_else.splice(m,0,f),vi(f,e,1,n)}else{if(s==l)return void(null==s.commands_block||0==s.commands_block.length?(s.commands_block=[],f=hi(i),s.commands_block.push(f),vi(f,o,3,n)):wi(o,t,n,i));(m=s.commands_block.indexOf(l))>-1&&s.commands_block.splice(m,0,f),vi(f,e,1,n)}}else if(f=hi(i),u){if(s==l)return void(null==s.commands_else||0==s.commands_else.length?(s.commands_else=[],f=hi(i),s.commands_else.push(f),vi(f,o,3,n)):wi(o,t,n,i,!0));(m=s.commands_else.indexOf(l))>-1&&s.commands_else.splice(m+1,0,f),vi(f,e,2,n)}else{if(s==l)return void(null==s.commands_block||0==s.commands_block.length?(s.commands_block=[],f=hi(i),s.commands_block.push(f),vi(f,o,3,n)):wi(o,t,n,i));var m;(m=s.commands_block.indexOf(l))>-1&&s.commands_block.splice(m+1,0,f),vi(f,e,2,n)}}(e,t,n,i)}function bi(e,t,n){var i=$(document.elementFromPoint(e.clientX,e.clientY)),a=i.data("switchcase"),r=i;if(!a)for(var o=i.parentsUntil(".all_cases_div"),s=0;s<o.length;s++)if(void 0!==$(o[s]).data("switchcase")){a=$(o[s]).data("switchcase"),r=$(o[s]);break}if(null==a.commands_block||a.commands_block.length<1){a.commands_block=[];var l=hi(n);a.commands_block.push(l),vi(l,r.find(".case_commands_block"),3,t)}else!function(e,t,n,i,a){for(var r,o=t.find("div.command_container"),s=999999999,l=null,c=0;c<o.length;c++)r=o[c].getBoundingClientRect().top,o[c].getBoundingClientRect().top,o[c].getBoundingClientRect().height,r-n.clientY<s&&(s=n.clientY-r,l=o[c]);if(l.parentNode.getBoundingClientRect().top+l.parentNode.getBoundingClientRect().height-n.clientY<s){var u=hi(a);e.commands_block.push(u),vi(u,$(t.find(".case_commands_block")[0]),3,i)}else{u=hi(a);var d=e.commands_block.indexOf($(l).data("command"));d>-1&&(e.commands_block.splice(d,0,u),vi(u,l,1,i))}}(a,r,e,t,n)}function wi(e,t,n,i){for(var a,r=arguments.length>4&&void 0!==arguments[4]&&arguments[4],o=$(e),s=o.find("div.command_container"),l=999999999,c=null,u=0;u<s.length;u++)a=s[u].getBoundingClientRect().top,s[u].getBoundingClientRect().top,s[u].getBoundingClientRect().height,a-t.clientY<l&&(l=t.clientY-a,c=s[u]);if(c.parentNode.getBoundingClientRect().top+c.parentNode.getBoundingClientRect().height-t.clientY<l){var d=hi(i),p=o.data("command");r?(p.commands_else.push(d),vi(d,o,3,n)):(p.commands_block.push(d),vi(d,$(o.find(".block_commands")[0]),3,n))}else{var _;d=hi(i),p=o.data("command"),r?(_=p.commands_else.indexOf($(c).data("command")))>-1&&(p.commands_else.splice(_,0,d),vi(d,c,1,n)):(_=p.commands_block.indexOf($(c).data("command")))>-1&&(p.commands_block.splice(_,0,d),vi(d,c,1,n))}}function Ei(e,t,n,i){switch($(e).data("command").type){case Ft.iftrue:case Ft.switch:case Ft.repeatNtimes:case Ft.whiletrue:case Ft.dowhiletrue:return void function(e,t,n,i){var a=$(e),r=a.data("command");if(a.data("command").type==Ft.repeatNtimes||a.data("command").type==Ft.whiletrue||a.data("command").type==Ft.dowhiletrue)if(null==r.commands_block||0==r.commands_block.length){r.commands_block=[];var o=hi(i);r.commands_block.push(o),vi(o,a.find(".block_commands"),3,n)}else wi(e,t,n,i);else if(a.data("command").type==Ft.iftrue){var s=$(document.elementFromPoint(t.pageX,t.pageY)),l=!0;if(s.data("if"))l=!0;else if(s.data("else"))l=!1;else for(var c=s.parentsUntil(".command_container"),u=0;u<c.length;u++){var d=$(c[u]);if(void 0!==d.data("if")){l=!0;break}if(void 0!==d.data("else")){l=!1;break}}l?null==r.commands_block||0==r.commands_block.length?(r.commands_block=[],o=hi(i),r.commands_block.push(o),vi(o,a.find(".commands_if"),3,n)):wi(a.find(".commands_if"),t,n,i):null==r.commands_else||0==r.commands_else.length?(r.commands_else=[],o=hi(i),r.commands_else.push(o),vi(o,a.find(".commands_else"),3,n)):wi(a.find(".commands_else"),t,n,i,!0)}else bi(t,n,i)}(e,t,n,i)}var a,r;if(r=e.getBoundingClientRect().top,a=e.getBoundingClientRect().top+e.getBoundingClientRect().height,t.clientY-r<a-t.clientY){var o=hi(i);(s=n.commands.indexOf($(e).data("command")))>-1&&n.commands.splice(s,0,o),vi(o,e,1,n),ht(n.name,mt.INSERT_COMMAND,i,"/",s)}else{var s;o=hi(i),(s=n.commands.indexOf($(e).data("command")))>-1&&n.commands.splice(s+1,0,o),vi(o,e,2,n),ht(n.name,mt.INSERT_COMMAND,i,"/",s)}}$.fn.textWidth=function(e,t){return $.fn.textWidth.fakeEl||($.fn.textWidth.fakeEl=$("<span>").hide().appendTo(document.body)),$.fn.textWidth.fakeEl.text(e||this.val()||this.text()||this.attr("placeholder")).css("font",t||this.css("font")),$.fn.textWidth.fakeEl.width()},window.function_container_active=null,window.divx=100,window.ghostDiv=$('<div class="ghost_div">'),window.active_container=null;var Ti=function(){function e(){o()(this,e)}return l()(e,[{key:"requestInput",value:function(){throw new Error("Must be implemented")}},{key:"cancelPendingInputRequests",value:function(){throw new Error("Must be implemented")}}]),e}();var ki=function(e){u()(a,e);var t,n,i=(t=a,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,i=f()(t);if(n){var a=f()(this).constructor;e=Reflect.construct(i,arguments,a)}else e=i.apply(this,arguments);return p()(this,e)});function a(e){var t;return o()(this,a),(t=i.call(this)).index=0,t.input_list=e.map((function(e){return{value:e,read:!1}})),t}return l()(a,[{key:"requestInput",value:function(){var e=this;return new Promise((function(t,n){if(e.index<e.input_list.length){var i=e.input_list[e.index];i.read=!0,e.index+=1,t(i.value)}else n(new Error(le.getError("exceeded_input_request")))}))}},{key:"isInputAvailable",value:function(){return this.index<this.input_list.length}}]),a}(Ti);var Ai=function(e){u()(a,e);var t,n,i=(t=a,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,i=f()(t);if(n){var a=f()(this).constructor;e=Reflect.construct(i,arguments,a)}else e=i.apply(this,arguments);return p()(this,e)});function a(){var e;return o()(this,a),(e=i.call(this)).list=[],e.currentLine=null,e}return l()(a,[{key:"write",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];null==this.currentLine&&(this.currentLine=this.list.push("")-1),this.list[this.currentLine]+=e,t&&(this.currentLine=null)}},{key:"sendOutput",value:function(e){var t=this,n=""+e;if(-1!==n.indexOf("\n")){var i=n.split("\n"),a=i.pop();i.forEach((function(e){0==e.length?t.currentLine=null:t.write(e,!0)})),0!=a.length&&this.write(a)}else this.write(n)}}]),a}(function(){function e(){o()(this,e)}return l()(e,[{key:"sendOutput",value:function(e){throw new Error("Must be implemented")}}]),e}()),Ri=-1,Ii=1,$i=0;function Ci(e,t,n,i){if(e===t)return e?[[$i,e]]:[];if(null!=n){var a=function(e,t,n){var i="number"==typeof n?{index:n,length:0}:n.oldRange,a="number"==typeof n?null:n.newRange,r=e.length,o=t.length;if(0===i.length&&(null===a||0===a.length)){var s=i.index,l=e.slice(0,s),c=e.slice(s),u=a?a.index:null,d=s+o-r;if((null===u||u===d)&&!(d<0||d>o)){var p=t.slice(0,d);if(t.slice(d)===c){var _=Math.min(s,d),f=l.slice(0,_);if(f===p.slice(0,_))return Bi(f,l.slice(_),p.slice(_),c)}}if(null===u||u===s){var m=s,v=t.slice(0,m),h=t.slice(m);if(v===l){var g=Math.min(r-m,o-m),y=c.slice(c.length-g);if(y===h.slice(h.length-g))return Bi(l,c.slice(0,c.length-g),h.slice(0,h.length-g),y)}}}if(i.length>0&&a&&0===a.length){var x=e.slice(0,i.index),b=e.slice(i.index+i.length),w=x.length,E=b.length;if(!(o<w+E)){var T=t.slice(0,w),k=t.slice(o-E);if(x===T&&b===k)return Bi(x,e.slice(w,r-E),t.slice(w,o-E),b)}}return null}(e,t,n);if(a)return a}var r=Oi(e,t),o=e.substring(0,r);r=Li(e=e.substring(r),t=t.substring(r));var s=e.substring(e.length-r),l=function(e,t){var n;if(!e)return[[Ii,t]];if(!t)return[[Ri,e]];var i=e.length>t.length?e:t,a=e.length>t.length?t:e,r=i.indexOf(a);if(-1!==r)return n=[[Ii,i.substring(0,r)],[$i,a],[Ii,i.substring(r+a.length)]],e.length>t.length&&(n[0][0]=n[2][0]=Ri),n;if(1===a.length)return[[Ri,e],[Ii,t]];var o=function(e,t){var n=e.length>t.length?e:t,i=e.length>t.length?t:e;if(n.length<4||2*i.length<n.length)return null;function a(e,t,n){for(var i,a,r,o,s=e.substring(n,n+Math.floor(e.length/4)),l=-1,c="";-1!==(l=t.indexOf(s,l+1));){var u=Oi(e.substring(n),t.substring(l)),d=Li(e.substring(0,n),t.substring(0,l));c.length<d+u&&(c=t.substring(l-d,l)+t.substring(l,l+u),i=e.substring(0,n-d),a=e.substring(n+u),r=t.substring(0,l-d),o=t.substring(l+u))}return 2*c.length>=e.length?[i,a,r,o,c]:null}var r,o,s,l,c,u=a(n,i,Math.ceil(n.length/4)),d=a(n,i,Math.ceil(n.length/2));return u||d?(r=d?u&&u[4].length>d[4].length?u:d:u,e.length>t.length?(o=r[0],s=r[1],l=r[2],c=r[3]):(l=r[0],c=r[1],o=r[2],s=r[3]),[o,s,l,c,r[4]]):null}(e,t);if(o){var s=o[0],l=o[1],c=o[2],u=o[3],d=o[4],p=Ci(s,c),_=Ci(l,u);return p.concat([[$i,d]],_)}return function(e,t){for(var n=e.length,i=t.length,a=Math.ceil((n+i)/2),r=a,o=2*a,s=new Array(o),l=new Array(o),c=0;c<o;c++)s[c]=-1,l[c]=-1;s[r+1]=0,l[r+1]=0;for(var u=n-i,d=u%2!=0,p=0,_=0,f=0,m=0,v=0;v<a;v++){for(var h=-v+p;h<=v-_;h+=2){for(var g=r+h,y=void 0,x=(y=h===-v||h!==v&&s[g-1]<s[g+1]?s[g+1]:s[g-1]+1)-h;y<n&&x<i&&e.charAt(y)===t.charAt(x);)y++,x++;if(s[g]=y,y>n)_+=2;else if(x>i)p+=2;else if(d){var b=r+u-h;if(b>=0&&b<o&&-1!==l[b]&&y>=n-l[b])return Ni(e,t,y,x)}}for(var w=-v+f;w<=v-m;w+=2){for(var E=r+w,T=void 0,k=(T=w===-v||w!==v&&l[E-1]<l[E+1]?l[E+1]:l[E-1]+1)-w;T<n&&k<i&&e.charAt(n-T-1)===t.charAt(i-k-1);)T++,k++;if(l[E]=T,T>n)m+=2;else if(k>i)f+=2;else if(!d){var A=r+u-w;if(A>=0&&A<o&&-1!==s[A]){var R=s[A];if(R>=(T=n-T))return Ni(e,t,R,r+R-A)}}}}return[[Ri,e],[Ii,t]]}(e,t)}(e=e.substring(0,e.length-r),t=t.substring(0,t.length-r));return o&&l.unshift([$i,o]),s&&l.push([$i,s]),Si(l,i),l}function Ni(e,t,n,i){var a=e.substring(0,n),r=t.substring(0,i),o=e.substring(n),s=t.substring(i),l=Ci(a,r),c=Ci(o,s);return l.concat(c)}function Oi(e,t){if(!e||!t||e.charAt(0)!==t.charAt(0))return 0;for(var n=0,i=Math.min(e.length,t.length),a=i,r=0;n<a;)e.substring(r,a)==t.substring(r,a)?r=n=a:i=a,a=Math.floor((i-n)/2+n);return Ui(e.charCodeAt(a-1))&&a--,a}function Li(e,t){if(!e||!t||e.slice(-1)!==t.slice(-1))return 0;for(var n=0,i=Math.min(e.length,t.length),a=i,r=0;n<a;)e.substring(e.length-a,e.length-r)==t.substring(t.length-a,t.length-r)?r=n=a:i=a,a=Math.floor((i-n)/2+n);return Mi(e.charCodeAt(e.length-a))&&a--,a}function Si(e,t){e.push([$i,""]);for(var n,i,a=0,r=0,o=0,s="",l="";a<e.length;)if(a<e.length-1&&!e[a][1])e.splice(a,1);else switch(e[a][0]){case Ii:o++,l+=e[a][1],a++;break;case Ri:r++,s+=e[a][1],a++;break;case $i:if(i=a-o-r-1,t){if(i>=0&&Di(e[i][1])){var c=e[i][1].slice(-1);if(e[i][1]=e[i][1].slice(0,-1),s=c+s,l=c+l,!e[i][1]){e.splice(i,1),a--;var u=i-1;e[u]&&e[u][0]===Ii&&(o++,l=e[u][1]+l,u--),e[u]&&e[u][0]===Ri&&(r++,s=e[u][1]+s,u--),i=u}}if(Fi(e[a][1])){var d=e[a][1].charAt(0);e[a][1]=e[a][1].slice(1),s+=d,l+=d}}if(a<e.length-1&&!e[a][1]){e.splice(a,1);break}if(s.length>0||l.length>0){s.length>0&&l.length>0&&(0!==(n=Oi(l,s))&&(i>=0?e[i][1]+=l.substring(0,n):(e.splice(0,0,[$i,l.substring(0,n)]),a++),l=l.substring(n),s=s.substring(n)),0!==(n=Li(l,s))&&(e[a][1]=l.substring(l.length-n)+e[a][1],l=l.substring(0,l.length-n),s=s.substring(0,s.length-n)));var p=o+r;0===s.length&&0===l.length?(e.splice(a-p,p),a-=p):0===s.length?(e.splice(a-p,p,[Ii,l]),a=a-p+1):0===l.length?(e.splice(a-p,p,[Ri,s]),a=a-p+1):(e.splice(a-p,p,[Ri,s],[Ii,l]),a=a-p+2)}0!==a&&e[a-1][0]===$i?(e[a-1][1]+=e[a][1],e.splice(a,1)):a++,o=0,r=0,s="",l=""}""===e[e.length-1][1]&&e.pop();var _=!1;for(a=1;a<e.length-1;)e[a-1][0]===$i&&e[a+1][0]===$i&&(e[a][1].substring(e[a][1].length-e[a-1][1].length)===e[a-1][1]?(e[a][1]=e[a-1][1]+e[a][1].substring(0,e[a][1].length-e[a-1][1].length),e[a+1][1]=e[a-1][1]+e[a+1][1],e.splice(a-1,1),_=!0):e[a][1].substring(0,e[a+1][1].length)==e[a+1][1]&&(e[a-1][1]+=e[a+1][1],e[a][1]=e[a][1].substring(e[a+1][1].length)+e[a+1][1],e.splice(a+1,1),_=!0)),a++;_&&Si(e,t)}function Ui(e){return e>=55296&&e<=56319}function Mi(e){return e>=56320&&e<=57343}function Fi(e){return Mi(e.charCodeAt(0))}function Di(e){return Ui(e.charCodeAt(e.length-1))}function Bi(e,t,n,i){return Di(e)||Fi(i)?null:function(e){for(var t=[],n=0;n<e.length;n++)e[n][1].length>0&&t.push(e[n]);return t}([[$i,e],[Ri,t],[Ii,n],[$i,i]])}function Gi(e,t,n){return Ci(e,t,n,!0)}Gi.INSERT=Ii,Gi.DELETE=Ri,Gi.EQUAL=$i;const Vi=Gi;var Pi=function(){function e(t,n,i,a,r,s){var l=arguments.length>6&&void 0!==arguments[6]?arguments[6]:"";o()(this,e),this.name=t,this.status=n,this.inputs=i,this.results=a,this.store=r,this.time=s,this.error_msg=l}return l()(e,null,[{key:"PAGE_TEMPLATE",get:function(){return"<!DOCTYPE html>\n    <html>\n      <head>\n        <meta http-equiv='content-type' content='text/html; charset=UTF-8'>\n        <link rel='stylesheet' href='css/ivprog-assessment.css' type='text/css'/>\n      </head>\n    <body>\n      :assessment-result:\n    </body>\n    </html>"}},{key:"DETAIL_TEMPLATE",get:function(){return"<div class='details-body'>\n        <div class='details-header'>\n          <h2>:test-name:</h2>\n          <p>:time-label:: <span>:time:ms</span></p>\n          <p>:grade-label:: <span>:grade:%</span></p>\n        </div>\n        <div>\n          <h3>:input-label:</h3>\n          <ul>\n            <li>:input-list:</li>\n          </ul>\n        </div>\n        <div>\n          <h3>:output-label:</h3>\n          :output-result:\n        </div>\n      </div>"}},{key:"OUPUT_TABLE_TEMPLATE",get:function(){return"<div class='detaisl-div-table'>\n        <table class='assessment-output-table'>\n          <tr>\n            <th>:expected-label:</th>\n            <th>:generated-label:</th>\n            <th>:result-label:</th>\n          </tr>\n          :results:\n        </table>\n      </div>"}},{key:"OUTPUT_TEMPLATE",get:function(){return"<tr><td class=':class-expected:'>$0</td>\n            <td class=':class-generated:'>$1</td>\n            <td class=':class-result:'>$2</td></tr>"}},{key:"EMPTY_OUTPUT_TEMPLATE",get:function(){return"<div class='assessment-popup'><img class='assessment-empty-output' src='img/empty.svg'>\n      <span class='assessment-popuptext'>$0</span></div>"}},{key:"FAILED_TEMPLATE",get:function(){return"<p class='assessment-failed-execution'><span class='assessment-failed-case'>✗</span>$0</p>"}},{key:"INPUT_INFO_TEMPLATE",get:function(){return"<span class='$0'>$1</span>"}}]),l()(e,[{key:"prepareResults",value:function(){var t=this,n=e.DETAIL_TEMPLATE,i=(100*this.grade).toFixed(2),a=this.time||"-";n=(n=(n=(n=(n=n.replace(":test-name:",le.getUI("assessment-detail-title",[this.name+1]))).replace(":time-label:",le.getUI("assessment-detail-time-label"))).replace(":time:",a)).replace(":grade-label:",le.getUI("assessment-detail-grade-label"))).replace(":grade:",i);var r=this.prepareInputList(this.inputs);if(n=(n=(n=n.replace(":input-label:",le.getUI("assessment-detail-input-label"))).replace(":input-list:",r)).replace(":output-label:",le.getUI("assessment-detail-output-label")),0==this.status){var o=this.results.map((function(e){return"string"==e.type?t.formatString(e):"number"==e.type?t.formatNumber(e):t.formatBool(e)}),this);n=n.replace(":output-result:",this.prepareOutputTable(o))}else{var s=e.FAILED_TEMPLATE;s=s.replace("$0",this.error_msg),n=n.replace(":output-result:",s)}return n}},{key:"prepareInputList",value:function(t){return t.map((function(t){var n=e.INPUT_INFO_TEMPLATE;return n=n.replace("$1",t.value),t.read?n.replace("$0","assessment-input-read"):n.replace("$0","assessment-input-unread")}),this).join(le.getUI("text_join_assessment_outputs"))}},{key:"prepareOutputTable",value:function(t){var n=e.OUPUT_TABLE_TEMPLATE;return(n=(n=(n=n.replace(":expected-label:",le.getUI("assessment-detail-expected-label"))).replace(":generated-label:",le.getUI("assessment-detail-generated-label"))).replace(":result-label:",le.getUI("assessment-detail-result-label"))).replace(":results:",t.join(""))}},{key:"generateOutput",value:function(){var t=this.prepareResults(),n=e.PAGE_TEMPLATE;return(n=n.replace(":assessment-result:",t)).replace(/(\r|\n|\t)/gm,"").replace(/> *</g,"><")}},{key:"formatNumber",value:function(e){var t=1==e.grade?"assessment-number-result":"assessment-number-result-failed";return this.formatOutput("assessment-number-expected","assessment-number-generated",t,e)}},{key:"formatBool",value:function(e){var t=1==e.grade?"assessment-bool-result":"assessment-bool-result-failed";return this.formatOutput("assessment-bool-expected","assessment-bool-generated",t,e)}},{key:"formatOutput",value:function(t,n,i,a){var r=e.OUTPUT_TEMPLATE;r=(r=(r=r.replace(":class-expected:",t)).replace(":class-generated:",n)).replace(":class-result:",i);var o=a.expected,s=a.generated;null==o?o=e.EMPTY_OUTPUT_TEMPLATE.replace("$0",le.getMessage("assessment-empty-expected-tooltip")):null==s&&(s=e.EMPTY_OUTPUT_TEMPLATE.replace("$0",le.getMessage("assessment-empty-generated-tooltip"))),r=(r=r.replace("$0",o)).replace("$1",s);var l=1==a.grade?"✓":"✗";return r.replace("$2",l)}},{key:"formatString",value:function(t){var n=this,i=e.OUTPUT_TEMPLATE;i=(i=i.replace(":class-expected:","assessment-string-expected")).replace(":class-generated:","assessment-string-generated");var a=t.generated||"",r=t.expected||"",o=a,s=r;if(null==t.generated?o=e.EMPTY_OUTPUT_TEMPLATE.replace("$0",le.getMessage("assessment-empty-generated-tooltip")):null==t.expected&&(s=e.EMPTY_OUTPUT_TEMPLATE.replace("$0",le.getMessage("assessment-empty-expected-tooltip"))),i=(i=i.replace("$0",s)).replace("$1",o),1==t.grade)i=(i=i.replace("$2","✓")).replace(":class-result:","assessment-string-result");else{var l=Vi(a,r).map((function(e){return n.getDiffStringStyle(e[1],e[0])}),this).reduce((function(e,t){return e+t}),"");i=(i=i.replace("$2","<span class='assessment-failed-case'>✗</span>"+l)).replace(":class-result:","assessment-string-diff")}return i}},{key:"getDiffStringStyle",value:function(e,t){var n="<span class='$0'>$1</span>";switch(e=e.replace(/\s/g,"&#160;"),t){case Vi.INSERT:return n.replace("$0","stringdiff-insert").replace("$1",e);case Vi.DELETE:return n.replace("$0","stringdiff-delete").replace("$1",e);case Vi.EQUAL:return n.replace("$0","stringdiff-equal").replace("$1",e)}}},{key:"grade",get:function(){return null==this.results?0:this.results.reduce((function(e,t){return e+t.grade}),0)/this.results.length}}]),e}();function Ki(e,t,n){return new zi(e,t,n,"number")}function ji(e,t,n){return new zi(e,t,n,"bool")}var zi=function e(t,n,i,a){o()(this,e),this.expected=t,this.generated=n,this.grade=i,this.type=a},Hi=ue(),qi=function(){function e(t,n,i,a){o()(this,e),this.program=t,this.name=a,this.input_list=n,this.expected_output=i}return l()(e,null,[{key:"NUM_REGEX",get:function(){return/^[+-]?([0-9]+([.][0-9]*)?(e[+-]?[0-9]+)?)$/}},{key:"NUM_IN_STRING_REGEX",get:function(){return/[+-]?([0-9]+([.][0-9]*)?(e[+-]?[0-9]+)?)/g}},{key:"BOOLEAN_REGEX",get:function(){var e="^(".concat(Hi.getUI("logic_value_true"),"|").concat(Hi.getUI("logic_value_false"),")$");return new RegExp(e)}},{key:"BOOLEAN_IN_STRING_REGEX",get:function(){var e="(".concat(Hi.getUI("logic_value_true"),"|").concat(Hi.getUI("logic_value_false"),")");return new RegExp(e,"g")}}]),l()(e,[{key:"eval",value:function(){var e=this,t=this,n=new ki(this.input_list),i=new Ai;this.program.registerInput(n),this.program.registerOutput(i);var a=Date.now();return this.program.interpretAST().then((function(r){var o=Date.now()-a;if(n.isInputAvailable())return new Pi(e.name,1,n.input_list,null,r,o,t.getErrorMessage("test_case_few_reads",e.name+1));var s=i.list.map((function(t,n){return n>=e.expected_output.length?new zi(null,t,0,e.getPotentialOutputType(t)):e.outputMatch(t,e.expected_output[n])}),e);if(e.expected_output.length>i.list.length){console.log("Saída insuficientes!",e.expected_output.length,i.list.length);for(var l=i.list.length;l<e.expected_output.length;++l){var c=e.expected_output[l];s.push(new zi(c,null,0,e.getPotentialOutputType(c)))}}else 0==e.expected_output.length&&e.expected_output.length==i.list.length&&s.push(new zi("","",1,"string"));return new Pi(e.name,0,n.input_list,s,r,o)})).catch((function(i){return new Pi(e.name,1,n.input_list,null,null,null,t.getErrorMessage("test_case_exception",e.name+1,i.message))}))}},{key:"getPotentialOutputType",value:function(t){return e.NUM_REGEX.test(t)?"number":e.BOOLEAN_REGEX.test(t)?"bool":"string"}},{key:"outputMatch",value:function(t,n){if(e.NUM_REGEX.test(n)){if(!e.NUM_REGEX.test(t))return this.checkStrings(t,n);var i=new P.Decimal(t),a=new P.Decimal(n);return this.checkNumbers(i,a)}if(e.BOOLEAN_REGEX.test(n)){if(!e.BOOLEAN_REGEX.test(t))return this.checkStrings(t,n);var r=W(t),o=W(n);return this.checkBoolean(r,o)}return this.checkStrings(t,n)}},{key:"checkNumbers",value:function(e,t){var n=Math.min(t.dp(),j.Config.decimalPlaces);e=new P.Decimal(e.toFixed(n,P.Decimal.ROUND_FLOOR)),t=new P.Decimal(t.toFixed(n,P.Decimal.ROUND_FLOOR));var i=e.eq(t)?1:0;return Ki(t.toNumber(),e.toNumber(),i)}},{key:"checkBoolean",value:function(e,t){var n=e==t?1:0,i=Y(e);return ji(Y(t),i,n)}},{key:"checkStrings",value:function(t,n){var i=this,a=[],r=n.trim(),o=t.trim();if(e.NUM_IN_STRING_REGEX.test(n)){var s=n.match(e.NUM_IN_STRING_REGEX),l=t.match(e.NUM_IN_STRING_REGEX)||[],c=l.map((function(e,t){if(t>=s.length)return Ki(null,e,0);var n=new P.Decimal(e),a=new P.Decimal(s[t]);return i.checkNumbers(n,a)}),this);if(s.length>l.length)for(var u=l.length;u<s.length;++u)c.push(Ki(s[u],null,0));r=r.replace(e.NUM_IN_STRING_REGEX,""),o=o.replace(e.NUM_IN_STRING_REGEX,"");var d=c.reduce((function(e,t){return e+t.grade}),0)/c.length;a.push(d)}if(e.BOOLEAN_IN_STRING_REGEX.test(n)){var p=n.match(e.BOOLEAN_IN_STRING_REGEX),_=t.match(e.BOOLEAN_IN_STRING_REGEX)||[],f=_.map((function(e,t){if(t>=p.length)return ji(null,e,0);var n=W(e),a=W(p[t]);return i.checkBoolean(n,a)}),this);if(p.length>_.length)for(var m=_.length;m<p.length;++m)f.push(ji(p[m],null,0));r=r.replace(e.BOOLEAN_IN_STRING_REGEX,""),o=o.replace(e.BOOLEAN_IN_STRING_REGEX,"");var v=f.reduce((function(e,t){return e+t.grade}),0)/f.length;a.push(v)}var h=We(o,r),g=Math.max(0,r.length-h)/r.length;g=Number.isNaN(g)?0:g;var y=a.length+1,x=a.reduce((function(e,t){return e+t/y}),0);return new zi(n,t,1*(g/y+x),"string")}},{key:"getErrorMessage",value:function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),i=1;i<t;i++)n[i-1]=arguments[i];return Hi.getError(e,n)}}]),e}(),Xi=ue(),Wi=ae.default.StringTypes,Yi={max_instruction_count:350250,suspend_threshold:200},Qi=function(){function e(t,n,i){o()(this,e),this.ast_code=t,this.testCases=n,this.domConsole=i,this.old_config=JSON.parse(JSON.stringify(j.Config)),j.Config.setConfig(Yi)}return l()(e,[{key:"runTest",value:function(){var e=this;try{var t=this.testCases.map((function(t,n){return new qi(new rt(e.ast_code),t.input,t.output,n)})).map((function(e){return e.eval()}));return Promise.all(t).then((function(t){for(var n=0,i=0;i<t.length;i+=1){var a=t[i];n+=a.grade,1==a.grade?e.writeToConsole(ot.INFO,Wi.MESSAGE,"test_case_success",a.name+1,a.generateOutput()):1==a.status?e.writeToConsole(ot.ERR,Wi.ERROR,"test_case_failed_exception",a.name+1,a.error_msg,a.generateOutput()):e.writeToConsole(ot.ERR,Wi.ERROR,"test_case_failed",a.name+1,a.generateOutput())}var r=1==(n/=t.length)?ot.INFO:ot.ERR;return e.writeToConsole(r,Wi.MESSAGE,"test_suite_grade",(100*n).toFixed(2)),n}))}catch(e){return this.showErrorMessage(ot.ERR,Wi.MESSAGE,"unexpected_execution_error"),this.domConsole.err(e.message),Promise.resolve(0)}finally{j.Config.setConfig(this.old_config)}}},{key:"showErrorMessage",value:function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),i=1;i<t;i++)n[i-1]=arguments[i];this.domConsole.err(Xi.getError(e,n))}},{key:"showInfoMessage",value:function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),i=1;i<t;i++)n[i-1]=arguments[i];this.domConsole.info(Xi.getMessage(e,n))}},{key:"writeToConsole",value:function(e,t,n){for(var i=Xi.getString(n,t),a=arguments.length,r=new Array(a>3?a-3:0),o=3;o<a;o++)r[o-3]=arguments[o];i=Xi.processString(i,r),this.domConsole.writeRawHTML(i,e)}}]),e}();const Ji=JSON.parse('{"i":"2025_06_24 23_19"}');var Zi=n(4631);n(2801),n(4328),n(17),function(e){function t(e,t,n,i,a,r){this.indented=e,this.column=t,this.type=n,this.info=i,this.align=a,this.prev=r}function n(e,n,i,a){var r=e.indented;return e.context&&"statement"==e.context.type&&"statement"!=i&&(r=e.context.indented),e.context=new t(r,n,i,a,null,e.context)}function i(e){var t=e.context.type;return")"!=t&&"]"!=t&&"}"!=t||(e.indented=e.context.indented),e.context=e.context.prev}function a(e,t,n){return"variable"==t.prevToken||"type"==t.prevToken||!!/\S(?:[^- ]>|[*\]])\s*$|\*$/.test(e.string.slice(0,n))||!(!t.typeAtEndOfLine||e.column()!=e.indentation())||void 0}function r(e){for(;;){if(!e||"top"==e.type)return!0;if("}"==e.type&&"namespace"!=e.prev.info)return!1;e=e.prev}}function o(e,t){return"function"==typeof e?e(t):Object.propertyIsEnumerable.call(e,t)}function s(e,t){for(var n,i=!1;n=e.next();){if("/"==n&&i){t.tokenize=null;break}i="*"==n}return"comment"}function l(e){for(var t={},n=e.split(" "),i=0;i<n.length;++i)t[n[i]]=!0;return t}e.defineMode("ivprog",(function(l,c){var u,d,p=l.indentUnit,_=c.statementIndentUnit||p,f=c.dontAlignCalls,m=c.keywords||{},v=c.switchKeyword,h=c.caseKeyword,g=c.defaultKeyword,y=new RegExp("^\\s*(?:".concat(h," .*?:|").concat(g,":|\\{\\}?|\\})$")),x=c.types||{},b=c.builtin||{},w=c.blockKeywords||{},E=c.defKeywords||{},T=c.atoms||{},k=c.hooks||{},A=c.multiLineStrings,R=/[[\]{}(),;:\n]/,I=/[\d.]/,$=/^(?:0x[a-f\d]+|0b[01]+|(?:\d+\.?\d*|\.\d+)(?:e[-+]?\d+)?)$/i,C=/[+\-*%=<>!/&]/,N=/[a-zA-Z0-9_]/,O=c.isReservedIdentifier||!1,L=function(){};function S(e,t){var n=e.next();if(k[n]){var i=k[n](e,t);if(!1!==i)return i}if('"'==n)return t.tokenize=L(n),t.tokenize(e,t);if(R.test(n))return u=n,null;if(I.test(n)){if(e.backUp(1),e.match($))return"number";e.next()}if("/"==n){if(e.eat("*"))return t.tokenize=s,s(e,t);if(e.eat("/"))return e.skipToEnd(),"comment"}if(C.test(n)){for(;!e.match(/^\/[/*]/,!1)&&e.eat(C););return"operator"}e.eatWhile(N);var a=e.current();return o(m,a)?(o(w,a)&&(u="newstatement"),o(E,a)&&(d=!0),"keyword"):o(x,a)?"type":o(b,a)||O&&O(a)?(o(w,a)&&(u="newstatement"),"builtin"):o(T,a)?"atom":"variable"}function U(e,t){c.typeFirstDefinitions&&e.eol()&&r(t.context)&&(t.typeAtEndOfLine=a(e,t,e.pos))}return L=function(e){return function(t,n){for(var i,a=!1,r=!1;null!=(i=t.next());){if(i==e&&!a){r=!0;break}a=!a&&"\\"==i}return(r||!a&&!A)&&(n.tokenize=null),"string"}},{startState:function(e){return{tokenize:null,context:new t((e||0)-p,0,"top",null,!1),indented:0,startOfLine:!0,prevToken:null}},token:function(e,t){var o=t.context;if(e.sol()&&(null==o.align&&(o.align=!1),t.indented=e.indentation(),t.startOfLine=!0),e.eatSpace())return U(e,t),null;u=d=null;var s=(t.tokenize||S)(e,t);if("comment"==s||"meta"==s)return s;if(null==o.align&&(o.align=!0),";"==u||":"==u||","==u&&e.match(/^\s*(?:\/\/.*)?$/,!1))for(;"statement"==t.context.type;)i(t);else if("{"==u)n(t,e.column(),"}");else if("["==u)n(t,e.column(),"]");else if("("==u)n(t,e.column(),")");else if("}"==u){for(;"statement"==o.type;)o=i(t);for("}"==o.type&&(o=i(t));"statement"==o.type;)o=i(t)}else u==o.type&&i(t);if("variable"==s&&("def"==t.prevToken||c.typeFirstDefinitions&&a(e,t,e.start)&&r(t.context)&&e.match(/^\s*\(/,!1))&&(s="def"),k.token){var l=k.token(e,t,s);void 0!==l&&(s=l)}return"def"==s&&!1===c.styleDefs&&(s="variable"),t.startOfLine=!1,t.prevToken=d?"def":s||u,U(e,t),s},indent:function(t,n){if(t.tokenize!=S&&null!=t.tokenize||t.typeAtEndOfLine)return e.Pass;var i=t.context,a=n&&n.charAt(0),r=a==i.type;if("statement"==i.type&&"}"==a&&(i=i.prev),c.dontIndentStatements)for(;"statement"==i.type&&c.dontIndentStatements.test(i.info);)i=i.prev;if(k.indent){var o=k.indent(t,i,n,p);if("number"==typeof o)return o}var s=i.prev&&i.prev.info==v;if(c.allmanIndentation&&/[{(]/.test(a)){for(;"top"!=i.type&&"}"!=i.type;)i=i.prev;return i.indented}if("statement"==i.type)return i.indented+("{"==a?0:_);if(i.align&&(!f||")"!=i.type))return i.column+(r?0:1);if(")"==i.type&&!r)return i.indented+_;var l=new RegExp("^(?:".concat(h,"|").concat(g,")\b"));return i.indented+(r?0:p)+(r||!s||l.test(n)?0:p)},electricInput:y,blockCommentStart:"/*",blockCommentEnd:"*/",blockCommentContinue:" * ",lineComment:"//",fold:"brace"}}));var c=function(){var e=[],t=[],n=[],i=[],a=[],r="";He=[];var o=h.T.getCurrentLexer(),s=o.getReservedKeys();return["RK_SWITCH","RK_PROGRAM","RK_CASE","RK_DEFAULT","RK_FOR","RK_FOR_ALT","RK_FUNCTION","RK_DO","RK_WHILE","RK_WHILE_ALT","RK_IF","RK_ELSE"].forEach((function(i){var a=s[i];He.push(a),n.push(a),t.push(a),"RK_SWITCH"==i?r=a:"RK_CASE"!=i&&"RK_DEFAULT"!=i||e.push(a)})),["RK_CONST","RK_RETURN","RK_BREAK","RK_FOR_FROM","RK_FOR_TO","RK_FOR_PASS","RK_DO_UNTIL"].forEach((function(e){var t=s[e];He.push(t),n.push(t)})),["RK_REAL","RK_VOID","RK_BOOLEAN","RK_STRING","RK_INTEGER","RK_CHARACTER"].forEach((function(e){var t=s[e];He.push(t),i.push(t)})),["RK_FALSE","RK_TRUE"].forEach((function(e){var t=s[e];He.push(t),a.push(t)})),qe=[],["NOT_OPERATOR","OR_OPERATOR","AND_OPERATOR"].forEach((function(e){var t=s[e];qe.push(t),n.push(t)})),He.push(o.getLangFuncs().main_function),{case_default:e,atoms:a,keywords:n,switchString:r,types:i,blocks:t}}(),u=c.keywords.join(" "),d=l(c.types.join(" ")),p=c.blocks.join(" ");!function(t,n){"string"==typeof t&&(t=[t]);var i=[];function a(e){if(e)for(var t in e)Object.hasOwnProperty.call(e,t)&&i.push(t)}a(n.keywords),a(n.types),a(n.builtin),a(n.atoms),i.length&&(n.helperType=t[0],e.registerHelper("hintWords",t[0],i));for(var r=0;r<t.length;++r)e.defineMIME(t[r],n)}(["text/x-ivprog"],{name:"ivprog",keywords:l(u),types:function(e){return o(d,e)},blockKeywords:l(p),defKeywords:l("funcao const"),typeFirstDefinitions:!0,atoms:l(c.atoms.join(" ")),switchKeyword:c.switchString,caseKeyword:c.case_default[0],defaultKeyword:c.case_default[1],modeProps:{fold:["brace"]}})}(Zi);var ea=null;function ta(){ea.refresh()}function na(e){ea.setValue(e)}function ia(){return ea.getValue()}var aa=0,ra=0,oa=Ji.i,sa=[],la=[],ca=null,ua=null,da=[],pa=!1;window.studentGrade=null,window.LocalizedStrings=le;var _a=new dn;window.system_functions=[],window.system_functions.push(new Ht("$sin",ct.REAL,0,[new un(ti.all,null,null,null,!0)],null,Kt.math)),window.system_functions.push(new Ht("$cos",ct.REAL,0,[new un(ti.all,null,null,null,!0)],null,Kt.math)),window.system_functions.push(new Ht("$tan",ct.REAL,0,[new un(ti.all,null,null,null,!0)],null,Kt.math)),window.system_functions.push(new Ht("$sqrt",ct.REAL,0,[new un(ti.all,null,null,null,!0)],null,Kt.math)),window.system_functions.push(new Ht("$pow",ct.REAL,0,[new un(ti.all,null,null,null,!0),new un(ti.all,null,null,null,!0)],null,Kt.math)),window.system_functions.push(new Ht("$log",ct.REAL,0,[new un(ti.all,null,null,null,!0)],null,Kt.math)),window.system_functions.push(new Ht("$abs",ct.REAL,0,[new un(ti.all,null,null,null,!0)],null,Kt.math)),window.system_functions.push(new Ht("$negate",ct.REAL,0,[new un(ti.all,null,null,null,!0)],null,Kt.math)),window.system_functions.push(new Ht("$invert",ct.REAL,0,[new un(ti.all,null,null,null,!0)],null,Kt.math)),window.system_functions.push(new Ht("$max",ct.REAL,0,[new un(ti.all,null,null,null,!0)],null,Kt.math)),window.system_functions.push(new Ht("$min",ct.REAL,0,[new un(ti.all,null,null,null,!0)],null,Kt.math)),window.system_functions.push(new Ht("$rand",ct.REAL,0,[],null,Kt.math)),window.system_functions.push(new Ht("$substring",ct.TEXT,0,[new un(ti.all,null,null,null,!0),new un(ti.all,null,null,null,!0),new un(ti.all,null,null,null,!0)],null,Kt.text)),window.system_functions.push(new Ht("$length",ct.INTEGER,0,[new un(ti.all,null,null,null,!0)],null,Kt.text)),window.system_functions.push(new Ht("$uppercase",ct.TEXT,0,[new un(ti.all,null,null,null,!0)],null,Kt.text)),window.system_functions.push(new Ht("$lowercase",ct.TEXT,0,[new un(ti.all,null,null,null,!0)],null,Kt.text)),window.system_functions.push(new Ht("$charAt",ct.CHAR,0,[new un(ti.all,null,null,null,!0),new un(ti.all,null,null,null,!0)],null,Kt.text)),window.system_functions.push(new Ht("$numElements",ct.INTEGER,0,[new un(ti.variable_and_function,null,null,null,!0,1)],null,Kt.arrangement)),window.system_functions.push(new Ht("$matrixLines",ct.INTEGER,0,[new un(ti.variable_and_function,null,null,null,!0,2)],null,Kt.arrangement)),window.system_functions.push(new Ht("$matrixColumns",ct.INTEGER,0,[new un(ti.variable_and_function,null,null,null,!0,2)],null,Kt.arrangement)),window.system_functions.push(new Ht("$isReal",ct.BOOLEAN,0,[new un(ti.all,null,null,null,!0)],null,Kt.conversion)),window.system_functions.push(new Ht("$isInt",ct.BOOLEAN,0,[new un(ti.all,null,null,null,!0)],null,Kt.conversion)),window.system_functions.push(new Ht("$isBool",ct.BOOLEAN,0,[new un(ti.all,null,null,null,!0)],null,Kt.conversion)),window.system_functions.push(new Ht("$castReal",ct.REAL,0,[new un(ti.all,null,null,null,!0)],null,Kt.conversion)),window.system_functions.push(new Ht("$castInt",ct.INTEGER,0,[new un(ti.all,null,null,null,!0)],null,Kt.conversion)),window.system_functions.push(new Ht("$castBool",ct.BOOLEAN,0,[new un(ti.all,null,null,null,!0)],null,Kt.conversion)),window.system_functions.push(new Ht("$castString",ct.TEXT,0,[new un(ti.all,null,null,null,!0)],null,Kt.conversion)),window.system_functions.push(new Ht("$castChar",ct.CHAR,0,[new un(ti.all,null,null,null,!0)],null,Kt.conversion)),console.log("       ___           ___                    ________          \n      /   /         /   /                  /   ____/  \n     /   /         /   /                  /   /        \n    /   /         /   /  ______    ___   /   /__         \n   /   /         /   /  /      \\  /  /  /   ___/      \n  /   /______   /   /  /   /\\   \\/  /  /   /      \n /          /  /   /  /   /  \\     /  /   /____     \n/__________/  /___/  /___/    \\___/  /________/       \n\n Laboratório de Informática na Educação\n http://line.ime.usp.br");var fa=new zt(le.getUI("start"),ct.VOID,0,[],!0,!1);function ma(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;ht(e.name,mt.CHANGE_FUNCTION_RETURN,t,n),e.return_type=t,e.return_dimensions=n}fa.function_comment=new qt(le.getUI("text_comment_main")),_a.addFunction(fa),window.program_obj=_a,window.generator=Dn,window.runCodeAssessment=Ta,window.renderAlgorithm=Mt,window.insertContext=!1,window.watchW=dt(),dt().watch(window.program_obj.globals,(function(){window.insertContext?(setTimeout((function(){Mt(),sa.forEach((function(e){return e()}))}),300),window.insertContext=!1):(Mt(),sa.forEach((function(e){return e()})))}),1),dt().watch(window.program_obj.functions,(function(){window.insertContext?(setTimeout((function(){Mt(),la.forEach((function(e){return e()}))}),300),window.insertContext=!1):(Mt(),la.forEach((function(e){return e()})))}),1);var va,ha=0;function ga(e){var t='<div class="ui secondary segment function_div list-group-item function_cont_'+ha+'">';e.function_comment,t+='<span class="glyphicon glyphicon-move move_function" aria-hidden="true"><i class="icon sort alternate vertical"></i></span>',t+=(e.is_main?'<div class="div_start_minimize_v"> </div>':'<button class="ui icon button large remove_function_button"><i class="red icon times"></i></button>')+'<button class="ui icon button tiny minimize_function_button"><i class="icon window minimize"></i></button>',t+='<div class="function_signature_div">'+le.getUI("function")+" ",e.is_main?t+='<div class="function_name_div">  &nbsp;&nbsp;&nbsp;&nbsp;&nbsp; '+le.getUI("type_void")+' &nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <span class="span_name_function" >'+e.name+'</span> </div>  <span class="parethesis_function">( </span> <div class="ui large labels parameters_list">':(t+='<div class="ui function_return"></div>',t+='<div class="function_name_div function_name_div_updated"><span class="span_name_function name_function_updated">'+e.name+'</span> </div>  <span class="parethesis_function"> ( </span> <i class="ui icon plus square outline add_parameter_button"></i> <div class="ui large labels parameters_list container_parameters_list">'),t+='</div> <span class="parethesis_function"> ) </span> </div>'+(e.is_hidden?' <div class="function_area" style="display: none;"> ':' <div class="function_area"> '),t+='<div class="ui add_var_context add_var_button_function" style="float: left;">             <div class="ui icon button purple"> ',t+='<i class="icons"><i class="icon superscript" style="margin-top: -2px;margin-bottom: 2px;margin-left: 1px;margin-right: 1px;"></i><i class="corner add icon inverted" style="font-size: 9px;padding-top: 6px;padding-left: 9px;"></i></i>',t+="</div></div>",t+='<div class="ui top attached segment variables_list_div"></div>',t+='<div class="ui bottom attached segment commands_list_div commands_cont_'+ha+'"><div class="ui rail" style="width: 35px; margin-left: -36px;"><div class="ui sticky sticky_cont_'+ha+'" style="top: 50px !important;">',t+='<div class="ui icon button dropdown menu_commands orange" > <i class="icons"><i class="icon code" style="margin-top: -1px;margin-bottom: 1px;margin-right: 0px;"></i><i class="corner add icon inverted" style="font-size: 9px;padding-top: 6px;padding-left: 9px;"></i></i><div class="menu"> ',t+='<a class="item" data-command="'+Ft.reader+'"><i class="download icon"></i> '+le.getUI("text_read_var")+'</a><a class="item" data-command="'+Ft.writer+'"><i class="upload icon"></i> '+le.getUI("text_write_var")+'</a><a class="item" data-command="'+Ft.comment+'"><i class="quote left icon"></i> '+le.getUI("text_comment")+'</a><a class="item" data-command="'+Ft.attribution+'"><i class="arrow left icon"></i> '+le.getUI("text_attribution")+'</a><a class="item" data-command="'+Ft.functioncall+'"><i class="hand point right icon"></i> '+le.getUI("text_functioncall")+'</a><a class="item" data-command="'+Ft.iftrue+'" ><i class="random icon"></i> '+le.getUI("text_iftrue")+'</a><a class="item" data-command="'+Ft.repeatNtimes+'"><i class="sync icon"></i> '+le.getUI("text_repeatNtimes")+'</a><a class="item" data-command="'+Ft.whiletrue+'"><i class="sync icon"></i> '+le.getUI("text_whiletrue")+'</a><a class="item" data-command="'+Ft.dowhiletrue+'"><i class="sync icon"></i> '+le.getUI("text_dowhiletrue")+'</a><a class="item" data-command="'+Ft.switch+'"><i class="list icon"></i> '+le.getUI("text_switch")+'</a><a class="item" data-command="'+Ft.return+'"><i class="reply icon"></i> '+le.getUI("text_btn_return")+"</a></div></div>",t+="</div></div></div>",t+="</div></div>",t=$(t),$(".all_functions").append(t),t.data("fun",e),t.find(".commands_list_div").data("fun",e),function(e,t){var n='<div class="ui dropdown function_return">';for(var i in 1==e.return_dimensions?(n+='<div class="text">'+le.getUI("vector")+": "+le.getUI("type_".concat(e.return_type.toLowerCase())),n+=" [ ] </div>"):2==e.return_dimensions?(n+='<div class="text">'+le.getUI("matrix")+": "+le.getUI("type_".concat(e.return_type.toLowerCase())),n+=" [ ] [ ] </div>"):n+='<div class="text">'+le.getUI("type_".concat(e.return_type.toLowerCase()))+"</div>",n+='<div class="menu">',ct)n+='<div class="item '+(e.return_type==i.toLowerCase()&&e.return_dimensions<1?" selected ":"")+'" data-type="'+i+'" >'+le.getUI("type_".concat(i.toLowerCase()))+"</div>";for(var i in n+='<div class="item '+(1==e.return_dimensions?" selected ":"")+'"><i class="dropdown icon"></i>'+le.getUI("vector")+'<div class="menu">',ct)i!=ct.VOID.toUpperCase()&&(n+='<div class="item '+(e.return_type==i.toLowerCase()&&1==e.return_dimensions?" selected ":"")+'" data-text="'+le.getUI("vector")+":"+le.getUI("type_".concat(i.toLowerCase()))+' [ ] " data-type="'+i+'" data-dimensions="1"> '+le.getUI("type_".concat(i.toLowerCase()))+"</div>");for(var i in n+="</div></div>",n+='<div class="item '+(2==e.return_dimensions?" selected ":"")+'"><i class="dropdown icon"></i>'+le.getUI("matrix")+'<div class="menu">',ct)i!=ct.VOID.toUpperCase()&&(n+='<div class="item '+(e.return_type==i.toLowerCase()&&2==e.return_dimensions?" selected ":"")+'" data-text="'+le.getUI("matrix")+":"+le.getUI("type_".concat(i.toLowerCase()))+' [ ] " data-type="'+i+'" data-dimensions="2"> '+le.getUI("type_".concat(i.toLowerCase()))+"</div>");n+="</div></div>",n+="</div></div>",n=$(n),t.find(".function_return").append(n)}(e,t),function(e,t){t.find(".ui.dropdown.function_return").dropdown({onChange:function(t,n,i){i.data("dimensions")?ma(e,ct[i.data("type")],i.data("dimensions")):ma(e,ct[i.data("type")])},selectOnKeydown:!1}),t.find(".name_function_updated").on("click",(function(n){!function(e,t){var n;Oa?La.focus():((t=$(t)).find(".span_name_function").text(""),Sa||(Sa=t.find(".span_name_function").css("padding-left")),t.find(".span_name_function").css("padding-left","0"),t.find(".span_name_function").css("padding-right","0"),(n=$("<input type='text' class='width-dynamic input_name_function' autocomplete='off' autocorrect='off' autocapitalize='off' spellcheck='false' value='"+e.name+"' />")).insertBefore(t.find(".span_name_function")),n.on("input",(function(){var e=n.textWidth()+10;La=n,n.focus();var t=n.val();n.val(""),n.val(t),n.css({width:e})})).trigger("input"),n.focusout((function(){n.val().trim()&&$a(e,n.val().trim(),t),n.off(),n.remove(),t.find(".span_name_function").css("padding-left",Sa),t.find(".span_name_function").css("padding-right",Sa),t.find(".span_name_function").text(e.name),Oa=!1,La=!1})),n.on("keydown",(function(i){var a=i.keyCode||i.which;13==a&&(n.val().trim()&&$a(e,n.val().trim(),t),n.off(),n.remove(),t.find(".span_name_function").css("padding-left",Sa),t.find(".span_name_function").css("padding-right",Sa),t.find(".span_name_function").text(e.name),Oa=!1,La=!1),27==a&&(n.off(),n.remove(),t.find(".span_name_function").css("padding-left",Sa),t.find(".span_name_function").css("padding-right",Sa),t.find(".span_name_function").text(e.name),Oa=!1,La=!1)})),n.select())}(e,t)})),t.find(".add_parameter_button").on("click",(function(n){window.insertContext=!0,function(e,t){if(null==e.parameters_list&&(e.parameters_list=[]),e.parameters_list){var n=!1;do{n=!1;var i=le.getUI("new_parameter")+"_"+ra;e.parameters_list.forEach((function(e){i==e.name&&(n=!0)})),n&&ra++}while(n)}var a=new jt(ct.INTEGER,le.getUI("new_parameter")+"_"+ra);e.parameters_list.push(a),ra++,ht(e.name,mt.INSERT_FUNCTION_PARAM,a.name,ct.INTEGER,0),Ra(e,a,t)}(e,t)})),t.find(".menu_commands").dropdown({on:"hover"}),t.find(".menu_commands a").on("click",(function(n){if(null==e.commands||0==e.commands.length){e.commands=[];var i=hi($(this).data("command"));e.commands.push(i),vi(i,t.find(".commands_list_div"),3,e),ht(e.name,mt.INSERT_COMMAND,$(this).data("command"),"/",0)}else di(e,t,$(this).data("command"),n)})),t.find(".add_var_button_function").on("click",(function(n){window.insertContext=!0,function(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(e.variables_list){var i=!1;do{i=!1;var a=le.getUI("new_variable")+"_"+pn;e.variables_list.forEach((function(e){a==e.name&&(i=!0)})),i&&pn++}while(i)}var r=new jt(ct.INTEGER,le.getUI("new_variable")+"_"+pn,0);null==e.variables_list&&(e.variables_list=[]),e.variables_list.push(r),pn++,ht(e.name,mt.INSERT_FUNCTION_VAR,r.name,ct.INTEGER,0);var o=mn(t,r,e);n&&(o.css("display","none"),o.fadeIn())}(e,t,!0)})),t.find(".remove_function_button").on("click",(function(n){!function(e){var t=_a.functions.indexOf(e);t>-1&&(ht(e.name,mt.REMOVE_FUNCTION),_a.functions.splice(t,1))}(e),t.fadeOut()})),t.find(".minimize_function_button").on("click",(function(n){!function(e){e.is_hidden=!e.is_hidden}(e),e.is_hidden?(t.find(".add_var_button_function").toggle(),t.find(".inline_add_command").toggle(),t.find(".function_area").slideToggle()):t.find(".function_area").slideToggle((function(){t.find(".add_var_button_function").toggle(),t.find(".inline_add_command").toggle()}))}))}(e,t);for(var n=0;n<e.parameters_list.length;n++)Ra(e,e.parameters_list[n],t);for(n=0;n<e.variables_list.length;n++)mn(t,e.variables_list[n],e);for(n=0;n<e.commands.length;n++)vi(e.commands[n],$(t.find(".commands_list_div")[0]),3,e);t.find(".minimize_function_button").popup({content:le.getUI("tooltip_hide_function"),delay:{show:750,hide:0}}),t.find(".move_function").popup({content:le.getUI("btn_drag_and_drop_function"),delay:{show:1e3,hide:0}}),t.find(".remove_function_button").popup({content:le.getUI("btn_delete_function"),delay:{show:750,hide:0}}),t.find(".add_var_button_function").popup({content:le.getUI("btn_add_var"),delay:{show:750,hide:0}}),t.find('a[data-command="attribution"]').popup({content:le.getUI("tooltip_menu_attribution"),position:"right center",delay:{show:750,hide:0}}),t.find('a[data-command="functioncall"]').popup({content:le.getUI("tooltip_menu_call_function"),position:"right center",delay:{show:750,hide:0}}),t.find('a[data-command="iftrue"]').popup({content:le.getUI("tooltip_menu_if_else"),position:"right center",delay:{show:750,hide:0}}),t.find('a[data-command="comment"]').popup({content:le.getUI("tooltip_menu_comments"),position:"right center",delay:{show:750,hide:0}}),t.find('a[data-command="reader"]').popup({content:le.getUI("tooltip_menu_read"),position:"right center",delay:{show:750,hide:0}}),t.find('a[data-command="writer"]').popup({content:le.getUI("tooltip_menu_write"),position:"right center",delay:{show:750,hide:0}}),t.find('a[data-command="repeatNtimes"]').popup({content:le.getUI("tooltip_menu_repeat_n_times"),position:"right center",delay:{show:750,hide:0}}),t.find('a[data-command="whiletrue"]').popup({content:le.getUI("tooltip_menu_repeat_whiletrue"),position:"right center",delay:{show:750,hide:0}}),t.find('a[data-command="dowhiletrue"]').popup({content:le.getUI("tooltip_menu_repeat_dowhiletrue"),position:"right center",delay:{show:750,hide:0}}),t.find('a[data-command="switch"]').popup({content:le.getUI("tooltip_menu_repeat_switch"),position:"right center",delay:{show:750,hide:0}}),t.find('a[data-command="return"]').popup({content:le.getUI("tooltip_menu_repeat_return"),position:"right center",delay:{show:750,hide:0}});var i=_a.functions.indexOf(e);if(Sortable.create(t.find(".variables_list_div")[0],{handle:".ellipsis",animation:100,ghostClass:"ghost",group:"local_vars_drag_"+i,onEnd:function(t){!function(e,t,n){n.variables_list.splice(t,0,n.variables_list.splice(e,1)[0])}(t.oldIndex,t.newIndex,e)}}),ya(t.find(".commands_list_div")[0],i),e.is_main||Sortable.create(t.find(".container_parameters_list")[0],{handle:".ellipsis",animation:100,ghostClass:"ghost",group:"parameters_drag_"+_a.functions.indexOf(e),onEnd:function(t){!function(e,t,n){n.parameters_list.splice(t,0,n.parameters_list.splice(e,1)[0])}(t.oldIndex,t.newIndex,e)}}),e.commands.length>0){var a=".ui.sticky.sticky_cont_"+ha;$(a).sticky({context:".ui.bottom.attached.segment.commands_list_div.commands_cont_"+ha,scrollContext:".ivprog_visual_panel",observeChanges:!0,offset:40,onStick:function(e){$(a).css("top","20px","important")},onBottom:function(e){$(a).css("top","20px","important")},onUnstick:function(e){$(a).css("top","20px","important")},onReposition:function(e){$(a).css("top","20px","important")},onScroll:function(e){var t,n,i,r,o,s;$(a).css("top","20px","important"),t=$(a),n=$(a).parent(),i=$(t).offset().top,r=$(t).height(),o=$(n).offset().top,s=$(n).height()-30,i-o+r>0&&i-o<s||$(a).removeClass("fixed")},onTop:function(e){$(a).css("top","20px","important")}})}return ha++,t.find(".add_parameter_button").popup({content:le.getUI("text_add_parameters"),delay:{show:750,hide:0}}),t}function ya(e,t){var n="commands_drag_"+t;Sortable.create(e,{handle:".command_drag",ghostClass:"ghost",animation:300,group:{name:n},onEnd:function(e){var t,n,i=Array.prototype.slice.call($(".all_functions").children());$(e.item).parentsUntil(".all_functions").each((function(e){$(this).hasClass("function_div")&&(t=i.indexOf(this),n=window.program_obj.functions[t])})),ht(n.name,mt.MOVE_COMMAND,$(e.item).data("command").type,"/","from: "+e.oldIndex+" to: "+e.newIndex),e.item,e.to,e.from,e.oldIndex,e.newIndex,window.evento_drag=e;try{!function(){var e,t,n=Array.prototype.slice.call($(".all_functions").children());$(evento_drag.item).parentsUntil(".all_functions").each((function(i){var a=$(this);a.hasClass("function_div")&&(e=n.indexOf(this),t=a)}));var i=[];$(evento_drag.item).parentsUntil(".all_functions").each((function(){$(this).hasClass("command_container")&&i.push(this)})),i.length;for(var a=[],r=[],o=i.length-1;o>=0;o--)if(o==i.length-1)var s=t.find(".command_container").index(i[o]);else $(i[o+1]).hasClass("iftrue")?$(i[o]).parent().hasClass("commands_if")?(r.push("if"),a.push($(i[o]).parent().find(".command_container").index(i[o]))):(r.push("else"),a.push($(i[o]).parent().find(".command_container").index(i[o]))):$(i[o+1]).hasClass("dowhiletrue")?(r.push("dowhiletrue"),a.push($(i[o+1]).find(".command_container").index(i[o]))):$(i[o+1]).hasClass("repeatNtimes")?(r.push("repeatNtimes"),a.push($(i[o+1]).find(".command_container").index(i[o]))):$(i[o+1]).hasClass("whiletrue")?(r.push("whiletrue"),a.push($(i[o+1]).find(".command_container").index(i[o]))):$(i[o+1]).hasClass("switch")&&r.push("switch");var l=$(evento_drag.item).parent().hasClass("commands_else"),c=$(evento_drag.item).parent().hasClass("case_commands_block"),u=window.program_obj.functions[e].commands[s];for(o=0;o<a.length;o++)"else"==r[o]?u=u.commands_else[a[o]]:"switch"==r[o]||(u=u.commands_block[a[o]]);0==i.length?window.program_obj.functions[e].commands.splice(evento_drag.newIndex-1,0,va):l?u.commands_else?u.commands_else.splice(evento_drag.newIndex,0,va):(u.commands_else=[],u.commands_else.push(va)):c||(u.commands_block?u.commands_block.splice(evento_drag.newIndex,0,va):(u.commands_block=[],u.commands_block.push(va))),window.draging=!1,renderAlgorithm()}()}catch(e){console.error(e),window.draging=!1}},onStart:function(e){try{!function(e){window.draging=!0;var t,n,i=Array.prototype.slice.call($(".all_functions").children());$(e.item).parentsUntil(".all_functions").each((function(e){$(this).hasClass("function_div")&&(t=i.indexOf(this),n=window.program_obj.functions[t])})),va=$(e.item).data("command"),$(e.item).parent().hasClass("commands_list_div")?n.commands.indexOf(va)>-1&&n.commands.splice(n.commands.indexOf(va),1):$(e.item).parent().hasClass("commands_else")?$(e.item).parent().data("command").commands_else.indexOf(va)>-1&&$(e.item).parent().data("command").commands_else.splice($(e.item).parent().data("command").commands_else.indexOf(va),1):$(e.item).parent().hasClass("case_commands_block")||$(e.item).parent().data("command").commands_block.indexOf(va)>-1&&$(e.item).parent().data("command").commands_block.splice($(e.item).parent().data("command").commands_block.indexOf(va),1)}(e)}catch(e){window.draging=!1}}}),(e=$(e)).find(".iftrue").each((function(e){ya($(this).find(".block_commands")[0],t),ya($(this).find(".block_commands")[1],t)})),e.find(".repeatNtimes").each((function(e){ya($(this).find(".block_commands")[0],t)})),e.find(".dowhiletrue").each((function(e){ya($(this).find(".block_commands")[0],t)})),e.find(".whiletrue").each((function(e){ya($(this).find(".block_commands")[0],t)})),e.find(".switch").each((function(e){$(this).find(".case_div").each((function(e){ya($(this).find(".case_commands_block")[0],t)}))}))}function xa(){(ua=new ot("ivprog-term-div")).hide(),$(document.getElementById("ivprog-term-div")).draggable(),$(".add_function_button").on("click",(function(){!function(){if(window.program_obj.functions){var e=!1;do{e=!1;var t=le.getUI("new_function")+"_"+aa;window.program_obj.functions.forEach((function(n){t==n.name&&(e=!0)})),e&&aa++}while(e)}var n=new zt(le.getUI("new_function")+"_"+aa,ct.VOID,0,[],!1,!1,[],new qt(le.getUI("text_comment_start")));_a.addFunction(n),aa++,window.insertContext=!0,ht(n.name,mt.INSERT_FUNCTION),ga(n)}()})).popup({content:le.getUI("text_add_function"),delay:{show:750,hide:0}}),$(".add_global_button").on("click",(function(){window.insertContext=!0,function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(e.globals){var n=!1;do{n=!1;var i=le.getUI("new_global")+"_"+Et;e.globals.forEach((function(e){i==e.name&&(n=!0)})),n&&Et++}while(n)}var a=new jt(ct.INTEGER,le.getUI("new_global")+"_"+Et,0);Et++,e.addGlobal(a),ht(a.name,mt.INSERT_GLOBAL_VAR);var r=Rt(a);t&&(r.css("display","none"),r.fadeIn())}(_a,!0)})),$("#run_button").on("click",(function(){document.getElementById("run_button").style.display="none",document.getElementById("stop_button").style.display="inline",function(){if(!pa){var e;if(null!=(e="textual"==settingsProgrammingTypes?ia():Dn())){ka(!0);try{var t=st.analyseFromSource(e);(ca=new rt(t)).registerInput(ua),ca.registerOutput(ua),$("#ivprog-term").addClass("ivprog-term-active"),pa=!0,ca.interpretAST().then((function(e){Ba((function(){return 0==ua.pending_writes.length&&(ca.mode===V.Modes.ABORT?ua.info(le.getMessage("aborted_execution")):ua.info(le.getMessage("success_execution")),$("#ivprog-term").removeClass("ivprog-term-active"),pa=!1,ca=null,Ga(),!0)}),100)})).catch((function(e){Ba((function(){return 0==ua.pending_writes.length&&(e instanceof Error?ua.err(e.message):ua.err(e),$("#ivprog-term").removeClass("ivprog-term-active"),pa=!1,ca=null,Ga(),!0)}),100)}))}catch(e){Ba((function(){return 0==ua.pending_writes.length&&(pa=!1,ca=null,Ga(),ua.err(e.message),console.log(e),!0)}),100)}}}}()})),$("#download_file_button").on("click",(function(){!function(){var e;e=generator();var t=new Date,n=t.toISOString().split("T")[0]+"_"+t.toTimeString().split(" ")[0].replaceAll(":","-"),i=new Blob([e],{type:"text/plain;charset=utf-8"});saveAs(i,"ivprog-exported_"+n+".ivph")}()})),$("#upload_file_button").on("click",(function(){$("#ivph_file").click().off("change").change(Va)})),$("#stop_button").on("click",(function(){Ga(),ua.clearPendingWrites(),ua.cancelPendingInputRequests(),pa&&(ca.mode=V.Modes.ABORT)})),$(".visual_coding_button").on("click",(function(){$(".ivprog_textual_panel").addClass("loading"),$(".ivprog_textual_panel").css("display","none"),$(".ivprog_visual_panel").css("display","block"),$(".textual_coding_button").removeClass("active"),$(".visual_coding_button").addClass("active")})),$(".textual_coding_button").on("click",(function(){var e;e=null,"textual"!=settingsProgrammingTypes&&null==(e=Dn())||($(".ivprog_visual_panel").css("display","none"),$(".ivprog_textual_panel").css("display","block"),$(".ivprog_textual_panel").removeClass("loading"),ta(),null!=e&&na(e),$(".visual_coding_button").removeClass("active"),$(".textual_coding_button").addClass("active"))})),$(".assessment").on("click",(function(){Ea=!0,Ta()})),$(".div_toggle_console").on("click",(function(){ka()})),$(".expand_button").on("click",(function(){full_screen()})),$(".help_button").on("click",(function(){window.open("https://www.usp.br/line/ivprog/","_blank")})),$(".main_title h2").prop("title",le.getUI("text_ivprog_description"));var e=750;$(".visual_coding_button").popup({content:le.getUI("tooltip_visual"),delay:{show:e,hide:0}}),$(".textual_coding_button").popup({content:le.getUI("tooltip_textual"),delay:{show:e,hide:0}}),$(".upload_file_button").popup({content:le.getUI("tooltip_upload"),delay:{show:e,hide:0}}),$(".download_file_button").popup({content:le.getUI("tooltip_download"),delay:{show:e,hide:0}}),$(".undo_button").popup({content:le.getUI("tooltip_undo"),delay:{show:e,hide:0}}),$(".redo_button").popup({content:le.getUI("tooltip_redo"),delay:{show:e,hide:0}}),$(".run_button").popup({content:le.getUI("tooltip_run"),delay:{show:e,hide:0}}),$(".assessment_button").popup({content:le.getUI("tooltip_evaluate"),delay:{show:e,hide:0}}),$(".help_button").popup({content:le.getUI("tooltip_help")+" - "+le.getUI("text_ivprog_version")+" "+oa,delay:{show:e,hide:0}}),$(".add_global_button").popup({content:le.getUI("tooltip_add_global"),delay:{show:e,hide:0}}),$(".div_toggle_console").popup({content:le.getUI("tooltip_console"),delay:{show:e,hide:0}}),Sortable.create(listWithHandle,{handle:".glyphicon-move",animation:100,ghostClass:"ghost",group:"functions_divs_drag",onEnd:function(e){var t,n;t=e.oldIndex,n=e.newIndex,program_obj.functions.splice(n,0,program_obj.functions.splice(t,1)[0])}});var t=document.getElementById("listGlobalsHandle");Sortable.create(t,{handle:".ellipsis",animation:100,ghostClass:"ghost",group:"globals_divs_drag",onEnd:function(e){var t,n;t=e.oldIndex,n=e.newIndex,program_obj.globals.splice(n,0,program_obj.globals.splice(t,1)[0])}})}function ba(e){da=e}function wa(){return JSON.parse(JSON.stringify(da))}window.evento_drag;var Ea=!1;function Ta(){if(pa)return-1;var e;if(Ea=!1,window.studentGrade=null,null==(e="textual"==settingsProgrammingTypes?ia():Dn()))return-1;ka(!0);try{var t=st.analyseFromSource(e);pa=!0,new Qi(t,da,ua).runTest().then((function(e){Ea?Ea=!1:parent.getEvaluationCallback(e),pa=!1})).catch((function(e){console.log(e),pa=!1}))}catch(e){pa=!1,ua.err(e.message),console.log(e),Ea?Ea=!1:parent.getEvaluationCallback(0)}return 0}function ka(e){return e?($(".ivprog-term-div").css("display","block"),$("#ivprog-term").css("min-height","160px"),void(null!=ua&&ua.focus())):void ua.hide()}function Aa(e,t,n){var i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0;ht(e.name,mt.CHANGE_PARAM_TYPE,n,t,i),e.type=t,e.dimensions=i,i>0&&(e.rows=i,e.columns=2)}function Ra(e,t,n){var i="";for(var a in i+='<div class="ui label function_name_parameter pink"><i class="ui icon ellipsis vertical inverted"></i>',t.reference?i+='<input type="checkbox" checked class="by_reference">':i+='<input type="checkbox" class="by_copy">',i+='<div class="ui dropdown parameter_type">',t.dimensions>0?(i+='<div class="text">'+le.getUI("vector")+":"+le.getUI("type_".concat(t.type.toLowerCase())),1==t.dimensions?i+=" [ ] ":i+=" [ ] [ ] ",i+="</div>"):i+='<div class="text">'+le.getUI("type_".concat(t.type.toLowerCase()))+"</div>",i+='<div class="menu">',ct)a!=ct.VOID.toUpperCase()&&(i+='<div class="item '+(t.type==a.toLowerCase()&&0==t.dimensions?" selected ":"")+'" data-type="'+a+'" >'+le.getUI("type_".concat(a.toLowerCase()))+"</div>");for(var r in i+='<div class="item '+(1==t.dimensions?" selected ":"")+'"><i class="dropdown icon"></i>'+le.getUI("vector")+'<div class="menu">',ct)r!=ct.VOID.toUpperCase()&&(i+='<div class="item '+(t.type==r.toLowerCase()&&1==t.dimensions?" selected ":"")+'" data-text="'+le.getUI("vector")+":"+le.getUI("type_".concat(r.toLowerCase()))+' [ ] " data-type="'+r+'" data-dimensions="1"> '+le.getUI("type_".concat(r.toLowerCase()))+"</div>");for(var r in i+="</div></div>",i+='<div class="item '+(2==t.dimensions?" selected ":"")+'"><i class="dropdown icon"></i>'+le.getUI("matrix")+'<div class="menu">',ct)r!=ct.VOID.toUpperCase()&&(i+='<div class="item '+(t.type==r.toLowerCase()&&2==t.dimensions?" selected ":"")+'" data-text="'+le.getUI("matrix")+":"+le.getUI("type_".concat(r.toLowerCase()))+' [ ] " data-type="'+r+'" data-dimensions="2"> '+le.getUI("type_".concat(r.toLowerCase()))+"</div>");return i+="</div></div>",i+="</div></div>",i+='<div class="parameter_div_edit"><span class="span_name_parameter label_enable_name_parameter">'+t.name+"</span></div> ",i+=' <i class="yellow inverted icon times remove_parameter"></i></div>',i=$(i),n.find(".container_parameters_list").append(i),i.find(".remove_parameter").on("click",(function(n){!function(e,t,n){ht(t.name,mt.REMOVE_FUNCTION_PARAM,e.name);var i=e.parameters_list.indexOf(t);i>-1&&(window.insertContext=!0,e.parameters_list.splice(i,1)),$(n).fadeOut()}(e,t,i)})),i.find(".ui.dropdown.parameter_type").dropdown({onChange:function(n,i,a){a.data("dimensions")?Aa(t,ct[a.data("type")],e.name,a.data("dimensions")):Aa(t,ct[a.data("type")],e.name)},selectOnKeydown:!1}),i.find(".parameter_div_edit").on("click",(function(n){ht(e.name,mt.ENTER_CHANGE_PARAM_NAME,t.name),function(e,t,n){var i;Ca?Na.focus():(Ca=!0,(t=$(t)).find(".span_name_parameter").text(""),(i=$("<input type='text' class='width-dynamic input_name_function' autocomplete='off' autocorrect='off' autocapitalize='off' spellcheck='false' value='"+e.name+"' />")).insertBefore(t.find(".span_name_parameter")),i.on("input",(function(){var e=i.textWidth()+10;Na=i,i.focus();var t=i.val();i.val(""),i.val(t),i.css({width:e})})).trigger("input"),i.focusout((function(){i.val().trim()&&(Ia(e,i.val().trim(),t,n),t.find(".span_name_parameter").text(e.name)),i.off(),i.remove(),Ca=!1,Na=!1})),i.on("keydown",(function(a){var r=a.keyCode||a.which;13==r&&(i.val().trim()&&(Ia(e,i.val().trim(),t,n),t.find(".span_name_parameter").text(e.name)),i.off(),i.remove(),Ca=!1,Na=!1),27==r&&(t.find(".span_name_parameter").text(e.name),i.off(),i.remove(),Ca=!1,Na=!1)})),i.select())}(t,i,e)})),i.find("input:checkbox").change((function(){t.reference=this.checked,Mt()})),i.find(".by_reference").popup({content:le.getUI("text_parameter_reference"),delay:{show:750,hide:0}}),i.find(".by_copy").popup({content:le.getUI("text_parameter_copy"),delay:{show:750,hide:0}}),i}function Ia(e,t,n,i){e.name!=t&&(Xe(t)?function(e,t){if(t.parameters_list)for(var n=0;n<t.parameters_list.length;n++)if(t.parameters_list[n].name==e)return!0;if(t.variables_list)for(n=0;n<t.variables_list.length;n++)if(t.variables_list[n].name==e)return!0;return!1}(t,i)?pt(n.find(".parameter_div_edit"),le.getError("inform_valid_param_duplicated",[t,i.name])):(ht(i.name,mt.RENAME_FUNCTION_PARAM,e.name,t),e.name=t):pt(n.find(".parameter_div_edit"),le.getError("inform_valid_identifier")))}function $a(e,t,n){e.name!=t&&(Xe(t)?function(e){for(var t=0;t<window.program_obj.functions.length;t++)if(window.program_obj.functions[t].name==e)return!0;return!1}(t)?pt(n.find(".function_name_div"),le.getError("inform_valid_function_duplicated",[t])):(ht(e.name,mt.RENAME_FUNCTION,t),e.name=t):pt(n.find(".function_name_div"),le.getError("inform_valid_identifier")))}var Ca=!1,Na=null,Oa=!1,La=null,Sa=null;function Ua(e){return la.push(e),la.length-1}function Ma(e){return sa.push(e),sa.length-1}function Fa(e){sa.splice(e,1)}function Da(e){la.splice(e)}function Ba(e,t){var n;n=setInterval((function(){e()&&clearInterval(n)}),t)}function Ga(){document.getElementById("run_button").style.display="inline",document.getElementById("stop_button").style.display="none"}function Va(e){var t=new FileReader;t.readAsText(document.getElementById("ivph_file").files[0]),t.onload=function(e){var t=e.target.result;try{t.indexOf("::algorithm::")>=0||t.indexOf('"test_cases"')>=0?(prepareActivityToStudent(t,!0),console.debug("code="+t.code)):(ivprogCore.setPreviousAlgorithm(t),window.renderAlgorithm())}catch(e){console.log(e)}}}var Pa=ae.default.StringTypes,Ka=Object.freeze({i18n:function(e){var t=e.split(":"),n=t[0].toLowerCase(),i=t[1];return Pa.ERROR===n?le.getError(i):Pa.MESSAGE===n?le.getMessage(i):Pa.UI===n?le.getUI(i):(console.warn("A string has been passed to the i18n helper function that was not in the form type:id -> "+e),le.getString(e,n))}}),ja=ue(),za=function(){function e(t){o()(this,e),this.index=0,this.inputList=t,this.list=[],this.currentLine=null}return l()(e,[{key:"writeRawHTML",value:function(e){this._appendTextLn(e)}},{key:"write",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];this._appendText(e,ot.USER,t)}},{key:"info",value:function(e){this._appendTextLn(e,ot.INFO)}},{key:"err",value:function(e){this._appendTextLn(e,ot.ERR)}},{key:"_appendText",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];null==this.currentLine&&(this.currentLine=this.list.push("")-1),this.list[this.currentLine]+=e,n&&(this.currentLine=null)}},{key:"_appendTextLn",value:function(e){this.list.push(e),this.currentLine=null}},{key:"getClassForType",value:function(e){switch(e){case ot.USER:return"ivprog-term-userText";case ot.INFO:return"ivprog-term-info";case ot.ERR:return"ivprog-term-error"}}},{key:"requestInput",value:function(){var e=this;return new Promise((function(t,n){e.index<e.inputList.length?(t(e.inputList[e.index]),e.index++):n(new Error(ja.getError("exceeded_input_request")))}))}},{key:"sendOutput",value:function(e){var t=this,n=""+e;if(-1!==n.indexOf("\n")){var i=n.split("\n"),a=i.pop();i.forEach((function(e){0==(e=(e=e.replace(/\t/g,"&#x0020;&#x0020;")).replace(/\s/g,"&#x0020;")).length?t.currentLine=null:t.write(e,!0)})),0!=(a=(a=a.replace(/\t/g,"&#x0020;&#x0020;")).replace(/\s/g,"&#x0020;")).length&&this.write(a)}else n=(n=n.replace(/\t/g,"&#x0020;&#x0020;")).replace(/\s/g,"&#x0020;"),this.write(n)}}]),e}(),Ha=n(7218);function qa(e,t){if(0==t)return e==le.getUI("logic_value_true");if(1==t){var n=[];return e.forEach((function(e){n.push(e==le.getUI("logic_value_true"))})),n}return 2==t?(n=[],e.forEach((function(e){var t=[];e.forEach((function(e){t.push(e==le.getUI("logic_value_true"))})),n.push(t)})),n):void 0}function Xa(e){var t=new jt(e.type,e.name,e.value);t.is_constant=e.is_const,t.columns=e.columns,t.dimensions=e.dimension,t.rows=e.rows,"boolean"==e.type&&(t.value=qa(e.value,e.dimension)),window.program_obj.addGlobal(t)}function Wa(e){var t=new jt(e.type,e.name,null,e.dimension,e.is_const,e.rows,e.columns,e.reference);return t.value=e.value,"boolean"==e.type&&e.value&&(t.value=qa(e.value,e.dimension)),t}function Ya(e){var t=new zt(e.name,e.return_type,e.return_dimensions,[],!1,!1,[]);t.name||(t.name=le.getUI("start"),t.is_main=!0),e.parameters_list&&e.parameters_list.forEach((function(e){t.parameters_list.push(Wa(e))})),e.variables_list&&e.variables_list.forEach((function(e){t.variables_list.push(Wa(e))})),window.program_obj.addFunction(t)}function Qa(e){if(e){var t="";return t=e.globals?"#globals="+e.globals.length:"#globals=0",e.functions?t+=", #functions="+e.functions.length:t+=", #functions=0",t}return"Object <empty>"}function Ja(e,t){if(console.log("codeParser.js!parseCommands(.): commands_block="+Qa(e)),Array.isArray(e)){var n=[];return e.forEach((function(e){n.push(Ja(e,t))})),n}switch(e.type){case Ft.reader:return function(e,t){var n=Fn(e.variable,t);return Array.isArray(n)&&n[0]&&(n=n[0]),new Wt(n)}(e,t);case Ft.return:return function(e,t){var n=Fn(e.expression,t);return new sn(n)}(e,t);case Ft.writer:return function(e,t){console.log("./ivprog/js/util/codeParser.js: parseWriter(.): command="+JSON.stringify(e));var n=Fn(e.content,t);return new Yt(n,e.newLine)}(e,t);case Ft.break:return new Xt;case Ft.comment:return i=e,a=new un(ti.only_value,i.comment_text,null,null,!1),console.log("js/util/codeParser.js!parseComment(.): comment_text="+a),a&&null!==a?new qt(a):null;case Ft.attribution:return function(e,t){var n=Fn(e.variable,t),i=Fn(e.expression,t);return Array.isArray(n)&&(n=n[0]),new Qt(n,i)}(e,t);case Ft.functioncall:return function(e,t){var n=[];e.parameters_list&&e.parameters_list.forEach((function(e){var i=Fn(e,t);0===i.content&&(i.content="0"),n.push(i[0])}));var i=function(e){for(var t=0;t<program_obj.functions.length;t++)if(program_obj.functions[t].name==e)return program_obj.functions[t];for(t=0;t<window.system_functions.length;t++){if(e.split(".")[1]&&e.split(".")[1]==window.system_functions[t].identifier)return window.system_functions[t];if(e==window.system_functions[t].identifier)return window.system_functions[t]}}(e.name),a=new un(ti.only_function,null,null,null,!1);return a.function_called=i,a.parameters_list=n,new cn(a,null)}(e,t);case Ft.iftrue:return function(e,t){var n=Fn(e.expression,t),i=Ja(e.ifTrue,t),a=Ja(e.ifFalse,t);return new tn(n,i,a)}(e,t);case Ft.repeatNtimes:return function(e,t){console.log("codeParser.js!parseRepeatNTimes(.): command="+e);var n=Fn(e.var_attribution,t);n=n[0];var i=Fn(e.var_initial,t);i=i[0];var a=Fn(e.condition,t);"minus"==a[0].item?(a=a[1]).content*=-1:a=a[0];var r=Fn(e.step_expression,t),o=Ja(e.commands,t),s="+"==e.step_expression[0].value?Dt.plus:Dt.minus,l=new Zt(Bt.exp_op_exp,[null,s,r[1]]);return console.log("codeParser.js!parseRepeatNTimes(.): expression3="+l),new nn(n,new un(ti.only_variable,null,null,null,!1),i,a,l,o)}(e,t);case Ft.whiletrue:return function(e,t){var n=Fn(e.expression,t),i=Ja(e.commands,t);return new an(n,i)}(e,t);case Ft.dowhiletrue:return function(e,t){var n=Fn(e.expression,t),i=Ja(e.commands,t);return new rn(n,i)}(e,t);case Ft.switch:return function(e,t){var n=Fn(e.expression,t),i=[];return e.cases&&e.cases.forEach((function(e){var n=Fn(e.expression,t),a=Ja(e.commands,t),r=new ln(n[0],a);i.push(r)})),new on(n[0],i)}(e,t)}var i,a;return null}function Za(e){var t,n=arguments.length>1&&void 0!==arguments[1]&&arguments[1],i=null;if(e.split("\n::algorithm::")[1]){i=e.split("\n::algorithm::")[1].split("\n::logs::")[0];var a=e.split("\n::algorithm::")[1].split("\n::logs::")[1];if(null!=a&&0==n)try{wt(a)}catch(e){}}try{(t=JSON.parse(e.split("\n::algorithm::")[0])).algorithm_in_ilm=i}catch(e){return console.error(e),Ha.Maybe.none()}return Ha.Maybe.some(t)}function er(e){return new Map(Object.keys(e).map((function(t){return[t,e[t]]})))}function tr(e){try{var t=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;return console.log("js/util/codeParser.js!parserCodeVisual(.): code_obj has "+Qa(e)),e&&null!==e?(window.conteudo=e,window.program_obj.globals=[],e.globals.forEach(Xa),window.program_obj.functions=[],e.functions.forEach(Ya),window.program_obj.functions.forEach((function(t){e.functions.forEach((function(e){(t.name==e.name||!e.name&&t.name==le.getUI("start"))&&(t.commands=Ja(e.commands,t))}))})),console.log("codeParser.js!parserCodeVisual(.): finished!"),!0):(console.log("js/util/codeParser.js!parserCodeVisual(.): code_obj is empty: "+e),null)}(ivprogCore.parseCode(e));return null==t?(console.log("js/util/iassignHelpers.js!setPreviousAlgorithm(code): returned empty"),null):(console.log("js/util/iassignHelpers.js!setPreviousAlgorithm(code): parserCodeVisual(.) returned: "+t),t)}catch(e){return showInvalidData(),void console.log(e)}}function nr(e){var t;ba(e.test_cases),t=e.settings,ivprogCore.Config.activity_commands=er(t.commands),ivprogCore.Config.activity_functions=er(t.functions),ivprogCore.Config.activity_datatypes=er(t.datatypes),ivprogCore.Config.activity_filter=er(t.filter),ivprogCore.Config.activity_programming_type=er(t.programming),e.code?tr(e.code):e.algorithm&&tr(e.algorithm)}function ir(e){return Za(e,arguments.length>1&&void 0!==arguments[1]&&arguments[1]).map((function(e){return ba(e.testcases),{settingsProgrammingType:e.settings_programming_type?e.settings_programming_type[0].value:"visual",settingsDataTypes:e.settings_data_types,settingsCommands:e.settings_commands,settingsFunctions:e.settings_functions,algorithmInIlm:e.algorithm_in_ilm,settingsFilter:e.settings_filter}}))}function ar(e,t){for(var n=0;n<e.length;++n)if(e[n]!=t[n])return!1;return!0}function rr(e,t){var n=Dn(),i=Za(e).getOrElse(void 0);if(null==i)return alert("iAssign did not provide the original activity data!"),t(null);if(null==n)return t(-1);if(!function(e,t){if(e.length!=t.length)return!1;for(var n=0;n<e.length;++n){var i=e[n],a=t[n];if(!ar(i.input,a.input))return!1;if(!ar(i.output,a.output))return!1}return!0}(i.testcases,wa()))return t(-2);try{var a=st.analyseFromSource(n),r=new za([]);new Qi(a,i.testcases,r).runTest().then((function(e){return t(e)})).catch((function(e){console.log(e),t(-5)}))}catch(e){console.error(e),t(-5)}}function or(e,t){var n;if("undefined"==typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(n=function(e,t){if(e){if("string"==typeof e)return sr(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?sr(e,t):void 0}}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var i=0,a=function(){};return{s:a,n:function(){return i>=e.length?{done:!0}:{done:!1,value:e[i++]}},e:function(e){throw e},f:a}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var r,o=!0,s=!1;return{s:function(){n=e[Symbol.iterator]()},n:function(){var e=n.next();return o=e.done,e},e:function(e){s=!0,r=e},f:function(){try{o||null==n.return||n.return()}finally{if(s)throw r}}}}function sr(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}function lr(){var e=document.querySelector("#folder"),t=["submissionid","file","filesize","timestamp","humandate","grade","userid","exerciseid"];function n(e){return window.program_obj.functions=JSON.parse(e).functions,window.program_obj.globals=JSON.parse(e).globals,window.ivprogCore.generateCode()}function i(e,t){if(!t)return e;var n=t.exerciseid,i=t.userid,a=null;return e.has(n)?a=e.get(n):(a=new Map,e.set(n,a)),a.has(i)?a.get(i).push(t):a.set(i,[t]),e}e.addEventListener("change",b()(y().mark((function a(){var r,o,s,l,c,u,d,p,_,f,m,v;return y().wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return m=function(e){return["TES","DES","grade","D/T","timestamp"].reduce((function(t,n){return t+"".concat(e,"_").concat(n,",")}),"")},f=function(e,t){var n=document.createElement("a");n.setAttribute("href","data:text/plain,"+encodeURIComponent(t)),n.setAttribute("download",e),n.innerHTML=e,n.classList.add("ui","primary","button"),document.querySelector("#downloads").appendChild(n)},r=Array.from(e.files),o=r.find((function(e){return"index.csv"==e.name})),s=o.webkitRelativePath.replace(o.name,""),a.next=7,o.text();case 7:l=a.sent,c=l.split("\n").slice(1).filter((function(e){return e.length>0})).map((function(e){return e.split(",")})).map((function(e){var n={};return e.forEach((function(e,i){return n[t[i]]=e})),n})),u=c.reduce(i,new Map),d=function(){var e=b()(y().mark((function e(t){var n,i,a;return y().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n="".concat(s).concat(t.file),i=r.find((function(e){return e.webkitRelativePath==n})),e.next=4,i.text();case 4:return a=e.sent,e.abrupt("return",a);case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),p={},_=0,u.forEach((function(e,t){var i=[];e.forEach(function(){var e=b()(y().mark((function e(a,r){return y().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a=a.sort((function(e,t){return parseInt(e.timestamp)-parseInt(t.timestamp)})),_++,a.forEach(function(){var e=b()(y().mark((function e(a,o,s){var l,c,u,p,f,m,v,h,g,x;return y().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(_++,(l={}).grade=Math.max(0,parseFloat(a.grade)),l.timestamp=parseInt(a.timestamp),l.student_id=r,l.TES=0,l.DES=0,l["D/T"]=0,c="",!(o>0)){e.next=19;break}return l.TES=parseInt(a.timestamp)-parseInt(s[o-1].timestamp),e.next=13,d(s[o-1]);case 13:if(u=e.sent,1!=(p=window.ivprogCore.prepareActivityToStudentHelper(u).getOrElse(1))){e.next=18;break}return console.error("A submission from ".concat(r," to ").concat(t," is invalid")),e.abrupt("return");case 18:c=n(p.algorithmInIlm);case 19:return e.next=21,d(a);case 21:if(f=e.sent,2!=(m=window.ivprogCore.prepareActivityToStudentHelper(f).getOrElse(2))){e.next=26;break}return console.error("A submission from ".concat(r," to ").concat(t," is invalid")),e.abrupt("return");case 26:v=n(m.algorithmInIlm),""===c&&(h=JSON.parse(f.split("::logs::")[1]),null==(g=h[0])?l.TES=0:4===g.length?l.TES=parseInt(a.timestamp)-Math.floor(parseInt(g[2])/1e3):l.TES=parseInt(a.timestamp)-Math.floor(parseInt(g[1])/1e3)),l.DES=window.ivprogCore.levenshteinDistance(c,v),x=0===l.TES?0:l.DES/l.TES,l["D/T"]=isNaN(x)?0:x,i.push(l),_--;case 33:case"end":return e.stop()}}),e)})));return function(t,n,i){return e.apply(this,arguments)}}()),_--;case 4:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()),p[t]=i})),v=setInterval((function(){if(0==_)for(var e in clearInterval(v),p){var t="",n="student_id,";n+=m(e);var i,a=or(p[e]);try{for(a.s();!(i=a.n()).done;){var r=i.value;t+="".concat(r.student_id,","),t+="".concat(r.TES,","),t+="".concat(r.DES,","),t+="".concat(r.grade,","),t+="".concat(r["D/T"],","),t+="".concat(r.timestamp),t+="\n"}}catch(e){a.e(e)}finally{a.f()}f("".concat(e,".csv"),"".concat(n,"\n").concat(t))}}),1e3);case 15:case"end":return a.stop()}}),a)}))))}function cr(e,t){var n;if("undefined"==typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(n=function(e,t){if(e){if("string"==typeof e)return ur(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?ur(e,t):void 0}}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var i=0,a=function(){};return{s:a,n:function(){return i>=e.length?{done:!0}:{done:!1,value:e[i++]}},e:function(e){throw e},f:a}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var r,o=!0,s=!1;return{s:function(){n=e[Symbol.iterator]()},n:function(){var e=n.next();return o=e.done,e},e:function(e){s=!0,r=e},f:function(){try{o||null==n.return||n.return()}finally{if(s)throw r}}}}function ur(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}var dr={VARIABLE:"var",CONST:"const",FUNCTION:"function",RELATIONAL:"relational",LOGIC:"logic",ARITHMETIC:"arithmetic"};function pr(e,t){switch(e){case dr.ARITHMETIC:case dr.RELATIONAL:return t.value;case dr.LOGIC:return 11===t.ord?"and":12===t.ord?"or":"not"}}function _r(e){switch(e.ord){case 0:case 1:case 2:case 3:case 4:return dr.ARITHMETIC;case 5:case 6:case 7:case 8:case 9:case 10:return dr.RELATIONAL;default:return dr.LOGIC}}function fr(e){var t=e.commands.map(vr),n=e.isDefault?null:br(e.expression);return{type:"switchcase",line:e.sourceInfo.line,expression:n,commands:t}}function mr(e){var t=br(e.condition),n=e.ifTrue.commands.map(vr),i=[];return e.ifFalse&&(i=e.ifFalse instanceof U?e.ifFalse.commands.map(vr):[mr(e.ifFalse)]),{type:"iftrue",expression:t,ifTrue:n,ifFalse:i}}function vr(e){var t,n,i,a,r,o=null;if(e instanceof Ae)o=function(e){var t=e.id;-1!==t.indexOf(".")&&(t=t.split(".")[1]);var n=e.actualParameters.map(br);if("$write"===t){var i=n[n.length-1][0],a=i.value&&null!==i.value.match(/^\n$/);return{type:"writer",newLine:a,content:a?n.slice(0,n.length-1):n}}return"$read"===t?{type:"reader",variable:n[0]}:{type:"functioncall",parameters_list:n,name:e.id}}(e);else if(e instanceof k)o=function(e){var t=null;if(e instanceof A){var n=br(e.line),i="vector",a=null;e.column&&(i="matrix",a=br(e.column)),t=[{instance:"expression",type:dr.VARIABLE,class:i,column:a,line:n,value:e.id}]}else t=[{instance:"expression",type:dr.VARIABLE,value:e.id}];return{type:"attribution",variable:t,expression:br(e.expression)}}(e);else if(e instanceof S)o=mr(e);else if(e instanceof C)a=br((i=e).expression),r=i.commands.map(vr),o={type:i.testFirst?"whiletrue":"dowhiletrue",expression:a,commands:r};else if(e instanceof E)o={type:"break"};else if(e instanceof T)o=function(e){var t=null;return null!==e.expression&&(t=br(e.expression)),{type:"return",expression:t}}(e);else if(e instanceof F)o={type:"switch",expression:br((n=e).expression),cases:n.cases.map(fr)};else{if(!(e instanceof N))throw new Error("not implemented");o={type:"repeatNtimes",var_attribution:br((t=e).for_id),var_initial:br(t.for_from),condition:br(t.for_to),step_expression:t.for_pass?br(t.for_pass):[],commands:t.commands.map(vr)}}return o.line=e.sourceInfo.line,o}function hr(e){var t={name:e.name,line:e.sourceInfo.line,return_type:"",return_dimensions:0,parameters_list:[],variables_list:[],commands:[]};return e.returnType instanceof me.ArrayType?(t.return_type=e.returnType.innerType.value,t.return_dimensions=e.returnType.dimensions):t.return_type=e.returnType.value,t.parameters_list=e.formalParameters.map(gr),t.variables_list=e.variablesDeclarations.map(yr),t.commands=e.commands.map(vr),t}function gr(e){var t={name:e.id,line:e.sourceInfo.line,type:"",rows:0,columns:0,dimension:0,value:0,is_const:!1,reference:e.byRef};return e.type instanceof me.ArrayType?(t.type=e.type.innerType.value,t.dimension=e.type.dimensions):t.type=e.type.value,t}function yr(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n={name:e.id,line:e.sourceInfo.line,type:"",rows:0,columns:0,dimension:0,value:0,is_const:!1};if(n.is_const=t&&e.isConst,e instanceof I){var i=br(e.lines).pop();if(n.type=e.type.innerType.value,e.isVector){n.columns=i.value,n.dimension=1;var a=e.initial.value.map((function(e){return xr(e)}));n.value=a}else{var r=br(e.columns).pop();n.dimension=2,n.rows=i.value,n.columns=r.value;var o=e.initial.value.map((function(e){return e.value.map((function(e){return xr(e)}))}));n.value=o}}else n.type=e.type.value,n.value=xr(e.initial);return n}function xr(e){if(e instanceof Me){var t=xr(e.left);if(_r(e.op)!==dr.ARITHMETIC)throw new Error("invalid variable initial value: "+e.toString());return"".concat(e.op.value).concat(t)}if(e instanceof Ce)return Y(e.value);if(e instanceof Re){var n=e.value;return e.value.toNumber&&(n=O.Types.REAL.isCompatible(e.type)&&0==e.value.decimalPlaces()?Number(e.value.toFixed(2)):e.value.toNumber()),n}throw new Error("invalid variable initial value: "+e.toString())}function br(e){var t;if(e instanceof Se)t=[{instance:"expression",type:dr.VARIABLE,value:e.id}];else if(e instanceof Ae){var n={instance:"expression",type:dr.FUNCTION,value:e.id},i=e.actualParameters.map((function(e){return br(e)}));n.params=i,t=[n]}else if(e instanceof Me){var a=br(e.left),r=_r(e.op);t=[{instance:"operator",type:r,value:pr(r,e.op)}].concat(ge()(a))}else if(e instanceof Ue){var o=br(e.left),s=br(e.right),l=_r(e.op),c=pr(l,e.op);t=[].concat(ge()(o),[{instance:"operator",type:l,value:c}],ge()(s))}else if(e instanceof v){var u=br(e.line),d="vector",p=null;e.column&&(d="matrix",p=br(e.column)),t=[{instance:"expression",type:dr.VARIABLE,class:d,column:p,line:u,value:e.id}]}else if(e instanceof Ce){var _=e.value;t=[{instance:"expression",class:"simple",type:dr.CONST,value:Y(_)}]}else{var f=e.value;e.value.toNumber&&(f=O.Types.REAL.isCompatible(e.type)&&0==e.value.decimalPlaces()?Number(e.value.toFixed(2)):e.value.toNumber()),t=[{instance:"expression",class:"simple",type:dr.CONST,value:f}]}return e.parenthesis?["("].concat(ge()(t),[")"]):t}function wr(e){return br(Pe.createParser(e).parseExpressionOR())}function Er(e){return console.log("js/util/parseFromVisual.js!parseCode(text): can this function be removed? If is it appearing in log, then no..."),function(e){console.log("js/util/parseFromVisual.js!parserCodeVisual(text): starting");for(var t=Pe.createParser(e,!1),n=new Map,i=[],r=0,o=Array.from(t.lexer.reset(e));r<o.length;r++){var s=o[r];if(s.type===t.ruleNames.ERROR)return null;if(s.type!==t.ruleNames.COMMENTS)s.type!==t.ruleNames.WHITESPACE&&i.push(s);else for(var l=0;l<=s.lineBreaks;l++)n.has(l+s.line)?n.get(l+s.line).push(s):n.set(l+s.line,[s])}t.fill(i);try{var c,u=t.parseTree(),d=u.global.map((function(e){return yr(e,!0)})),p=u.functions.map(hr),_=[],f=cr(n.entries());try{for(f.s();!(c=f.n()).done;){var m,v=a()(c.value,2),h=(v[0],cr(v[1]));try{for(h.s();!(m=h.n()).done;){var g=m.value,y=g.text.replace(/^\/\//,"").trim();_.push({type:"comment",comment_text:y,line:g.line})}}catch(e){h.e(e)}finally{h.f()}}}catch(e){f.e(e)}finally{f.f()}var x=u.functions;return p.forEach((function(e,t){var n,i=x[t].sourceInfo.line;n=x[t+1]?x[t+1].sourceInfo.line:1/0;var a=_.filter((function(e){return e.line>i&&e.line<n}));if(a.length>0){var r=[].concat(ge()(e.commands),ge()(a));r.sort((function(e,t){return e.line-t.line})),e.commands=r}})),{globals:d,functions:p}}catch(e){return console.error(e),null}}(e)}var Tr=function(e){u()(a,e);var t,n,i=(t=a,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,i=f()(t);if(n){var a=f()(this).constructor;e=Reflect.construct(i,arguments,a)}else e=i.apply(this,arguments);return p()(this,e)});function a(e){var t;return o()(this,a),(t=i.call(this)).index=0,t.inputList=e,t}return l()(a,[{key:"requestInput",value:function(){var e=this;return new Promise((function(t,n){e.index<e.inputList.length?(t(e.inputList[e.index]),e.index++):n(new Error(le.getError("exceeded_input_request")))}))}}]),a}(Ti);function kr(e,t){var n=t.map((function(e){return Object.assign({},e)}));try{var i=st.analyseFromSource(e),a=t.map((function(e,t){var n=new Tr(e.input),a=new Ai,r=new rt(i);return r.registerInput(n),r.registerOutput(a),r.interpretAST().then((function(e){return{id:t,program:r}}))}));return Promise.all(a).then((function(e){for(var t=0;t<e.length;++t){var i=e[t],a=i.program.output.list,r=i.program.input;if(r.index!=r.inputList.length)return window.showAlert(le.getMessage("testcase_autogen_unused_input",[i.id+1])),Promise.resolve(!1);0==a.length&&window.showAlert(le.getMessage("testcase_autogen_empty",[i.id+1])),n[i.id].output=a}return window.outputGenerated(n),Promise.resolve(!0)}))}catch(e){return Promise.reject(e)}}var Ar={initTextEditor:function(e){var t=e;"#"==e[0]&&(t=e.substring(1)),ea=Zi.fromTextArea(document.getElementById(t),{theme:"ttcn",value:"",mode:"text/x-ivprog",indentUnit:4,lineNumbers:!0,matchBrackets:!0,autoCloseBrackets:!0,fixedGutter:!0,styleActiveLine:!0,readOnly:!0})},setCode:na,getCode:ia,updateEditor:ta,disable:function(e){ea.setOption("readOnly",e),ta()}},Rr={programming:[],functions:[],datatypes:[],commands:[],filter:[]},Ir=Ka.i18n,$r=ue()},8681:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.enLexer=void 0;const i=n(8432);t.enLexer=i.makeLexer({commands:{RK_VOID:"void",RK_PROGRAM:"program",RK_SWITCH:"switch",RK_CASE:"case",RK_DEFAULT:"otherwise",RK_CONST:"const",RK_FUNCTION:"function",RK_RETURN:"return",RK_FOR:"for",RK_FOR_ALT:"repeat_for",RK_FOR_FROM:"from",RK_FOR_TO:"to",RK_FOR_PASS:"pass",RK_BREAK:"break",RK_DO:"repeat",RK_DO_UNTIL:"until",RK_WHILE:"while",RK_WHILE_ALT:"repeat_while",RK_IF:"if",RK_ELSE:"else",RK_REFERENCE:"&"},boolVal:{RK_FALSE:"false",RK_TRUE:"true"},logicOp:{RK_LOGICAL_NOT:"not",RK_LOGICAL_AND:"AND",RK_LOGICAL_OR:"OR"},types:{RK_REAL:"real",RK_INTEGER:"int",RK_BOOLEAN:"bool",RK_CHARACTER:"char",RK_STRING:"string"},langLibs:{$mathLib:"Mathematics",$ioLib:"IO",$strLib:"Text",$arrayLib:"Array",$langLib:"Conversion"},langFuncs:{main_function:"main",$read:"read",$write:"write",$numElements:"total_of_elements",$matrixLines:"total_of_lines",$matrixColumns:"total_of_columns",$substring:"substring",$length:"length",$uppercase:"uppercase",$lowercase:"lowercase",$charAt:"char_at",$isReal:"is_real",$isInt:"is_integer",$isBool:"is_logic",$castReal:"to_real",$castInt:"to_integer",$castBool:"to_logic",$castString:"to_string",$castChar:"to_char",$sin:"sin",$cos:"cos",$tan:"tan",$sqrt:"sqrt",$pow:"pow",$log:"log",$abs:"abs",$negate:"negate",$invert:"invert",$max:"maximum",$min:"minimum",$rand:"random"}})},3661:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.combineRegex=void 0,t.combineRegex=function(e,...t){return new RegExp(e.raw.map(((e,n)=>e+(void 0===t[n]?"":"(?:"+t[n].source+")"))).join(""))}},6853:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const i=n(3129),a=n(8681),r={};r.pt=i.ptLexer,r.en=a.enLexer,t.default=r},8432:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.makeLexer=t.IVProgLexer=void 0;const i=n(9271),a=n(3661);class r{constructor(e,t,n,i){this.RKs=e,this.lexer=t,this.rules=n,this.i18nLexer=i}getReservedKeys(){return this.RKs}getRules(){return this.rules}getTypeKeys(){return this.i18nLexer.types}getLangLibs(){return this.i18nLexer.langLibs}getLangFuncs(){return this.i18nLexer.langFuncs}}t.IVProgLexer=r;const o="[0-9a-fA-F]",s="[0-7]",l=RegExp(`\\\\[0-3]${s}${s}|\\\\${s}${s}|\\\\${s}`),c=RegExp(`\\\\u${o}${o}${o}${o}`),u=a.combineRegex`${/\\[b,t,n,f,r,",',\\]|/}|${c}|${l}`,d=a.combineRegex`${u}|[^"\\\\]`;t.makeLexer=function(e){const t={},n={};Object.entries(e.types).forEach((([e,i])=>{t[e]=i,n[e]=e})),Object.entries(e.boolVal).forEach((([e,i])=>{t[e]=i,n[e]=e})),Object.entries(e.commands).forEach((([e,i])=>{t[e]=i,n[e]=e})),t.RK_LOGICAL_AND=e.logicOp.RK_LOGICAL_AND,t.RK_LOGICAL_OR=e.logicOp.RK_LOGICAL_OR,t.RK_LOGICAL_NOT=e.logicOp.RK_LOGICAL_NOT,n.RK_LOGICAL_AND="RK_LOGICAL_AND",n.RK_LOGICAL_OR="RK_LOGICAL_OR",n.RK_LOGICAL_NOT="RK_LOGICAL_NOT";const s=i.keywords(t),l={COMMENTS:{match:/\/\/[^$]*?$|\/\*[^$]*?\*\//,lineBreaks:!0},OPEN_BRACE:/\[/,CLOSE_BRACE:/\]/,OPEN_PARENTHESIS:/\(/,CLOSE_PARENTHESIS:/\)/,OPEN_CURLY:/\{/,CLOSE_CURLY:/\}/,COMMA:/,/,ASSIGNMENT:/<-|←/,REAL:/[0-9]+\.[0-9]*[eE][+-]?[0-9]+|[0-9]+\.[0-9]+/,INTEGER:RegExp(`(?:0x|0X)${o}+|(?:0b|0B)[0-1]+|[0-9]+`),SUM_OP:/[+-]/,MULTI_OP:/[*/%]/,RELATIONAL_OPERATOR:/>=|==|<=|>|<|!=/,COLON:/:/,STRING:a.combineRegex`"(?:${d})*?"`,CHARACTER:a.combineRegex`'(?:${u}|[^'\\\\])'`,EOS:{match:/;\r?\n?|[\r\n]+/,lineBreaks:!0},WHITESPACE:/(?: |\t)+/,RK_REFERENCE:RegExp(e.commands.RK_REFERENCE),ID:{match:RegExp("[a-zA-Z_][a-zA-Z0-9_]*"),type:s},DOT:/\./,ERROR:{match:/[\$?`]/,error:!0}};Object.entries(l).forEach((([e,t])=>n[e]=e));const c=i.compile(l);return new r(t,c,n,e)}},3129:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ptLexer=void 0;const i=n(8432);t.ptLexer=i.makeLexer({commands:{RK_VOID:"vazio",RK_PROGRAM:"programa",RK_SWITCH:"escolha",RK_CASE:"caso",RK_DEFAULT:"contrario",RK_CONST:"const",RK_FUNCTION:"funcao",RK_RETURN:"devolva",RK_FOR:"para",RK_FOR_ALT:"repita_para",RK_FOR_FROM:"de",RK_FOR_TO:"ate",RK_FOR_PASS:"passo",RK_BREAK:"pare",RK_DO:"repita",RK_DO_UNTIL:"ate_que",RK_WHILE:"enquanto",RK_WHILE_ALT:"repita_enquanto",RK_IF:"se",RK_ELSE:"senao",RK_REFERENCE:"&"},boolVal:{RK_FALSE:"falso",RK_TRUE:"verdadeiro"},logicOp:{RK_LOGICAL_NOT:"nao",RK_LOGICAL_AND:"E",RK_LOGICAL_OR:"OU"},types:{RK_REAL:"real",RK_INTEGER:"inteiro",RK_BOOLEAN:"logico",RK_CHARACTER:"caractere",RK_STRING:"cadeia"},langLibs:{$mathLib:"Matematica",$ioLib:"ES",$strLib:"Texto",$arrayLib:"Arranjo",$langLib:"Conversao"},langFuncs:{main_function:"inicio",$read:"leia",$write:"escreva",$numElements:"total_de_elementos",$matrixLines:"total_de_linhas",$matrixColumns:"total_de_colunas",$substring:"subcadeia",$length:"comprimento",$uppercase:"caixa_alta",$lowercase:"caixa_baixa",$charAt:"caractere_na_posicao",$isReal:"e_real",$isInt:"e_inteiro",$isBool:"e_logico",$castReal:"como_real",$castInt:"como_inteiro",$castBool:"como_logico",$castString:"como_cadeia",$castChar:"como_caractere",$sin:"seno",$cos:"cosseno",$tan:"tangente",$sqrt:"raiz_quadrada",$pow:"potencia",$log:"logaritmo",$abs:"modulo",$negate:"trocar_sinal",$invert:"inverter_valor",$max:"maximo",$min:"minimo",$rand:"numero_aleatorio"}})},957:(e,t,n)=>{"use strict";const i=n(7597),a=n(7548),r=n(6186),o={};for(const e in a){const t={};t.error=r[e],t.message=i[e],t.ui=a[e],o[e]=t}t.Z=o},437:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.convertFromString=t.Operators=void 0,t.Operators=Object.freeze({ADD:{ord:0,value:"+"},SUB:{ord:1,value:"-"},MULT:{ord:2,value:"*"},DIV:{ord:3,value:"/"},MOD:{ord:4,value:"%"},GT:{ord:5,value:">"},GE:{ord:6,value:">="},LT:{ord:7,value:"<"},LE:{ord:8,value:"<="},EQ:{ord:9,value:"=="},NEQ:{ord:10,value:"!="},AND:{ord:11,value:"and"},OR:{ord:12,value:"or"},NOT:{ord:13,value:"not"}}),t.convertFromString=function(e){switch(e){case"+":return t.Operators.ADD;case"-":return t.Operators.SUB;case"*":return t.Operators.MULT;case"/":return t.Operators.DIV;case"%":return t.Operators.MOD;case">":return t.Operators.GT;case">=":return t.Operators.GE;case"<":return t.Operators.LT;case"<=":return t.Operators.LE;case"==":return t.Operators.EQ;case"!=":return t.Operators.NEQ;case"and":return t.Operators.AND;case"or":return t.Operators.OR;case"not":return t.Operators.NOT}return null}},8838:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Address=void 0,t.Address=class{constructor(e,t){this.id=e,this.value=t}}},6618:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Location=void 0;const i=n(8838),a=new class{constructor(){this.data=[],this.address_id=0}allocate(e){const t=this.address_id,n=new i.Address(t,e);return this.data.push(n),this.address_id+=1,t}deallocate(e){const t=this.findIndex(e);return-1!==t&&(this.data.splice(t,1),!0)}find(e){let t=0,n=this.data.length;for(;t<n;){const i=Math.floor((t+n)/2),a=this.getAddressAt(i);if(a.id===e)return a;e>a.id?t=i:n=i}}getAddressAt(e){return this.data[e]}findIndex(e){let t=0,n=this.data.length;for(;t<n;){const i=Math.floor((t+n)/2),a=this.getAddressAt(i);if(a.id===e)return i;e>a.id?t=i:n=i}return-1}updateAddress(e,t){const n=this.findIndex(e);if(-1===n)throw new Error("Invalid address..."+e);this.data[n].value=t}clear(){for(let e=0;e<this.data.length;e+=1)delete this.data[e];this.data=[],this.address_id=0}};t.Location=Object.freeze({allocate:a.allocate.bind(a),deallocate:a.deallocate.bind(a),find:a.find.bind(a),updateAddress:a.updateAddress.bind(a),clear:a.clear.bind(a),size:()=>a.data.length})},7286:(e,t,n)=>{"use strict";t.Q7=t.h9=void 0;const i=n(1549),a=n(437),r=n(3744),o=n(113);function s(){const e=[[],[]];return e[i.Types.INTEGER.ord][i.Types.INTEGER.ord]=i.Types.INTEGER,e[i.Types.INTEGER.ord][i.Types.REAL.ord]=i.Types.REAL,e[i.Types.REAL.ord][i.Types.INTEGER.ord]=i.Types.REAL,e[i.Types.REAL.ord][i.Types.REAL.ord]=i.Types.REAL,e}function l(){const e=[[],[],[],[],[]];return e[i.Types.INTEGER.ord][i.Types.INTEGER.ord]=i.Types.BOOLEAN,e[i.Types.REAL.ord][i.Types.REAL.ord]=i.Types.BOOLEAN,e[i.Types.BOOLEAN.ord][i.Types.BOOLEAN.ord]=i.Types.BOOLEAN,e[i.Types.STRING.ord][i.Types.STRING.ord]=i.Types.BOOLEAN,e[i.Types.CHAR.ord][i.Types.CHAR.ord]=i.Types.BOOLEAN,e}function c(){const e=[[],[],[],[],[]];return e[i.Types.INTEGER.ord][i.Types.INTEGER.ord]=i.Types.BOOLEAN,e[i.Types.REAL.ord][i.Types.REAL.ord]=i.Types.BOOLEAN,e[i.Types.STRING.ord][i.Types.STRING.ord]=i.Types.BOOLEAN,e[i.Types.CHAR.ord][i.Types.CHAR.ord]=i.Types.BOOLEAN,e}function u(){const e=[[],[],[],[]];return e[i.Types.BOOLEAN.ord][i.Types.BOOLEAN.ord]=i.Types.BOOLEAN,e}function d(){const e=[];return e[i.Types.INTEGER.ord]=i.Types.INTEGER,e[i.Types.REAL.ord]=i.Types.REAL,e}const p=function(){const e=new WeakMap;return e.set(a.Operators.ADD,function(){const e=[[],[],[],[],[]];return e[i.Types.INTEGER.ord][i.Types.INTEGER.ord]=i.Types.INTEGER,e[i.Types.INTEGER.ord][i.Types.REAL.ord]=i.Types.REAL,e[i.Types.INTEGER.ord][i.Types.STRING.ord]=i.Types.STRING,e[i.Types.REAL.ord][i.Types.INTEGER.ord]=i.Types.REAL,e[i.Types.REAL.ord][i.Types.REAL.ord]=i.Types.REAL,e[i.Types.REAL.ord][i.Types.STRING.ord]=i.Types.STRING,e[i.Types.STRING.ord][i.Types.INTEGER.ord]=i.Types.STRING,e[i.Types.STRING.ord][i.Types.REAL.ord]=i.Types.STRING,e[i.Types.STRING.ord][i.Types.STRING.ord]=i.Types.STRING,e[i.Types.STRING.ord][i.Types.BOOLEAN.ord]=i.Types.STRING,e[i.Types.STRING.ord][i.Types.CHAR.ord]=i.Types.STRING,e[i.Types.CHAR.ord][i.Types.CHAR.ord]=i.Types.STRING,e[i.Types.CHAR.ord][i.Types.STRING.ord]=i.Types.STRING,e}()),e.set(a.Operators.SUB,s()),e.set(a.Operators.MULT,s()),e.set(a.Operators.DIV,s()),e.set(a.Operators.EQ,l()),e.set(a.Operators.NEQ,l()),e.set(a.Operators.GE,c()),e.set(a.Operators.GT,c()),e.set(a.Operators.LE,c()),e.set(a.Operators.LT,c()),e.set(a.Operators.OR,u()),e.set(a.Operators.AND,u()),e.set(a.Operators.MOD,function(){const e=[[]];return e[i.Types.INTEGER.ord][i.Types.INTEGER.ord]=i.Types.INTEGER,e}()),e}(),_=function(){const e=new WeakMap;return e.set(a.Operators.ADD,d()),e.set(a.Operators.SUB,d()),e.set(a.Operators.NOT,function(){const e=[];return e[i.Types.BOOLEAN.ord]=i.Types.BOOLEAN,e}()),e}();t.h9=function e(t,n,s){try{if(n instanceof r.MultiType&&s instanceof r.MultiType){let a=[];for(let i=0;i<n.types.length;++i){const r=n.types[i];for(let n=0;n<s.types.length;++i){const i=s.types[n];a.push(e(t,r,i))}}return a=a.filter((e=>!e.isCompatible(i.Types.UNDEFINED))),a.length<=0?o.Config.enable_type_casting&&(n.isCompatible(i.Types.INTEGER)||n.isCompatible(i.Types.REAL))&&(s.isCompatible(i.Types.INTEGER)||s.isCompatible(i.Types.REAL))?new r.MultiType([i.Types.INTEGER,i.Types.REAL]):i.Types.UNDEFINED:new r.MultiType(a)}if(n instanceof r.MultiType)return n.isCompatible(s)?e(t,s,s):o.Config.enable_type_casting&&(n.isCompatible(i.Types.INTEGER)||n.isCompatible(i.Types.REAL))&&(s.isCompatible(i.Types.INTEGER)||s.isCompatible(i.Types.REAL))?s:i.Types.UNDEFINED;if(s instanceof r.MultiType)return s.isCompatible(n)?e(t,n,n):o.Config.enable_type_casting&&(n.isCompatible(i.Types.INTEGER)||n.isCompatible(i.Types.REAL))&&(s.isCompatible(i.Types.INTEGER)||s.isCompatible(i.Types.REAL))?n:i.Types.UNDEFINED;const l=(p.get(t)||[])[n.ord][s.ord];if(null==l){if(o.Config.enable_type_casting&&(n.isCompatible(i.Types.INTEGER)||n.isCompatible(i.Types.REAL))&&(s.isCompatible(i.Types.INTEGER)||s.isCompatible(i.Types.REAL))){if(t===a.Operators.MOD)return i.Types.INTEGER;if(t.ord>=5&&t.ord<=10)return i.Types.BOOLEAN}return i.Types.UNDEFINED}return l}catch(e){if(e instanceof TypeError)return i.Types.UNDEFINED;throw e}},t.Q7=function e(t,n){try{if(n instanceof r.MultiType){let a=[];for(let i=0;i<n.types.length;++i){const r=n.types[i];a.push(e(t,r))}return a=a.filter((e=>!e.isCompatible(i.Types.UNDEFINED))),a.length<=0?i.Types.UNDEFINED:new r.MultiType(a)}const a=(_.get(t)||[])[n.ord];return null==a?i.Types.UNDEFINED:a}catch(e){if(e instanceof TypeError)return i.Types.UNDEFINED;throw e}}},9902:(e,t)=>{"use strict";t._=void 0,t._=Object.freeze({BASE:Symbol("context:base"),BREAKABLE:Symbol("context:breakable"),FUNCTION:Symbol("context:function")})},8806:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Modes=void 0,t.Modes=Object.freeze({RETURN:Symbol("mode:return"),BREAK:Symbol("mode:break"),PAUSE:Symbol("mode:pause"),RUN:Symbol("mode:run"),ABORT:Symbol("mode:abort")})},6753:(e,t,n)=>{"use strict";t.y=void 0;const i=n(8806),a=n(1549),r=n(5836),o=n(7522),s=n(2141),l=n(5206),c=n(6618),u=n(6069),d=n(4019),p=n(153),_=n(5019),f=n(8116),m=n(4483);class v{constructor(e){this.name=e,this.store=new Map,this.mode=i.Modes.RUN}static canImplicitTypeCast(e,t){return!(!e.isCompatible(a.Types.INTEGER)&&!e.isCompatible(a.Types.REAL)||!t.isCompatible(a.Types.INTEGER)&&!t.isCompatible(a.Types.REAL))}static doImplicitCasting(e,t){if(!v.canImplicitTypeCast(e,t.type))throw new Error("!!!Critical error: attempted to type cast invalid types");return e.isCompatible(a.Types.INTEGER)?new d.StoreValue(a.Types.INTEGER,t.get().trunc()):new d.StoreValue(a.Types.REAL,t.get())}extendStore(e){this.nextStore=e}applyStore(e){if(!this.store.has(e)){if(null!=this.nextStore)return this.nextStore.applyStore(e);throw new Error(`Variable ${e} not found.`)}const t=this.store.get(e);let n=null;if(t.type instanceof s.ArrayType){const e=t,i=e.type;let a=0,r=0;const o=e.value.map((t=>e.isVector?new p.StoreValueAddress(i.innerType,t,a++,void 0,e.id,e.readOnly):(r>=e.columns&&(r=0,a+=1),new p.StoreValueAddress(i.innerType,t,a,r++,e.id,e.readOnly))));n=new l.ArrayStoreValue(i,o,e.lines,e.columns,t.id,t.readOnly)}else n=new d.StoreValue(t.type,t.value,t.id,t.readOnly);return n}updateStore(e,t){if(this.store.has(e)){const n=this.store.get(e);if(n.readOnly)throw new Error("Cannot change value of a read only variable: "+e);if(n instanceof u.StoreObjectArray){const e=t;if(n.isCompatible(e)){if(n.isVector)e.get().forEach(((e,t)=>{n.setAt(e,t,void 0)}));else{let t=0,i=0;e.get().forEach((e=>{n.setAt(e,t,i),i+=1,i>=n.columns&&(t+=1,i=0)}))}return this}}else if(n.isCompatible(t)){const e=n.locAddress;return c.Location.updateAddress(e,t.get()),this}const i=n.type,a=t.type;throw new Error(`${i.value} is not compatible with type ${a.value} given`)}if(null!=this.nextStore)return this.nextStore.updateStore(e,t),this;throw new Error(`Variable ${e} not found.`)}updateStoreArray(e,t,n,i){if(this.store.has(e)){const a=this.store.get(e);if(a.readOnly)throw new Error("Cannot change value of a read only variable: "+e);if(!(a instanceof u.StoreObjectArray))throw new Error("Cannot update a non-array variable using updateStoreArray");if(t instanceof l.ArrayStoreValue){const r=t.get();if(a.isVector&&t.isVector())for(let e=0;e<t.lines;e+=1){const t=r[e];a.setAt(t,e,void 0)}else{if(a.isVector||null!=i||!t.isVector())throw new Error(`Attempting to assign an invalid value to array ${e}`);for(let e=0;e<a.columns;e+=1){const t=r[e];a.setAt(t,n,e)}}}else{if(!a.isVector&&null==i)throw new Error(`Attempting to assign an invalid value to array ${e}`);a.setAt(t,n,i)}return this}if(null!=this.nextStore)return this.nextStore.updateStoreArray(e,t,n,i),this;throw new Error(`Variable ${e} not found.`)}insertStore(e,t){if(this.store.has(e))throw new Error(`${e} is already defined`);let n;if(t instanceof _.StoreValueRef)n=new o.StoreObjectRef(t);else if(t instanceof f.ArrayStoreValueRef)n=new m.StoreObjectArrayRef(t,t.lines,t.columns);else if(t instanceof l.ArrayStoreValue){const e=t.isVector()?0:t.columns,i=[],a=t.get();if(a.length>0)for(let e=0;e<t.get().length;e+=1){const t=a[e].get();i.push(c.Location.allocate(t))}else{let n=t.lines;n=t.isVector()?n:n*e;for(let e=0;e<n;e+=1)i.push(c.Location.allocate(null))}n=new u.StoreObjectArray(t.type,t.lines,e,i,t.isConst)}else{const e=c.Location.allocate(t.get());n=new r.StoreObject(t.type,e,t.isConst)}return n.setID(e),this.store.set(e,n),this}getStoreObject(e){if(!this.store.has(e)){if(null!=this.nextStore)return this.nextStore.getStoreObject(e);throw new Error(`Variable ${e} not found.`)}return this.store.get(e)}destroy(){this.store.forEach((e=>e.destroy()),this)}isDefined(e){return!!this.store.has(e)||null!=this.nextStore&&this.nextStore.isDefined(e)}}t.y=v},5836:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.StoreObject=void 0;const i=n(6618);t.StoreObject=class{constructor(e,t,n=!1){this._loc_address=t,this._type=e,this._readOnly=n,this._id=void 0}setID(e){this._id=e}get id(){return this._id}get inStore(){return null!==this.id}get type(){return this._type}get value(){const e=i.Location.find(this._loc_address);if(null!=e)return e.value;throw new Error("!!!Critical Error: variable "+this.id+" does not have a valid address. Loc-Address "+this.locAddress)}get number(){throw new Error("DOT NOT USE THIS PROPERTY!")}get readOnly(){return this._readOnly}set readOnly(e){this._readOnly=e}isCompatible(e){return this.type.isCompatible(e.type)}destroy(){return i.Location.deallocate(this._loc_address)}get locAddress(){return this._loc_address}}},6069:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.StoreObjectArray=void 0;const i=n(5836),a=n(5206),r=n(6618);class o extends i.StoreObject{constructor(e,t,n,i,a=!1){super(e,-1,a),this._lines=t,this._columns=n,this.loc_addresses=i}get lines(){return this._lines}get columns(){return this._columns}isCompatible(e){if(e instanceof a.ArrayStoreValue){const t=null==e.columns?0:e.columns;if(this.lines===e.lines&&this.columns===t)return super.isCompatible(e)}return!1}get isVector(){return 1===this.type.dimensions}get value(){const e=[];for(let t=0;t<this.addresses.length;t+=1){const n=r.Location.find(this.addresses[t]);if(null==n)throw new Error("!!!Critical Error: variable "+this.id+" does not have a valid address. Loc-Address "+this.locAddress);e.push(n.value)}return e}destroy(){let e=!0;for(let t=0;t<this.addresses.length;t+=1)e=e&&r.Location.deallocate(this.addresses[t]);return e}get locAddress(){throw new Error("!!!Internal Error: Cannot invoke locAddress on StoreObjectArray")}get addresses(){return this.loc_addresses}getAt(e,t){if(this.isVector){if(null!=t)throw new Error(this.id+" is not a matrix!");t=e,e=0}else if(null==t){const t=[];for(let n=0;n<this.columns;n+=1){const i=this.getIndexOf(e,n),a=r.Location.find(this.addresses[i]);t.push(a.value)}return t}const n=this.getIndexOf(e,t);return r.Location.find(this.addresses[n]).value}setAt(e,t,n){let i=1;if(null!=n&&(i+=1),!this.type.canAccept(e.type,i))throw new Error("!!!Internal Error: Attempting to insert an invalid value inside array "+this.id);if(this.isVector){if(null!=n)throw new Error(this.id+" is not a matrix!");n=t,t=0}else if(null==n)throw new Error("!!!Internal Error: Attempting to insert a line into matrix "+this.id);const a=this.getIndexOf(t,n);r.Location.updateAddress(this.addresses[a],e.get())}getIndexOf(e,t){return e*this.columns+t}getLocAddressOf(e,t){if(this.isVector){if(null!=t)throw new Error(this.id+" is not a matrix!");t=e,e=0}else if(null==t){const t=[];for(let n=0;n<this.columns;n+=1){const i=this.getIndexOf(e,n);t.push(this.addresses[i])}return t}const n=this.getIndexOf(e,t);return this.addresses[n]}}t.StoreObjectArray=o},7522:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.StoreObjectRef=void 0;const i=n(5836);class a extends i.StoreObject{constructor(e){super(e.type,e.getRefAddress(),!1),this.refObj=e.id,this.reference_dimension=e.getReferenceDimension()}get isRef(){return!0}getRefObj(){return this.refObj}getReferenceDimension(){return this.reference_dimension}destroy(){return!1}}t.StoreObjectRef=a},4483:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.StoreObjectArrayRef=void 0;const i=n(6069);class a extends i.StoreObjectArray{constructor(e,t,n){super(e.type,t,n,e.getAddresses(),!1),this.refObj=e.id}get isRef(){return!0}getRefObj(){return this.refObj}destroy(){return!1}}t.StoreObjectArrayRef=a},5206:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ArrayStoreValue=void 0;const i=n(2141),a=n(153);class r{constructor(e,t,n,i,a,r=!1){this.type=e,this.id=a,this.isConst=r,this.values=t,this.lines=n,this.columns=i}get(){return this.values}getAt(e,t){if(console.log("Column ",t),this.isVector()){if(null!=t)throw new Error(this.id+" is not a matrix!");t=e,e=0}else if(null==t){const t=[];for(let n=0;n<this.columns;n+=1){const i=e*this.lines+n;t.push(this.values[i])}const n=this.type,a=new i.ArrayType(n.innerType,n.dimensions-1);return new r(a,t,this.columns,0,this.id,this.isConst)}const n=e*this.lines+t;return console.log("Get at: ",n),this.values[n]}setAt(e,t,n){let i=1;null!=n&&(i+=1);let o=t,s=n;if(!this.type.canAccept(e.type,i))throw new Error("!!!Internal Error: Attempting to insert an invalid value inside array "+this.id);if(this.isVector()){if(null!=n)throw new Error(this.id+" is not a matrix!");s=o,o=0}else if(null==n){if(!(e instanceof r))throw new Error("Attempting to insert a single value as a line of matrix "+this.id);const t=e.get();for(let n=0;n<this.columns;n+=1){const i=o*this.columns+n,r=t[n];this.values[i]=new a.StoreValueAddress(e.type,r.get(),o,n,this.id,this.isConst)}}const l=o*(null==this.columns?0:this.columns)+s;this.values[l]=new a.StoreValueAddress(e.type,e.get(),t,n,this.id,this.isConst)}inStore(){return null!=this.id}isVector(){return 1==this.type.dimensions}}t.ArrayStoreValue=r},8116:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ArrayStoreValueRef=void 0,t.ArrayStoreValueRef=class{constructor(e,t,n,i,a,r){this.type=e,this.values=t,this.addresses=n,this.lines=i,this.columns=a,this.id=r,this.isConst=!1}get(){return this.values}getAddresses(){return this.addresses}inStore(){return null!=this.id}}},4019:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.StoreValue=void 0,t.StoreValue=class{constructor(e,t,n,i=!1){this.type=e,this.id=n,this.isConst=i,this.value=t}get(){return this.value}inStore(){return null!=this.id}}},153:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.StoreValueAddress=void 0;const i=n(4019);class a extends i.StoreValue{constructor(e,t,n,i,a,r=!1){super(e,t,a,r),this.line=n,this.column=i}}t.StoreValueAddress=a},5019:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.StoreValueRef=void 0,t.StoreValueRef=class{constructor(e,t,n,i){this.type=e,this.value=t,this.loc_address=n,this.id=i,this.isConst=!1,this.reference_dimesion=0}get(){return this.value}getRefAddress(){return this.loc_address}inStore(){return null!=this.id}getReferenceDimension(){return this.reference_dimesion}setReferenceDimension(e){this.reference_dimesion=e}}},6737:(e,t,n)=>{"use strict";t.T=void 0;const i=n(6853),a=n(9943),r=n(113);class o extends a.default.LanguageServiceNoLS{constructor(){super("undefined"==typeof iLMparameters?r.Config.default_lang:iLMparameters.lang)}getDefaultLang(){return"en"}getCurrentLexer(){const e=i.default[this.getLang()];return null==e?i.default[this.getDefaultLang()]:e}getCurrentLangFuncs(){const e=i.default[this.getLang()];return null==e?i.default[this.getDefaultLang()].getLangFuncs():e.getLangFuncs()}getCurrentLangLibs(){const e=i.default[this.getLang()];return null==e?i.default[this.getDefaultLang()].getLangLibs():e.getLangLibs()}}t.T=new o},2141:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ArrayType=void 0;class n{constructor(e,t){this.dimensions=t,this.innerType=e}get isVector(){return 1==this.dimensions}isCompatible(e){return e instanceof n&&this.dimensions===e.dimensions&&this.innerType.isCompatible(e.innerType)}stringInfo(){const e=this.innerType.stringInfo();return e.forEach((e=>{e.dim=this.dimensions})),e}get value(){}get ord(){}canAccept(e,t){const i=this.dimensions-t;return e instanceof n?i==e.dimensions&&this.innerType.isCompatible(e.innerType):0==i&&this.innerType.isCompatible(e)}}t.ArrayType=n},3744:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.MultiType=void 0,t.MultiType=class{constructor(e){this.types=e}get value(){}get ord(){}stringInfo(){let e=[];for(let t=0;t<this.types.length;t++){const n=this.types[t];e=e.concat(n.stringInfo())}return e}isCompatible(e){for(let t=0;t<this.types.length;t++){const n=this.types[t];if(e.isCompatible(n))return!0}return!1}}},6485:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Type=void 0,t.Type=class{constructor(e,t){this.value=e,this.ord=t}stringInfo(){return[{type:this.value,dim:0}]}isCompatible(e){return this.value===e.value&&this.ord===e.ord}}},1549:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.fromOrdToType=t.Types=void 0;const i=n(6485),a=n(3744),r=n(7218),o=new i.Type("integer",0),s=new i.Type("real",1),l=new i.Type("text",2),c=new i.Type("boolean",3),u=new i.Type("char",4),d=new i.Type("void",5),p=new i.Type("undefined",6),_=new a.MultiType([o,s,l,u,c]);t.Types=Object.freeze({INTEGER:o,REAL:s,STRING:l,CHAR:u,BOOLEAN:c,VOID:d,UNDEFINED:p,ALL:_}),t.fromOrdToType=function(e){const n=t.Types;for(const t in n)if(n[t].ord&&n[t].ord===e)return r.Maybe.some(n[t]);return r.Maybe.none()}},113:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Config=void 0;const n=new class{constructor(){this.decimalPlaces=8,this.intConvertRoundMode=2,this.default_lang="pt",this.enable_type_casting=!0,this.idle_input_interval=5e3,this.suspend_threshold=1e3,this.max_instruction_count=Number.MAX_SAFE_INTEGER,this.activity_programming_type=new Map,this.activity_functions=new Map,this.activity_datatypes=new Map,this.activity_commands=new Map,this.activity_filter=new Map}setConfig(e){const t=e;for(const e in t)Object.prototype.hasOwnProperty.call(this,e)&&(this[e]=t[e])}};t.Config=n},7218:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Maybe=void 0;class n{constructor(e){this.value=e}static some(e){if(!e)throw Error("Provided value must not be empty");return new n(e)}static none(){return new n(null)}static fromValue(e){return e?n.some(e):n.none()}getOrElse(e){return null===this.value?e:this.value}map(e){return null===this.value?n.none():n.fromValue(e(this.value))}}t.Maybe=n}},n={};function i(e){var a=n[e];if(void 0!==a)return a.exports;var r=n[e]={exports:{}};return t[e].call(r.exports,r,r.exports,i),r.exports}i.m=t,e=[],i.O=(t,n,a,r)=>{if(!n){var o=1/0;for(u=0;u<e.length;u++){for(var[n,a,r]=e[u],s=!0,l=0;l<n.length;l++)(!1&r||o>=r)&&Object.keys(i.O).every((e=>i.O[e](n[l])))?n.splice(l--,1):(s=!1,r<o&&(o=r));if(s){e.splice(u--,1);var c=a();void 0!==c&&(t=c)}}return t}r=r||0;for(var u=e.length;u>0&&e[u-1][2]>r;u--)e[u]=e[u-1];e[u]=[n,a,r]},i.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return i.d(t,{a:t}),t},i.d=(e,t)=>{for(var n in t)i.o(t,n)&&!i.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},i.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),i.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},(()=>{var e={179:0};i.O.j=t=>0===e[t];var t=(t,n)=>{var a,r,[o,s,l]=n,c=0;if(o.some((t=>0!==e[t]))){for(a in s)i.o(s,a)&&(i.m[a]=s[a]);if(l)var u=l(i)}for(t&&t(n);c<o.length;c++)r=o[c],i.o(e,r)&&e[r]&&e[r][0](),e[r]=0;return i.O(u)},n=self.webpackChunkivprogCore=self.webpackChunkivprogCore||[];n.forEach(t.bind(null,0)),n.push=t.bind(null,n.push.bind(n))})();var a=i.O(void 0,[826],(()=>i(9240)));return i.O(a)})()));
//# sourceMappingURL=main.ccbb3bd95b353b9ca3ba.js.map